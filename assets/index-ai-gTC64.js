(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function yd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),r}var wc={exports:{}},eo={},xc={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function vx(){if(Bp)return Me;Bp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function j(P,N,Z){this.props=P,this.context=N,this.refs=C,this.updater=Z||x}j.prototype.isReactComponent={},j.prototype.setState=function(P,N){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,N,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function E(){}E.prototype=j.prototype;function $(P,N,Z){this.props=P,this.context=N,this.refs=C,this.updater=Z||x}var D=$.prototype=new E;D.constructor=$,k(D,j.prototype),D.isPureReactComponent=!0;var U=Array.isArray,_=Object.prototype.hasOwnProperty,z={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function K(P,N,Z){var oe,ee={},G=null,ae=null;if(N!=null)for(oe in N.ref!==void 0&&(ae=N.ref),N.key!==void 0&&(G=""+N.key),N)_.call(N,oe)&&!Q.hasOwnProperty(oe)&&(ee[oe]=N[oe]);var ie=arguments.length-2;if(ie===1)ee.children=Z;else if(1<ie){for(var se=Array(ie),Te=0;Te<ie;Te++)se[Te]=arguments[Te+2];ee.children=se}if(P&&P.defaultProps)for(oe in ie=P.defaultProps,ie)ee[oe]===void 0&&(ee[oe]=ie[oe]);return{$$typeof:t,type:P,key:G,ref:ae,props:ee,_owner:z.current}}function ne(P,N){return{$$typeof:t,type:P.type,key:N,ref:P.ref,props:P.props,_owner:P._owner}}function ce(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function ve(P){var N={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Z){return N[Z]})}var Ee=/\/+/g;function Oe(P,N){return typeof P=="object"&&P!==null&&P.key!=null?ve(""+P.key):N.toString(36)}function be(P,N,Z,oe,ee){var G=typeof P;(G==="undefined"||G==="boolean")&&(P=null);var ae=!1;if(P===null)ae=!0;else switch(G){case"string":case"number":ae=!0;break;case"object":switch(P.$$typeof){case t:case e:ae=!0}}if(ae)return ae=P,ee=ee(ae),P=oe===""?"."+Oe(ae,0):oe,U(ee)?(Z="",P!=null&&(Z=P.replace(Ee,"$&/")+"/"),be(ee,N,Z,"",function(Te){return Te})):ee!=null&&(ce(ee)&&(ee=ne(ee,Z+(!ee.key||ae&&ae.key===ee.key?"":(""+ee.key).replace(Ee,"$&/")+"/")+P)),N.push(ee)),1;if(ae=0,oe=oe===""?".":oe+":",U(P))for(var ie=0;ie<P.length;ie++){G=P[ie];var se=oe+Oe(G,ie);ae+=be(G,N,Z,se,ee)}else if(se=w(P),typeof se=="function")for(P=se.call(P),ie=0;!(G=P.next()).done;)G=G.value,se=oe+Oe(G,ie++),ae+=be(G,N,Z,se,ee);else if(G==="object")throw N=String(P),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return ae}function je(P,N,Z){if(P==null)return P;var oe=[],ee=0;return be(P,oe,"","",function(G){return N.call(Z,G,ee++)}),oe}function Ie(P){if(P._status===-1){var N=P._result;N=N(),N.then(function(Z){(P._status===0||P._status===-1)&&(P._status=1,P._result=Z)},function(Z){(P._status===0||P._status===-1)&&(P._status=2,P._result=Z)}),P._status===-1&&(P._status=0,P._result=N)}if(P._status===1)return P._result.default;throw P._result}var we={current:null},O={transition:null},M={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:O,ReactCurrentOwner:z};function B(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:je,forEach:function(P,N,Z){je(P,function(){N.apply(this,arguments)},Z)},count:function(P){var N=0;return je(P,function(){N++}),N},toArray:function(P){return je(P,function(N){return N})||[]},only:function(P){if(!ce(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Me.Component=j,Me.Fragment=r,Me.Profiler=o,Me.PureComponent=$,Me.StrictMode=i,Me.Suspense=f,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,Me.act=B,Me.cloneElement=function(P,N,Z){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var oe=k({},P.props),ee=P.key,G=P.ref,ae=P._owner;if(N!=null){if(N.ref!==void 0&&(G=N.ref,ae=z.current),N.key!==void 0&&(ee=""+N.key),P.type&&P.type.defaultProps)var ie=P.type.defaultProps;for(se in N)_.call(N,se)&&!Q.hasOwnProperty(se)&&(oe[se]=N[se]===void 0&&ie!==void 0?ie[se]:N[se])}var se=arguments.length-2;if(se===1)oe.children=Z;else if(1<se){ie=Array(se);for(var Te=0;Te<se;Te++)ie[Te]=arguments[Te+2];oe.children=ie}return{$$typeof:t,type:P.type,key:ee,ref:G,props:oe,_owner:ae}},Me.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},Me.createElement=K,Me.createFactory=function(P){var N=K.bind(null,P);return N.type=P,N},Me.createRef=function(){return{current:null}},Me.forwardRef=function(P){return{$$typeof:d,render:P}},Me.isValidElement=ce,Me.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:Ie}},Me.memo=function(P,N){return{$$typeof:h,type:P,compare:N===void 0?null:N}},Me.startTransition=function(P){var N=O.transition;O.transition={};try{P()}finally{O.transition=N}},Me.unstable_act=B,Me.useCallback=function(P,N){return we.current.useCallback(P,N)},Me.useContext=function(P){return we.current.useContext(P)},Me.useDebugValue=function(){},Me.useDeferredValue=function(P){return we.current.useDeferredValue(P)},Me.useEffect=function(P,N){return we.current.useEffect(P,N)},Me.useId=function(){return we.current.useId()},Me.useImperativeHandle=function(P,N,Z){return we.current.useImperativeHandle(P,N,Z)},Me.useInsertionEffect=function(P,N){return we.current.useInsertionEffect(P,N)},Me.useLayoutEffect=function(P,N){return we.current.useLayoutEffect(P,N)},Me.useMemo=function(P,N){return we.current.useMemo(P,N)},Me.useReducer=function(P,N,Z){return we.current.useReducer(P,N,Z)},Me.useRef=function(P){return we.current.useRef(P)},Me.useState=function(P){return we.current.useState(P)},Me.useSyncExternalStore=function(P,N,Z){return we.current.useSyncExternalStore(P,N,Z)},Me.useTransition=function(){return we.current.useTransition()},Me.version="18.3.1",Me}var Vp;function vd(){return Vp||(Vp=1,xc.exports=vx()),xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function wx(){if(Up)return eo;Up=1;var t=vd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,h){var m,v={},w=null,x=null;h!==void 0&&(w=""+h),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(m in f)i.call(f,m)&&!l.hasOwnProperty(m)&&(v[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:d,key:w,ref:x,props:v,_owner:o.current}}return eo.Fragment=r,eo.jsx=u,eo.jsxs=u,eo}var zp;function xx(){return zp||(zp=1,wc.exports=wx()),wc.exports}var y=xx(),b=vd();const Sx=yd(b);var Za={},Sc={exports:{}},Qt={},bc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function bx(){return Wp||(Wp=1,function(t){function e(O,M){var B=O.length;O.push(M);e:for(;0<B;){var P=B-1>>>1,N=O[P];if(0<o(N,M))O[P]=M,O[B]=N,B=P;else break e}}function r(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var M=O[0],B=O.pop();if(B!==M){O[0]=B;e:for(var P=0,N=O.length,Z=N>>>1;P<Z;){var oe=2*(P+1)-1,ee=O[oe],G=oe+1,ae=O[G];if(0>o(ee,B))G<N&&0>o(ae,ee)?(O[P]=ae,O[G]=B,P=G):(O[P]=ee,O[oe]=B,P=oe);else if(G<N&&0>o(ae,B))O[P]=ae,O[G]=B,P=G;else break e}}return M}function o(O,M){var B=O.sortIndex-M.sortIndex;return B!==0?B:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],m=1,v=null,w=3,x=!1,k=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(O){for(var M=r(h);M!==null;){if(M.callback===null)i(h);else if(M.startTime<=O)i(h),M.sortIndex=M.expirationTime,e(f,M);else break;M=r(h)}}function U(O){if(C=!1,D(O),!k)if(r(f)!==null)k=!0,Ie(_);else{var M=r(h);M!==null&&we(U,M.startTime-O)}}function _(O,M){k=!1,C&&(C=!1,E(K),K=-1),x=!0;var B=w;try{for(D(M),v=r(f);v!==null&&(!(v.expirationTime>M)||O&&!ve());){var P=v.callback;if(typeof P=="function"){v.callback=null,w=v.priorityLevel;var N=P(v.expirationTime<=M);M=t.unstable_now(),typeof N=="function"?v.callback=N:v===r(f)&&i(f),D(M)}else i(f);v=r(f)}if(v!==null)var Z=!0;else{var oe=r(h);oe!==null&&we(U,oe.startTime-M),Z=!1}return Z}finally{v=null,w=B,x=!1}}var z=!1,Q=null,K=-1,ne=5,ce=-1;function ve(){return!(t.unstable_now()-ce<ne)}function Ee(){if(Q!==null){var O=t.unstable_now();ce=O;var M=!0;try{M=Q(!0,O)}finally{M?Oe():(z=!1,Q=null)}}else z=!1}var Oe;if(typeof $=="function")Oe=function(){$(Ee)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,je=be.port2;be.port1.onmessage=Ee,Oe=function(){je.postMessage(null)}}else Oe=function(){j(Ee,0)};function Ie(O){Q=O,z||(z=!0,Oe())}function we(O,M){K=j(function(){O(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,Ie(_))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(O){switch(w){case 1:case 2:case 3:var M=3;break;default:M=w}var B=w;w=M;try{return O()}finally{w=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=w;w=O;try{return M()}finally{w=B}},t.unstable_scheduleCallback=function(O,M,B){var P=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?P+B:P):B=P,O){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=B+N,O={id:m++,callback:M,priorityLevel:O,startTime:B,expirationTime:N,sortIndex:-1},B>P?(O.sortIndex=B,e(h,O),r(f)===null&&O===r(h)&&(C?(E(K),K=-1):C=!0,we(U,B-P))):(O.sortIndex=N,e(f,O),k||x||(k=!0,Ie(_))),O},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(O){var M=w;return function(){var B=w;w=M;try{return O.apply(this,arguments)}finally{w=B}}}}(kc)),kc}var Hp;function kx(){return Hp||(Hp=1,bc.exports=bx()),bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function _x(){if(Gp)return Qt;Gp=1;var t=vd(),e=kx();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(n){return f.call(v,n)?!0:f.call(m,n)?!1:h.test(n)?v[n]=!0:(m[n]=!0,!1)}function x(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,s,a,c){if(s===null||typeof s>"u"||x(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(n,s,a,c,p,g,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=S}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new C(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new C(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new C(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new C(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new C(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new C(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new C(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new C(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new C(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function $(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(E,$);j[s]=new C(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(E,$);j[s]=new C(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(E,$);j[s]=new C(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new C(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new C(n,1,!1,n.toLowerCase(),null,!0,!0)});function D(n,s,a,c){var p=j.hasOwnProperty(s)?j[s]:null;(p!==null?p.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,a,p,c)&&(a=null),c||p===null?w(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):p.mustUseProperty?n[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,c=p.attributeNamespace,a===null?n.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),ve=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),O=Symbol.iterator;function M(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var B=Object.assign,P;function N(n){if(P===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||""}return`
`+P+n}var Z=!1;function oe(n,s){if(!n||Z)return"";Z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var c=W}Reflect.construct(n,[],s)}else{try{s.call()}catch(W){c=W}n.call(s.prototype)}else{try{throw Error()}catch(W){c=W}n()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),g=c.stack.split(`
`),S=p.length-1,T=g.length-1;1<=S&&0<=T&&p[S]!==g[T];)T--;for(;1<=S&&0<=T;S--,T--)if(p[S]!==g[T]){if(S!==1||T!==1)do if(S--,T--,0>T||p[S]!==g[T]){var R=`
`+p[S].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=S&&0<=T);break}}}finally{Z=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?N(n):""}function ee(n){switch(n.tag){case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return n=oe(n.type,!1),n;case 11:return n=oe(n.type.render,!1),n;case 1:return n=oe(n.type,!0),n;default:return""}}function G(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case z:return"Portal";case ne:return"Profiler";case K:return"StrictMode";case Oe:return"Suspense";case be:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ve:return(n.displayName||"Context")+".Consumer";case ce:return(n._context.displayName||"Context")+".Provider";case Ee:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case je:return s=n.displayName||null,s!==null?s:G(n.type)||"Memo";case Ie:s=n._payload,n=n._init;try{return G(n(s))}catch{}}return null}function ae(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(s);case 8:return s===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ie(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function se(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Te(n){var s=se(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function gt(n){n._valueTracker||(n._valueTracker=Te(n))}function Ut(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=se(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function ht(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ut(n,s){var a=s.checked;return B({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Pt(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=ie(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ve(n,s){s=s.checked,s!=null&&D(n,"checked",s,!1)}function zt(n,s){Ve(n,s);var a=ie(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?en(n,s.type,a):s.hasOwnProperty("defaultValue")&&en(n,s.type,ie(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Wt(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function en(n,s,a){(s!=="number"||ht(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var We=Array.isArray;function fe(n,s,a,c){if(n=n.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=s.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&c&&(n[a].defaultSelected=!0)}else{for(a=""+ie(a),s=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function q(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return B({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ce(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(r(92));if(We(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:ie(a)}}function Ze(n,s){var a=ie(s.value),c=ie(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function nt(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function $t(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hn(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?$t(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dn,_s=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,p){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,p)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ht(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ho=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(n){Ho.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),cr[s]=cr[n]})});function wi(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||cr.hasOwnProperty(n)&&cr[n]?(""+s).trim():s+"px"}function Go(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,p=wi(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,p):n[a]=p}}var Ko=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(n,s){if(s){if(Ko[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Cs(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hr=null;function xi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Es=null,fr=null,Gn=null;function Gr(n){if(n=Fi(n)){if(typeof Es!="function")throw Error(r(280));var s=n.stateNode;s&&(s=pa(s),Es(n.stateNode,n.type,s))}}function Kr(n){fr?Gn?Gn.push(n):Gn=[n]:fr=n}function qo(){if(fr){var n=fr,s=Gn;if(Gn=fr=null,Gr(n),s)for(n=0;n<s.length;n++)Gr(s[n])}}function Jo(n,s){return n(s)}function A(){}var I=!1;function H(n,s,a){if(I)return n(s,a);I=!0;try{return Jo(n,s,a)}finally{I=!1,(fr!==null||Gn!==null)&&(A(),qo())}}function Y(n,s){var a=n.stateNode;if(a===null)return null;var c=pa(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ue=!1;if(d)try{var xe={};Object.defineProperty(xe,"passive",{get:function(){ue=!0}}),window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,xe)}catch{ue=!1}function Re(n,s,a,c,p,g,S,T,R){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(X){this.onError(X)}}var he=!1,ge=null,le=!1,Ne=null,Le={onError:function(n){he=!0,ge=n}};function qe(n,s,a,c,p,g,S,T,R){he=!1,ge=null,Re.apply(Le,arguments)}function vt(n,s,a,c,p,g,S,T,R){if(qe.apply(this,arguments),he){if(he){var W=ge;he=!1,ge=null}else throw Error(r(198));le||(le=!0,Ne=W)}}function ze(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Ke(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function ct(n){if(ze(n)!==n)throw Error(r(188))}function hr(n){var s=n.alternate;if(!s){if(s=ze(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,c=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return ct(p),n;if(g===c)return ct(p),s;g=g.sibling}throw Error(r(188))}if(a.return!==c.return)a=p,c=g;else{for(var S=!1,T=p.child;T;){if(T===a){S=!0,a=p,c=g;break}if(T===c){S=!0,c=p,a=g;break}T=T.sibling}if(!S){for(T=g.child;T;){if(T===a){S=!0,a=g,c=p;break}if(T===c){S=!0,c=g,a=p;break}T=T.sibling}if(!S)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function pr(n){return n=hr(n),n!==null?fn(n):null}function fn(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=fn(n);if(s!==null)return s;n=n.sibling}return null}var tn=e.unstable_scheduleCallback,Ps=e.unstable_cancelCallback,qr=e.unstable_shouldYield,Kn=e.unstable_requestPaint,Je=e.unstable_now,Ts=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,wt=e.unstable_UserBlockingPriority,qn=e.unstable_NormalPriority,Jr=e.unstable_LowPriority,st=e.unstable_IdlePriority,bn=null,nn=null;function Fl(n){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(bn,n,void 0,(n.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:M0,D0=Math.log,O0=Math.LN2;function M0(n){return n>>>=0,n===0?32:31-(D0(n)/O0|0)|0}var Yo=64,Qo=4194304;function Si(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Xo(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,p=n.suspendedLanes,g=n.pingedLanes,S=a&268435455;if(S!==0){var T=S&~p;T!==0?c=Si(T):(g&=S,g!==0&&(c=Si(g)))}else S=a&~p,S!==0?c=Si(S):g!==0&&(c=Si(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&p)&&(p=c&-c,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-kn(s),p=1<<a,c|=n[a],s&=~p;return c}function I0(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes;0<g;){var S=31-kn(g),T=1<<S,R=p[S];R===-1?(!(T&a)||T&c)&&(p[S]=I0(T,s)):R<=s&&(n.expiredLanes|=T),g&=~T}}function Bl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yf(){var n=Yo;return Yo<<=1,!(Yo&4194240)&&(Yo=64),n}function Vl(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function bi(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-kn(s),n[s]=a}function F0(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var p=31-kn(a),g=1<<p;s[p]=0,c[p]=-1,n[p]=-1,a&=~g}}function Ul(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-kn(a),p=1<<c;p&s|n[c]&s&&(n[c]|=s),a&=~p}}var Ge=0;function vf(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var wf,zl,xf,Sf,bf,Wl=!1,Zo=[],mr=null,gr=null,yr=null,ki=new Map,_i=new Map,vr=[],B0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(n,s){switch(n){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":ki.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(s.pointerId)}}function Ci(n,s,a,c,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Fi(s),s!==null&&zl(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function V0(n,s,a,c,p){switch(s){case"focusin":return mr=Ci(mr,n,s,a,c,p),!0;case"dragenter":return gr=Ci(gr,n,s,a,c,p),!0;case"mouseover":return yr=Ci(yr,n,s,a,c,p),!0;case"pointerover":var g=p.pointerId;return ki.set(g,Ci(ki.get(g)||null,n,s,a,c,p)),!0;case"gotpointercapture":return g=p.pointerId,_i.set(g,Ci(_i.get(g)||null,n,s,a,c,p)),!0}return!1}function _f(n){var s=Yr(n.target);if(s!==null){var a=ze(s);if(a!==null){if(s=a.tag,s===13){if(s=Ke(a),s!==null){n.blockedOn=s,bf(n.priority,function(){xf(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ea(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Gl(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Hr=c,a.target.dispatchEvent(c),Hr=null}else return s=Fi(a),s!==null&&zl(s),n.blockedOn=a,!1;s.shift()}return!0}function Cf(n,s,a){ea(n)&&a.delete(s)}function U0(){Wl=!1,mr!==null&&ea(mr)&&(mr=null),gr!==null&&ea(gr)&&(gr=null),yr!==null&&ea(yr)&&(yr=null),ki.forEach(Cf),_i.forEach(Cf)}function Ei(n,s){n.blockedOn===s&&(n.blockedOn=null,Wl||(Wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,U0)))}function Pi(n){function s(p){return Ei(p,n)}if(0<Zo.length){Ei(Zo[0],n);for(var a=1;a<Zo.length;a++){var c=Zo[a];c.blockedOn===n&&(c.blockedOn=null)}}for(mr!==null&&Ei(mr,n),gr!==null&&Ei(gr,n),yr!==null&&Ei(yr,n),ki.forEach(s),_i.forEach(s),a=0;a<vr.length;a++)c=vr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)_f(a),a.blockedOn===null&&vr.shift()}var js=U.ReactCurrentBatchConfig,ta=!0;function z0(n,s,a,c){var p=Ge,g=js.transition;js.transition=null;try{Ge=1,Hl(n,s,a,c)}finally{Ge=p,js.transition=g}}function W0(n,s,a,c){var p=Ge,g=js.transition;js.transition=null;try{Ge=4,Hl(n,s,a,c)}finally{Ge=p,js.transition=g}}function Hl(n,s,a,c){if(ta){var p=Gl(n,s,a,c);if(p===null)uu(n,s,c,na,a),kf(n,c);else if(V0(p,n,s,a,c))c.stopPropagation();else if(kf(n,c),s&4&&-1<B0.indexOf(n)){for(;p!==null;){var g=Fi(p);if(g!==null&&wf(g),g=Gl(n,s,a,c),g===null&&uu(n,s,c,na,a),g===p)break;p=g}p!==null&&c.stopPropagation()}else uu(n,s,c,null,a)}}var na=null;function Gl(n,s,a,c){if(na=null,n=xi(c),n=Yr(n),n!==null)if(s=ze(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Ke(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return na=n,null}function Ef(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ts()){case He:return 1;case wt:return 4;case qn:case Jr:return 16;case st:return 536870912;default:return 16}default:return 16}}var wr=null,Kl=null,ra=null;function Pf(){if(ra)return ra;var n,s=Kl,a=s.length,c,p="value"in wr?wr.value:wr.textContent,g=p.length;for(n=0;n<a&&s[n]===p[n];n++);var S=a-n;for(c=1;c<=S&&s[a-c]===p[g-c];c++);return ra=p.slice(n,1<c?1-c:void 0)}function sa(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ia(){return!0}function Tf(){return!1}function rn(n){function s(a,c,p,g,S){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ia:Tf,this.isPropagationStopped=Tf,this}return B(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),s}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=rn(Rs),Ti=B({},Rs,{view:0,detail:0}),H0=rn(Ti),Jl,Yl,ji,oa=B({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ji&&(ji&&n.type==="mousemove"?(Jl=n.screenX-ji.screenX,Yl=n.screenY-ji.screenY):Yl=Jl=0,ji=n),Jl)},movementY:function(n){return"movementY"in n?n.movementY:Yl}}),jf=rn(oa),G0=B({},oa,{dataTransfer:0}),K0=rn(G0),q0=B({},Ti,{relatedTarget:0}),Ql=rn(q0),J0=B({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=rn(J0),Q0=B({},Rs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),X0=rn(Q0),Z0=B({},Rs,{data:0}),Rf=rn(Z0),ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=nw[n])?!!s[n]:!1}function Xl(){return rw}var sw=B({},Ti,{key:function(n){if(n.key){var s=ew[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=sa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(n){return n.type==="keypress"?sa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),iw=rn(sw),ow=B({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nf=rn(ow),aw=B({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),lw=rn(aw),uw=B({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cw=rn(uw),dw=B({},oa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fw=rn(dw),hw=[9,13,27,32],Zl=d&&"CompositionEvent"in window,Ri=null;d&&"documentMode"in document&&(Ri=document.documentMode);var pw=d&&"TextEvent"in window&&!Ri,Af=d&&(!Zl||Ri&&8<Ri&&11>=Ri),Lf=" ",Df=!1;function Of(n,s){switch(n){case"keyup":return hw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ns=!1;function mw(n,s){switch(n){case"compositionend":return Mf(s);case"keypress":return s.which!==32?null:(Df=!0,Lf);case"textInput":return n=s.data,n===Lf&&Df?null:n;default:return null}}function gw(n,s){if(Ns)return n==="compositionend"||!Zl&&Of(n,s)?(n=Pf(),ra=Kl=wr=null,Ns=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Af&&s.locale!=="ko"?null:s.data;default:return null}}var yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!yw[n.type]:s==="textarea"}function $f(n,s,a,c){Kr(c),s=da(s,"onChange"),0<s.length&&(a=new ql("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Ni=null,Ai=null;function vw(n){nh(n,0)}function aa(n){var s=Ms(n);if(Ut(s))return n}function ww(n,s){if(n==="change")return s}var Ff=!1;if(d){var eu;if(d){var tu="oninput"in document;if(!tu){var Bf=document.createElement("div");Bf.setAttribute("oninput","return;"),tu=typeof Bf.oninput=="function"}eu=tu}else eu=!1;Ff=eu&&(!document.documentMode||9<document.documentMode)}function Vf(){Ni&&(Ni.detachEvent("onpropertychange",Uf),Ai=Ni=null)}function Uf(n){if(n.propertyName==="value"&&aa(Ai)){var s=[];$f(s,Ai,n,xi(n)),H(vw,s)}}function xw(n,s,a){n==="focusin"?(Vf(),Ni=s,Ai=a,Ni.attachEvent("onpropertychange",Uf)):n==="focusout"&&Vf()}function Sw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return aa(Ai)}function bw(n,s){if(n==="click")return aa(s)}function kw(n,s){if(n==="input"||n==="change")return aa(s)}function _w(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var _n=typeof Object.is=="function"?Object.is:_w;function Li(n,s){if(_n(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!f.call(s,p)||!_n(n[p],s[p]))return!1}return!0}function zf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wf(n,s){var a=zf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zf(a)}}function Hf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Hf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Gf(){for(var n=window,s=ht();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=ht(n.document)}return s}function nu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Cw(n){var s=Gf(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Hf(a.ownerDocument.documentElement,a)){if(c!==null&&nu(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var p=a.textContent.length,g=Math.min(c.start,p);c=c.end===void 0?g:Math.min(c.end,p),!n.extend&&g>c&&(p=c,c=g,g=p),p=Wf(a,g);var S=Wf(a,c);p&&S&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ew=d&&"documentMode"in document&&11>=document.documentMode,As=null,ru=null,Di=null,su=!1;function Kf(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;su||As==null||As!==ht(c)||(c=As,"selectionStart"in c&&nu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Di&&Li(Di,c)||(Di=c,c=da(ru,"onSelect"),0<c.length&&(s=new ql("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=As)))}function la(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ls={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionend:la("Transition","TransitionEnd")},iu={},qf={};d&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function ua(n){if(iu[n])return iu[n];if(!Ls[n])return n;var s=Ls[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in qf)return iu[n]=s[a];return n}var Jf=ua("animationend"),Yf=ua("animationiteration"),Qf=ua("animationstart"),Xf=ua("transitionend"),Zf=new Map,eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(n,s){Zf.set(n,s),l(s,[n])}for(var ou=0;ou<eh.length;ou++){var au=eh[ou],Pw=au.toLowerCase(),Tw=au[0].toUpperCase()+au.slice(1);xr(Pw,"on"+Tw)}xr(Jf,"onAnimationEnd"),xr(Yf,"onAnimationIteration"),xr(Qf,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Xf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function th(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,vt(c,s,void 0,n),n.currentTarget=null}function nh(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var S=c.length-1;0<=S;S--){var T=c[S],R=T.instance,W=T.currentTarget;if(T=T.listener,R!==g&&p.isPropagationStopped())break e;th(p,T,W),g=R}else for(S=0;S<c.length;S++){if(T=c[S],R=T.instance,W=T.currentTarget,T=T.listener,R!==g&&p.isPropagationStopped())break e;th(p,T,W),g=R}}}if(le)throw n=Ne,le=!1,Ne=null,n}function et(n,s){var a=s[mu];a===void 0&&(a=s[mu]=new Set);var c=n+"__bubble";a.has(c)||(rh(s,n,2,!1),a.add(c))}function lu(n,s,a){var c=0;s&&(c|=4),rh(a,n,c,s)}var ca="_reactListening"+Math.random().toString(36).slice(2);function Mi(n){if(!n[ca]){n[ca]=!0,i.forEach(function(a){a!=="selectionchange"&&(jw.has(a)||lu(a,!1,n),lu(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ca]||(s[ca]=!0,lu("selectionchange",!1,s))}}function rh(n,s,a,c){switch(Ef(s)){case 1:var p=z0;break;case 4:p=W0;break;default:p=Hl}a=p.bind(null,s,a,n),p=void 0,!ue||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(s,a,{capture:!0,passive:p}):n.addEventListener(s,a,!0):p!==void 0?n.addEventListener(s,a,{passive:p}):n.addEventListener(s,a,!1)}function uu(n,s,a,c,p){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var T=c.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(S===4)for(S=c.return;S!==null;){var R=S.tag;if((R===3||R===4)&&(R=S.stateNode.containerInfo,R===p||R.nodeType===8&&R.parentNode===p))return;S=S.return}for(;T!==null;){if(S=Yr(T),S===null)return;if(R=S.tag,R===5||R===6){c=g=S;continue e}T=T.parentNode}}c=c.return}H(function(){var W=g,X=xi(a),te=[];e:{var J=Zf.get(n);if(J!==void 0){var de=ql,me=n;switch(n){case"keypress":if(sa(a)===0)break e;case"keydown":case"keyup":de=iw;break;case"focusin":me="focus",de=Ql;break;case"focusout":me="blur",de=Ql;break;case"beforeblur":case"afterblur":de=Ql;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=K0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=lw;break;case Jf:case Yf:case Qf:de=Y0;break;case Xf:de=cw;break;case"scroll":de=H0;break;case"wheel":de=fw;break;case"copy":case"cut":case"paste":de=X0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Nf}var ye=(s&4)!==0,pt=!ye&&n==="scroll",F=ye?J!==null?J+"Capture":null:J;ye=[];for(var L=W,V;L!==null;){V=L;var re=V.stateNode;if(V.tag===5&&re!==null&&(V=re,F!==null&&(re=Y(L,F),re!=null&&ye.push(Ii(L,re,V)))),pt)break;L=L.return}0<ye.length&&(J=new de(J,me,null,a,X),te.push({event:J,listeners:ye}))}}if(!(s&7)){e:{if(J=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",J&&a!==Hr&&(me=a.relatedTarget||a.fromElement)&&(Yr(me)||me[Jn]))break e;if((de||J)&&(J=X.window===X?X:(J=X.ownerDocument)?J.defaultView||J.parentWindow:window,de?(me=a.relatedTarget||a.toElement,de=W,me=me?Yr(me):null,me!==null&&(pt=ze(me),me!==pt||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=W),de!==me)){if(ye=jf,re="onMouseLeave",F="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Nf,re="onPointerLeave",F="onPointerEnter",L="pointer"),pt=de==null?J:Ms(de),V=me==null?J:Ms(me),J=new ye(re,L+"leave",de,a,X),J.target=pt,J.relatedTarget=V,re=null,Yr(X)===W&&(ye=new ye(F,L+"enter",me,a,X),ye.target=V,ye.relatedTarget=pt,re=ye),pt=re,de&&me)t:{for(ye=de,F=me,L=0,V=ye;V;V=Ds(V))L++;for(V=0,re=F;re;re=Ds(re))V++;for(;0<L-V;)ye=Ds(ye),L--;for(;0<V-L;)F=Ds(F),V--;for(;L--;){if(ye===F||F!==null&&ye===F.alternate)break t;ye=Ds(ye),F=Ds(F)}ye=null}else ye=null;de!==null&&sh(te,J,de,ye,!1),me!==null&&pt!==null&&sh(te,pt,me,ye,!0)}}e:{if(J=W?Ms(W):window,de=J.nodeName&&J.nodeName.toLowerCase(),de==="select"||de==="input"&&J.type==="file")var Se=ww;else if(If(J))if(Ff)Se=kw;else{Se=Sw;var ke=xw}else(de=J.nodeName)&&de.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(Se=bw);if(Se&&(Se=Se(n,W))){$f(te,Se,a,X);break e}ke&&ke(n,J,W),n==="focusout"&&(ke=J._wrapperState)&&ke.controlled&&J.type==="number"&&en(J,"number",J.value)}switch(ke=W?Ms(W):window,n){case"focusin":(If(ke)||ke.contentEditable==="true")&&(As=ke,ru=W,Di=null);break;case"focusout":Di=ru=As=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Kf(te,a,X);break;case"selectionchange":if(Ew)break;case"keydown":case"keyup":Kf(te,a,X)}var _e;if(Zl)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ns?Of(n,a)&&(Ae="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Af&&a.locale!=="ko"&&(Ns||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ns&&(_e=Pf()):(wr=X,Kl="value"in wr?wr.value:wr.textContent,Ns=!0)),ke=da(W,Ae),0<ke.length&&(Ae=new Rf(Ae,n,null,a,X),te.push({event:Ae,listeners:ke}),_e?Ae.data=_e:(_e=Mf(a),_e!==null&&(Ae.data=_e)))),(_e=pw?mw(n,a):gw(n,a))&&(W=da(W,"onBeforeInput"),0<W.length&&(X=new Rf("onBeforeInput","beforeinput",null,a,X),te.push({event:X,listeners:W}),X.data=_e))}nh(te,s)})}function Ii(n,s,a){return{instance:n,listener:s,currentTarget:a}}function da(n,s){for(var a=s+"Capture",c=[];n!==null;){var p=n,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Y(n,a),g!=null&&c.unshift(Ii(n,g,p)),g=Y(n,s),g!=null&&c.push(Ii(n,g,p))),n=n.return}return c}function Ds(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sh(n,s,a,c,p){for(var g=s._reactName,S=[];a!==null&&a!==c;){var T=a,R=T.alternate,W=T.stateNode;if(R!==null&&R===c)break;T.tag===5&&W!==null&&(T=W,p?(R=Y(a,g),R!=null&&S.unshift(Ii(a,R,T))):p||(R=Y(a,g),R!=null&&S.push(Ii(a,R,T)))),a=a.return}S.length!==0&&n.push({event:s,listeners:S})}var Rw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function ih(n){return(typeof n=="string"?n:""+n).replace(Rw,`
`).replace(Nw,"")}function fa(n,s,a){if(s=ih(s),ih(n)!==s&&a)throw Error(r(425))}function ha(){}var cu=null,du=null;function fu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,oh=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof oh<"u"?function(n){return oh.resolve(null).then(n).catch(Dw)}:hu;function Dw(n){setTimeout(function(){throw n})}function pu(n,s){var a=s,c=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(c===0){n.removeChild(p),Pi(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=p}while(a);Pi(s)}function Sr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function ah(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Os=Math.random().toString(36).slice(2),On="__reactFiber$"+Os,$i="__reactProps$"+Os,Jn="__reactContainer$"+Os,mu="__reactEvents$"+Os,Ow="__reactListeners$"+Os,Mw="__reactHandles$"+Os;function Yr(n){var s=n[On];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Jn]||a[On]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=ah(n);n!==null;){if(a=n[On])return a;n=ah(n)}return s}n=a,a=n.parentNode}return null}function Fi(n){return n=n[On]||n[Jn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ms(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function pa(n){return n[$i]||null}var gu=[],Is=-1;function br(n){return{current:n}}function tt(n){0>Is||(n.current=gu[Is],gu[Is]=null,Is--)}function Ye(n,s){Is++,gu[Is]=n.current,n.current=s}var kr={},At=br(kr),Gt=br(!1),Qr=kr;function $s(n,s){var a=n.type.contextTypes;if(!a)return kr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in a)p[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=p),p}function Kt(n){return n=n.childContextTypes,n!=null}function ma(){tt(Gt),tt(At)}function lh(n,s,a){if(At.current!==kr)throw Error(r(168));Ye(At,s),Ye(Gt,a)}function uh(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var p in c)if(!(p in s))throw Error(r(108,ae(n)||"Unknown",p));return B({},a,c)}function ga(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||kr,Qr=At.current,Ye(At,n),Ye(Gt,Gt.current),!0}function ch(n,s,a){var c=n.stateNode;if(!c)throw Error(r(169));a?(n=uh(n,s,Qr),c.__reactInternalMemoizedMergedChildContext=n,tt(Gt),tt(At),Ye(At,n)):tt(Gt),Ye(Gt,a)}var Yn=null,ya=!1,yu=!1;function dh(n){Yn===null?Yn=[n]:Yn.push(n)}function Iw(n){ya=!0,dh(n)}function _r(){if(!yu&&Yn!==null){yu=!0;var n=0,s=Ge;try{var a=Yn;for(Ge=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Yn=null,ya=!1}catch(p){throw Yn!==null&&(Yn=Yn.slice(n+1)),tn(He,_r),p}finally{Ge=s,yu=!1}}return null}var Fs=[],Bs=0,va=null,wa=0,hn=[],pn=0,Xr=null,Qn=1,Xn="";function Zr(n,s){Fs[Bs++]=wa,Fs[Bs++]=va,va=n,wa=s}function fh(n,s,a){hn[pn++]=Qn,hn[pn++]=Xn,hn[pn++]=Xr,Xr=n;var c=Qn;n=Xn;var p=32-kn(c)-1;c&=~(1<<p),a+=1;var g=32-kn(s)+p;if(30<g){var S=p-p%5;g=(c&(1<<S)-1).toString(32),c>>=S,p-=S,Qn=1<<32-kn(s)+p|a<<p|c,Xn=g+n}else Qn=1<<g|a<<p|c,Xn=n}function vu(n){n.return!==null&&(Zr(n,1),fh(n,1,0))}function wu(n){for(;n===va;)va=Fs[--Bs],Fs[Bs]=null,wa=Fs[--Bs],Fs[Bs]=null;for(;n===Xr;)Xr=hn[--pn],hn[pn]=null,Xn=hn[--pn],hn[pn]=null,Qn=hn[--pn],hn[pn]=null}var sn=null,on=null,rt=!1,Cn=null;function hh(n,s){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function ph(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,sn=n,on=Sr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,sn=n,on=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Xr!==null?{id:Qn,overflow:Xn}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,sn=n,on=null,!0):!1;default:return!1}}function xu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Su(n){if(rt){var s=on;if(s){var a=s;if(!ph(n,s)){if(xu(n))throw Error(r(418));s=Sr(a.nextSibling);var c=sn;s&&ph(n,s)?hh(c,a):(n.flags=n.flags&-4097|2,rt=!1,sn=n)}}else{if(xu(n))throw Error(r(418));n.flags=n.flags&-4097|2,rt=!1,sn=n}}}function mh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sn=n}function xa(n){if(n!==sn)return!1;if(!rt)return mh(n),rt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!fu(n.type,n.memoizedProps)),s&&(s=on)){if(xu(n))throw gh(),Error(r(418));for(;s;)hh(n,s),s=Sr(s.nextSibling)}if(mh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){on=Sr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}on=null}}else on=sn?Sr(n.stateNode.nextSibling):null;return!0}function gh(){for(var n=on;n;)n=Sr(n.nextSibling)}function Vs(){on=sn=null,rt=!1}function bu(n){Cn===null?Cn=[n]:Cn.push(n)}var $w=U.ReactCurrentBatchConfig;function Bi(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var c=a.stateNode}if(!c)throw Error(r(147,n));var p=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(S){var T=p.refs;S===null?delete T[g]:T[g]=S},s._stringRef=g,s)}if(typeof n!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,n))}return n}function Sa(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function yh(n){var s=n._init;return s(n._payload)}function vh(n){function s(F,L){if(n){var V=F.deletions;V===null?(F.deletions=[L],F.flags|=16):V.push(L)}}function a(F,L){if(!n)return null;for(;L!==null;)s(F,L),L=L.sibling;return null}function c(F,L){for(F=new Map;L!==null;)L.key!==null?F.set(L.key,L):F.set(L.index,L),L=L.sibling;return F}function p(F,L){return F=Ar(F,L),F.index=0,F.sibling=null,F}function g(F,L,V){return F.index=V,n?(V=F.alternate,V!==null?(V=V.index,V<L?(F.flags|=2,L):V):(F.flags|=2,L)):(F.flags|=1048576,L)}function S(F){return n&&F.alternate===null&&(F.flags|=2),F}function T(F,L,V,re){return L===null||L.tag!==6?(L=hc(V,F.mode,re),L.return=F,L):(L=p(L,V),L.return=F,L)}function R(F,L,V,re){var Se=V.type;return Se===Q?X(F,L,V.props.children,re,V.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ie&&yh(Se)===L.type)?(re=p(L,V.props),re.ref=Bi(F,L,V),re.return=F,re):(re=Ha(V.type,V.key,V.props,null,F.mode,re),re.ref=Bi(F,L,V),re.return=F,re)}function W(F,L,V,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==V.containerInfo||L.stateNode.implementation!==V.implementation?(L=pc(V,F.mode,re),L.return=F,L):(L=p(L,V.children||[]),L.return=F,L)}function X(F,L,V,re,Se){return L===null||L.tag!==7?(L=as(V,F.mode,re,Se),L.return=F,L):(L=p(L,V),L.return=F,L)}function te(F,L,V){if(typeof L=="string"&&L!==""||typeof L=="number")return L=hc(""+L,F.mode,V),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return V=Ha(L.type,L.key,L.props,null,F.mode,V),V.ref=Bi(F,null,L),V.return=F,V;case z:return L=pc(L,F.mode,V),L.return=F,L;case Ie:var re=L._init;return te(F,re(L._payload),V)}if(We(L)||M(L))return L=as(L,F.mode,V,null),L.return=F,L;Sa(F,L)}return null}function J(F,L,V,re){var Se=L!==null?L.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Se!==null?null:T(F,L,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===Se?R(F,L,V,re):null;case z:return V.key===Se?W(F,L,V,re):null;case Ie:return Se=V._init,J(F,L,Se(V._payload),re)}if(We(V)||M(V))return Se!==null?null:X(F,L,V,re,null);Sa(F,V)}return null}function de(F,L,V,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number")return F=F.get(V)||null,T(L,F,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return F=F.get(re.key===null?V:re.key)||null,R(L,F,re,Se);case z:return F=F.get(re.key===null?V:re.key)||null,W(L,F,re,Se);case Ie:var ke=re._init;return de(F,L,V,ke(re._payload),Se)}if(We(re)||M(re))return F=F.get(V)||null,X(L,F,re,Se,null);Sa(L,re)}return null}function me(F,L,V,re){for(var Se=null,ke=null,_e=L,Ae=L=0,_t=null;_e!==null&&Ae<V.length;Ae++){_e.index>Ae?(_t=_e,_e=null):_t=_e.sibling;var Ue=J(F,_e,V[Ae],re);if(Ue===null){_e===null&&(_e=_t);break}n&&_e&&Ue.alternate===null&&s(F,_e),L=g(Ue,L,Ae),ke===null?Se=Ue:ke.sibling=Ue,ke=Ue,_e=_t}if(Ae===V.length)return a(F,_e),rt&&Zr(F,Ae),Se;if(_e===null){for(;Ae<V.length;Ae++)_e=te(F,V[Ae],re),_e!==null&&(L=g(_e,L,Ae),ke===null?Se=_e:ke.sibling=_e,ke=_e);return rt&&Zr(F,Ae),Se}for(_e=c(F,_e);Ae<V.length;Ae++)_t=de(_e,F,Ae,V[Ae],re),_t!==null&&(n&&_t.alternate!==null&&_e.delete(_t.key===null?Ae:_t.key),L=g(_t,L,Ae),ke===null?Se=_t:ke.sibling=_t,ke=_t);return n&&_e.forEach(function(Lr){return s(F,Lr)}),rt&&Zr(F,Ae),Se}function ye(F,L,V,re){var Se=M(V);if(typeof Se!="function")throw Error(r(150));if(V=Se.call(V),V==null)throw Error(r(151));for(var ke=Se=null,_e=L,Ae=L=0,_t=null,Ue=V.next();_e!==null&&!Ue.done;Ae++,Ue=V.next()){_e.index>Ae?(_t=_e,_e=null):_t=_e.sibling;var Lr=J(F,_e,Ue.value,re);if(Lr===null){_e===null&&(_e=_t);break}n&&_e&&Lr.alternate===null&&s(F,_e),L=g(Lr,L,Ae),ke===null?Se=Lr:ke.sibling=Lr,ke=Lr,_e=_t}if(Ue.done)return a(F,_e),rt&&Zr(F,Ae),Se;if(_e===null){for(;!Ue.done;Ae++,Ue=V.next())Ue=te(F,Ue.value,re),Ue!==null&&(L=g(Ue,L,Ae),ke===null?Se=Ue:ke.sibling=Ue,ke=Ue);return rt&&Zr(F,Ae),Se}for(_e=c(F,_e);!Ue.done;Ae++,Ue=V.next())Ue=de(_e,F,Ae,Ue.value,re),Ue!==null&&(n&&Ue.alternate!==null&&_e.delete(Ue.key===null?Ae:Ue.key),L=g(Ue,L,Ae),ke===null?Se=Ue:ke.sibling=Ue,ke=Ue);return n&&_e.forEach(function(gx){return s(F,gx)}),rt&&Zr(F,Ae),Se}function pt(F,L,V,re){if(typeof V=="object"&&V!==null&&V.type===Q&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var Se=V.key,ke=L;ke!==null;){if(ke.key===Se){if(Se=V.type,Se===Q){if(ke.tag===7){a(F,ke.sibling),L=p(ke,V.props.children),L.return=F,F=L;break e}}else if(ke.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ie&&yh(Se)===ke.type){a(F,ke.sibling),L=p(ke,V.props),L.ref=Bi(F,ke,V),L.return=F,F=L;break e}a(F,ke);break}else s(F,ke);ke=ke.sibling}V.type===Q?(L=as(V.props.children,F.mode,re,V.key),L.return=F,F=L):(re=Ha(V.type,V.key,V.props,null,F.mode,re),re.ref=Bi(F,L,V),re.return=F,F=re)}return S(F);case z:e:{for(ke=V.key;L!==null;){if(L.key===ke)if(L.tag===4&&L.stateNode.containerInfo===V.containerInfo&&L.stateNode.implementation===V.implementation){a(F,L.sibling),L=p(L,V.children||[]),L.return=F,F=L;break e}else{a(F,L);break}else s(F,L);L=L.sibling}L=pc(V,F.mode,re),L.return=F,F=L}return S(F);case Ie:return ke=V._init,pt(F,L,ke(V._payload),re)}if(We(V))return me(F,L,V,re);if(M(V))return ye(F,L,V,re);Sa(F,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,L!==null&&L.tag===6?(a(F,L.sibling),L=p(L,V),L.return=F,F=L):(a(F,L),L=hc(V,F.mode,re),L.return=F,F=L),S(F)):a(F,L)}return pt}var Us=vh(!0),wh=vh(!1),ba=br(null),ka=null,zs=null,ku=null;function _u(){ku=zs=ka=null}function Cu(n){var s=ba.current;tt(ba),n._currentValue=s}function Eu(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Ws(n,s){ka=n,ku=zs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&s&&(qt=!0),n.firstContext=null)}function mn(n){var s=n._currentValue;if(ku!==n)if(n={context:n,memoizedValue:s,next:null},zs===null){if(ka===null)throw Error(r(308));zs=n,ka.dependencies={lanes:0,firstContext:n}}else zs=zs.next=n;return s}var es=null;function Pu(n){es===null?es=[n]:es.push(n)}function xh(n,s,a,c){var p=s.interleaved;return p===null?(a.next=a,Pu(s)):(a.next=p.next,p.next=a),s.interleaved=a,Zn(n,c)}function Zn(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Cr=!1;function Tu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function er(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Er(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Be&2){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,Zn(n,a)}return p=c.interleaved,p===null?(s.next=s,Pu(c)):(s.next=p.next,p.next=s),c.interleaved=s,Zn(n,a)}function _a(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Ul(n,a)}}function bh(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var S={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?p=g=S:g=g.next=S,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function Ca(n,s,a,c){var p=n.updateQueue;Cr=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var R=T,W=R.next;R.next=null,S===null?g=W:S.next=W,S=R;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==S&&(T===null?X.firstBaseUpdate=W:T.next=W,X.lastBaseUpdate=R))}if(g!==null){var te=p.baseState;S=0,X=W=R=null,T=g;do{var J=T.lane,de=T.eventTime;if((c&J)===J){X!==null&&(X=X.next={eventTime:de,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var me=n,ye=T;switch(J=s,de=a,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){te=me.call(de,te,J);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,J=typeof me=="function"?me.call(de,te,J):me,J==null)break e;te=B({},te,J);break e;case 2:Cr=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,J=p.effects,J===null?p.effects=[T]:J.push(T))}else de={eventTime:de,lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(W=X=de,R=te):X=X.next=de,S|=J;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;J=T,T=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(X===null&&(R=te),p.baseState=R,p.firstBaseUpdate=W,p.lastBaseUpdate=X,s=p.shared.interleaved,s!==null){p=s;do S|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);rs|=S,n.lanes=S,n.memoizedState=te}}function kh(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],p=c.callback;if(p!==null){if(c.callback=null,c=a,typeof p!="function")throw Error(r(191,p));p.call(c)}}}var Vi={},Mn=br(Vi),Ui=br(Vi),zi=br(Vi);function ts(n){if(n===Vi)throw Error(r(174));return n}function ju(n,s){switch(Ye(zi,s),Ye(Ui,n),Ye(Mn,Vi),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Hn(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Hn(s,n)}tt(Mn),Ye(Mn,s)}function Hs(){tt(Mn),tt(Ui),tt(zi)}function _h(n){ts(zi.current);var s=ts(Mn.current),a=Hn(s,n.type);s!==a&&(Ye(Ui,n),Ye(Mn,a))}function Ru(n){Ui.current===n&&(tt(Mn),tt(Ui))}var it=br(0);function Ea(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nu=[];function Au(){for(var n=0;n<Nu.length;n++)Nu[n]._workInProgressVersionPrimary=null;Nu.length=0}var Pa=U.ReactCurrentDispatcher,Lu=U.ReactCurrentBatchConfig,ns=0,ot=null,xt=null,bt=null,Ta=!1,Wi=!1,Hi=0,Fw=0;function Lt(){throw Error(r(321))}function Du(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!_n(n[a],s[a]))return!1;return!0}function Ou(n,s,a,c,p,g){if(ns=g,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pa.current=n===null||n.memoizedState===null?zw:Ww,n=a(c,p),Wi){g=0;do{if(Wi=!1,Hi=0,25<=g)throw Error(r(301));g+=1,bt=xt=null,s.updateQueue=null,Pa.current=Hw,n=a(c,p)}while(Wi)}if(Pa.current=Na,s=xt!==null&&xt.next!==null,ns=0,bt=xt=ot=null,Ta=!1,s)throw Error(r(300));return n}function Mu(){var n=Hi!==0;return Hi=0,n}function In(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ot.memoizedState=bt=n:bt=bt.next=n,bt}function gn(){if(xt===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var s=bt===null?ot.memoizedState:bt.next;if(s!==null)bt=s,xt=n;else{if(n===null)throw Error(r(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},bt===null?ot.memoizedState=bt=n:bt=bt.next=n}return bt}function Gi(n,s){return typeof s=="function"?s(n):s}function Iu(n){var s=gn(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=xt,p=c.baseQueue,g=a.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}c.baseQueue=p=g,a.pending=null}if(p!==null){g=p.next,c=c.baseState;var T=S=null,R=null,W=g;do{var X=W.lane;if((ns&X)===X)R!==null&&(R=R.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:n(c,W.action);else{var te={lane:X,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};R===null?(T=R=te,S=c):R=R.next=te,ot.lanes|=X,rs|=X}W=W.next}while(W!==null&&W!==g);R===null?S=c:R.next=T,_n(c,s.memoizedState)||(qt=!0),s.memoizedState=c,s.baseState=S,s.baseQueue=R,a.lastRenderedState=c}if(n=a.interleaved,n!==null){p=n;do g=p.lane,ot.lanes|=g,rs|=g,p=p.next;while(p!==n)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function $u(n){var s=gn(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var S=p=p.next;do g=n(g,S.action),S=S.next;while(S!==p);_n(g,s.memoizedState)||(qt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Ch(){}function Eh(n,s){var a=ot,c=gn(),p=s(),g=!_n(c.memoizedState,p);if(g&&(c.memoizedState=p,qt=!0),c=c.queue,Fu(jh.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||bt!==null&&bt.memoizedState.tag&1){if(a.flags|=2048,Ki(9,Th.bind(null,a,c,p,s),void 0,null),kt===null)throw Error(r(349));ns&30||Ph(a,s,p)}return p}function Ph(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Th(n,s,a,c){s.value=a,s.getSnapshot=c,Rh(s)&&Nh(n)}function jh(n,s,a){return a(function(){Rh(s)&&Nh(n)})}function Rh(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!_n(n,a)}catch{return!0}}function Nh(n){var s=Zn(n,1);s!==null&&jn(s,n,1,-1)}function Ah(n){var s=In();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},s.queue=n,n=n.dispatch=Uw.bind(null,ot,n),[s.memoizedState,n]}function Ki(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Lh(){return gn().memoizedState}function ja(n,s,a,c){var p=In();ot.flags|=n,p.memoizedState=Ki(1|s,a,void 0,c===void 0?null:c)}function Ra(n,s,a,c){var p=gn();c=c===void 0?null:c;var g=void 0;if(xt!==null){var S=xt.memoizedState;if(g=S.destroy,c!==null&&Du(c,S.deps)){p.memoizedState=Ki(s,a,g,c);return}}ot.flags|=n,p.memoizedState=Ki(1|s,a,g,c)}function Dh(n,s){return ja(8390656,8,n,s)}function Fu(n,s){return Ra(2048,8,n,s)}function Oh(n,s){return Ra(4,2,n,s)}function Mh(n,s){return Ra(4,4,n,s)}function Ih(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function $h(n,s,a){return a=a!=null?a.concat([n]):null,Ra(4,4,Ih.bind(null,s,n),a)}function Bu(){}function Fh(n,s){var a=gn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Du(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Bh(n,s){var a=gn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Du(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Vh(n,s,a){return ns&21?(_n(a,s)||(a=yf(),ot.lanes|=a,rs|=a,n.baseState=!0),s):(n.baseState&&(n.baseState=!1,qt=!0),n.memoizedState=a)}function Bw(n,s){var a=Ge;Ge=a!==0&&4>a?a:4,n(!0);var c=Lu.transition;Lu.transition={};try{n(!1),s()}finally{Ge=a,Lu.transition=c}}function Uh(){return gn().memoizedState}function Vw(n,s,a){var c=Rr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},zh(n))Wh(s,a);else if(a=xh(n,s,a,c),a!==null){var p=Bt();jn(a,n,c,p),Hh(a,s,c)}}function Uw(n,s,a){var c=Rr(n),p={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(zh(n))Wh(s,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,T=g(S,a);if(p.hasEagerState=!0,p.eagerState=T,_n(T,S)){var R=s.interleaved;R===null?(p.next=p,Pu(s)):(p.next=R.next,R.next=p),s.interleaved=p;return}}catch{}finally{}a=xh(n,s,p,c),a!==null&&(p=Bt(),jn(a,n,c,p),Hh(a,s,c))}}function zh(n){var s=n.alternate;return n===ot||s!==null&&s===ot}function Wh(n,s){Wi=Ta=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Hh(n,s,a){if(a&4194240){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Ul(n,a)}}var Na={readContext:mn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},zw={readContext:mn,useCallback:function(n,s){return In().memoizedState=[n,s===void 0?null:s],n},useContext:mn,useEffect:Dh,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,ja(4194308,4,Ih.bind(null,s,n),a)},useLayoutEffect:function(n,s){return ja(4194308,4,n,s)},useInsertionEffect:function(n,s){return ja(4,2,n,s)},useMemo:function(n,s){var a=In();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=In();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=Vw.bind(null,ot,n),[c.memoizedState,n]},useRef:function(n){var s=In();return n={current:n},s.memoizedState=n},useState:Ah,useDebugValue:Bu,useDeferredValue:function(n){return In().memoizedState=n},useTransition:function(){var n=Ah(!1),s=n[0];return n=Bw.bind(null,n[1]),In().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=ot,p=In();if(rt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),kt===null)throw Error(r(349));ns&30||Ph(c,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,Dh(jh.bind(null,c,g,n),[n]),c.flags|=2048,Ki(9,Th.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=In(),s=kt.identifierPrefix;if(rt){var a=Xn,c=Qn;a=(c&~(1<<32-kn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Hi++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Fw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Ww={readContext:mn,useCallback:Fh,useContext:mn,useEffect:Fu,useImperativeHandle:$h,useInsertionEffect:Oh,useLayoutEffect:Mh,useMemo:Bh,useReducer:Iu,useRef:Lh,useState:function(){return Iu(Gi)},useDebugValue:Bu,useDeferredValue:function(n){var s=gn();return Vh(s,xt.memoizedState,n)},useTransition:function(){var n=Iu(Gi)[0],s=gn().memoizedState;return[n,s]},useMutableSource:Ch,useSyncExternalStore:Eh,useId:Uh,unstable_isNewReconciler:!1},Hw={readContext:mn,useCallback:Fh,useContext:mn,useEffect:Fu,useImperativeHandle:$h,useInsertionEffect:Oh,useLayoutEffect:Mh,useMemo:Bh,useReducer:$u,useRef:Lh,useState:function(){return $u(Gi)},useDebugValue:Bu,useDeferredValue:function(n){var s=gn();return xt===null?s.memoizedState=n:Vh(s,xt.memoizedState,n)},useTransition:function(){var n=$u(Gi)[0],s=gn().memoizedState;return[n,s]},useMutableSource:Ch,useSyncExternalStore:Eh,useId:Uh,unstable_isNewReconciler:!1};function En(n,s){if(n&&n.defaultProps){s=B({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Vu(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:B({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Aa={isMounted:function(n){return(n=n._reactInternals)?ze(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Bt(),p=Rr(n),g=er(c,p);g.payload=s,a!=null&&(g.callback=a),s=Er(n,g,p),s!==null&&(jn(s,n,p,c),_a(s,n,p))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Bt(),p=Rr(n),g=er(c,p);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Er(n,g,p),s!==null&&(jn(s,n,p,c),_a(s,n,p))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Bt(),c=Rr(n),p=er(a,c);p.tag=2,s!=null&&(p.callback=s),s=Er(n,p,c),s!==null&&(jn(s,n,c,a),_a(s,n,c))}};function Gh(n,s,a,c,p,g,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,S):s.prototype&&s.prototype.isPureReactComponent?!Li(a,c)||!Li(p,g):!0}function Kh(n,s,a){var c=!1,p=kr,g=s.contextType;return typeof g=="object"&&g!==null?g=mn(g):(p=Kt(s)?Qr:At.current,c=s.contextTypes,g=(c=c!=null)?$s(n,p):kr),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Aa,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=g),s}function qh(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&Aa.enqueueReplaceState(s,s.state,null)}function Uu(n,s,a,c){var p=n.stateNode;p.props=a,p.state=n.memoizedState,p.refs={},Tu(n);var g=s.contextType;typeof g=="object"&&g!==null?p.context=mn(g):(g=Kt(s)?Qr:At.current,p.context=$s(n,g)),p.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Vu(n,s,g,a),p.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Aa.enqueueReplaceState(p,p.state,null),Ca(n,a,p,c),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function Gs(n,s){try{var a="",c=s;do a+=ee(c),c=c.return;while(c);var p=a}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:p,digest:null}}function zu(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Wu(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Gw=typeof WeakMap=="function"?WeakMap:Map;function Jh(n,s,a){a=er(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Fa||(Fa=!0,ic=c),Wu(n,s)},a}function Yh(n,s,a){a=er(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var p=s.value;a.payload=function(){return c(p)},a.callback=function(){Wu(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Wu(n,s),typeof c!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),a}function Qh(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Gw;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(a)||(p.add(a),n=ox.bind(null,n,s,a),s.then(n,n))}function Xh(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Zh(n,s,a,c,p){return n.mode&1?(n.flags|=65536,n.lanes=p,n):(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=er(-1,1),s.tag=2,Er(a,s,1))),a.lanes|=1),n)}var Kw=U.ReactCurrentOwner,qt=!1;function Ft(n,s,a,c){s.child=n===null?wh(s,null,a,c):Us(s,n.child,a,c)}function ep(n,s,a,c,p){a=a.render;var g=s.ref;return Ws(s,p),c=Ou(n,s,a,c,g,p),a=Mu(),n!==null&&!qt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~p,tr(n,s,p)):(rt&&a&&vu(s),s.flags|=1,Ft(n,s,c,p),s.child)}function tp(n,s,a,c,p){if(n===null){var g=a.type;return typeof g=="function"&&!fc(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,np(n,s,g,c,p)):(n=Ha(a.type,null,c,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!(n.lanes&p)){var S=g.memoizedProps;if(a=a.compare,a=a!==null?a:Li,a(S,c)&&n.ref===s.ref)return tr(n,s,p)}return s.flags|=1,n=Ar(g,c),n.ref=s.ref,n.return=s,s.child=n}function np(n,s,a,c,p){if(n!==null){var g=n.memoizedProps;if(Li(g,c)&&n.ref===s.ref)if(qt=!1,s.pendingProps=c=g,(n.lanes&p)!==0)n.flags&131072&&(qt=!0);else return s.lanes=n.lanes,tr(n,s,p)}return Hu(n,s,a,c,p)}function rp(n,s,a){var c=s.pendingProps,p=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(qs,an),an|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ye(qs,an),an|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ye(qs,an),an|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Ye(qs,an),an|=c;return Ft(n,s,p,a),s.child}function sp(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Hu(n,s,a,c,p){var g=Kt(a)?Qr:At.current;return g=$s(s,g),Ws(s,p),a=Ou(n,s,a,c,g,p),c=Mu(),n!==null&&!qt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~p,tr(n,s,p)):(rt&&c&&vu(s),s.flags|=1,Ft(n,s,a,p),s.child)}function ip(n,s,a,c,p){if(Kt(a)){var g=!0;ga(s)}else g=!1;if(Ws(s,p),s.stateNode===null)Da(n,s),Kh(s,a,c),Uu(s,a,c,p),c=!0;else if(n===null){var S=s.stateNode,T=s.memoizedProps;S.props=T;var R=S.context,W=a.contextType;typeof W=="object"&&W!==null?W=mn(W):(W=Kt(a)?Qr:At.current,W=$s(s,W));var X=a.getDerivedStateFromProps,te=typeof X=="function"||typeof S.getSnapshotBeforeUpdate=="function";te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==c||R!==W)&&qh(s,S,c,W),Cr=!1;var J=s.memoizedState;S.state=J,Ca(s,c,S,p),R=s.memoizedState,T!==c||J!==R||Gt.current||Cr?(typeof X=="function"&&(Vu(s,a,X,c),R=s.memoizedState),(T=Cr||Gh(s,a,T,c,J,R,W))?(te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=R),S.props=c,S.state=R,S.context=W,c=T):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{S=s.stateNode,Sh(n,s),T=s.memoizedProps,W=s.type===s.elementType?T:En(s.type,T),S.props=W,te=s.pendingProps,J=S.context,R=a.contextType,typeof R=="object"&&R!==null?R=mn(R):(R=Kt(a)?Qr:At.current,R=$s(s,R));var de=a.getDerivedStateFromProps;(X=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==te||J!==R)&&qh(s,S,c,R),Cr=!1,J=s.memoizedState,S.state=J,Ca(s,c,S,p);var me=s.memoizedState;T!==te||J!==me||Gt.current||Cr?(typeof de=="function"&&(Vu(s,a,de,c),me=s.memoizedState),(W=Cr||Gh(s,a,W,c,J,me,R)||!1)?(X||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(c,me,R),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(c,me,R)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=me),S.props=c,S.state=me,S.context=R,c=W):(typeof S.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),c=!1)}return Gu(n,s,a,c,g,p)}function Gu(n,s,a,c,p,g){sp(n,s);var S=(s.flags&128)!==0;if(!c&&!S)return p&&ch(s,a,!1),tr(n,s,g);c=s.stateNode,Kw.current=s;var T=S&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&S?(s.child=Us(s,n.child,null,g),s.child=Us(s,null,T,g)):Ft(n,s,T,g),s.memoizedState=c.state,p&&ch(s,a,!0),s.child}function op(n){var s=n.stateNode;s.pendingContext?lh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&lh(n,s.context,!1),ju(n,s.containerInfo)}function ap(n,s,a,c,p){return Vs(),bu(p),s.flags|=256,Ft(n,s,a,c),s.child}var Ku={dehydrated:null,treeContext:null,retryLane:0};function qu(n){return{baseLanes:n,cachePool:null,transitions:null}}function lp(n,s,a){var c=s.pendingProps,p=it.current,g=!1,S=(s.flags&128)!==0,T;if((T=S)||(T=n!==null&&n.memoizedState===null?!1:(p&2)!==0),T?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),Ye(it,p&1),n===null)return Su(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(s.mode&1?n.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(S=c.children,n=c.fallback,g?(c=s.mode,g=s.child,S={mode:"hidden",children:S},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=S):g=Ga(S,c,0,null),n=as(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=qu(a),s.memoizedState=Ku,n):Ju(s,S));if(p=n.memoizedState,p!==null&&(T=p.dehydrated,T!==null))return qw(n,s,S,c,T,p,a);if(g){g=c.fallback,S=s.mode,p=n.child,T=p.sibling;var R={mode:"hidden",children:c.children};return!(S&1)&&s.child!==p?(c=s.child,c.childLanes=0,c.pendingProps=R,s.deletions=null):(c=Ar(p,R),c.subtreeFlags=p.subtreeFlags&14680064),T!==null?g=Ar(T,g):(g=as(g,S,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,S=n.child.memoizedState,S=S===null?qu(a):{baseLanes:S.baseLanes|a,cachePool:null,transitions:S.transitions},g.memoizedState=S,g.childLanes=n.childLanes&~a,s.memoizedState=Ku,c}return g=n.child,n=g.sibling,c=Ar(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Ju(n,s){return s=Ga({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function La(n,s,a,c){return c!==null&&bu(c),Us(s,n.child,null,a),n=Ju(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function qw(n,s,a,c,p,g,S){if(a)return s.flags&256?(s.flags&=-257,c=zu(Error(r(422))),La(n,s,S,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,p=s.mode,c=Ga({mode:"visible",children:c.children},p,0,null),g=as(g,p,S,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&Us(s,n.child,null,S),s.child.memoizedState=qu(S),s.memoizedState=Ku,g);if(!(s.mode&1))return La(n,s,S,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var T=c.dgst;return c=T,g=Error(r(419)),c=zu(g,c,void 0),La(n,s,S,c)}if(T=(S&n.childLanes)!==0,qt||T){if(c=kt,c!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(c.suspendedLanes|S)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Zn(n,p),jn(c,n,p,-1))}return dc(),c=zu(Error(r(421))),La(n,s,S,c)}return p.data==="$?"?(s.flags|=128,s.child=n.child,s=ax.bind(null,n),p._reactRetry=s,null):(n=g.treeContext,on=Sr(p.nextSibling),sn=s,rt=!0,Cn=null,n!==null&&(hn[pn++]=Qn,hn[pn++]=Xn,hn[pn++]=Xr,Qn=n.id,Xn=n.overflow,Xr=s),s=Ju(s,c.children),s.flags|=4096,s)}function up(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Eu(n.return,s,a)}function Yu(n,s,a,c,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=p)}function cp(n,s,a){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(Ft(n,s,c.children,a),c=it.current,c&2)c=c&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&up(n,a,s);else if(n.tag===19)up(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ye(it,c),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)n=a.alternate,n!==null&&Ea(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),Yu(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&Ea(n)===null){s.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}Yu(s,!0,a,null,g);break;case"together":Yu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Da(n,s){!(s.mode&1)&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function tr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),rs|=s.lanes,!(a&s.childLanes))return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Ar(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Ar(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Jw(n,s,a){switch(s.tag){case 3:op(s),Vs();break;case 5:_h(s);break;case 1:Kt(s.type)&&ga(s);break;case 4:ju(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,p=s.memoizedProps.value;Ye(ba,c._currentValue),c._currentValue=p;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ye(it,it.current&1),s.flags|=128,null):a&s.child.childLanes?lp(n,s,a):(Ye(it,it.current&1),n=tr(n,s,a),n!==null?n.sibling:null);Ye(it,it.current&1);break;case 19:if(c=(a&s.childLanes)!==0,n.flags&128){if(c)return cp(n,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(it,it.current),c)break;return null;case 22:case 23:return s.lanes=0,rp(n,s,a)}return tr(n,s,a)}var dp,Qu,fp,hp;dp=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Qu=function(){},fp=function(n,s,a,c){var p=n.memoizedProps;if(p!==c){n=s.stateNode,ts(Mn.current);var g=null;switch(a){case"input":p=ut(n,p),c=ut(n,c),g=[];break;case"select":p=B({},p,{value:void 0}),c=B({},c,{value:void 0}),g=[];break;case"textarea":p=q(n,p),c=q(n,c),g=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=ha)}dr(a,c);var S;a=null;for(W in p)if(!c.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var T=p[W];for(S in T)T.hasOwnProperty(S)&&(a||(a={}),a[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in c){var R=c[W];if(T=p!=null?p[W]:void 0,c.hasOwnProperty(W)&&R!==T&&(R!=null||T!=null))if(W==="style")if(T){for(S in T)!T.hasOwnProperty(S)||R&&R.hasOwnProperty(S)||(a||(a={}),a[S]="");for(S in R)R.hasOwnProperty(S)&&T[S]!==R[S]&&(a||(a={}),a[S]=R[S])}else a||(g||(g=[]),g.push(W,a)),a=R;else W==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(g=g||[]).push(W,R)):W==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(W,""+R):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(R!=null&&W==="onScroll"&&et("scroll",n),g||T===R||(g=[])):(g=g||[]).push(W,R))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},hp=function(n,s,a,c){a!==c&&(s.flags|=4)};function qi(n,s){if(!rt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Dt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function Yw(n,s,a){var c=s.pendingProps;switch(wu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Kt(s.type)&&ma(),Dt(s),null;case 3:return c=s.stateNode,Hs(),tt(Gt),tt(At),Au(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(xa(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Cn!==null&&(lc(Cn),Cn=null))),Qu(n,s),Dt(s),null;case 5:Ru(s);var p=ts(zi.current);if(a=s.type,n!==null&&s.stateNode!=null)fp(n,s,a,c,p),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Dt(s),null}if(n=ts(Mn.current),xa(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[On]=s,c[$i]=g,n=(s.mode&1)!==0,a){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(p=0;p<Oi.length;p++)et(Oi[p],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":Pt(c,g),et("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},et("invalid",c);break;case"textarea":Ce(c,g),et("invalid",c)}dr(a,g),p=null;for(var S in g)if(g.hasOwnProperty(S)){var T=g[S];S==="children"?typeof T=="string"?c.textContent!==T&&(g.suppressHydrationWarning!==!0&&fa(c.textContent,T,n),p=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&fa(c.textContent,T,n),p=["children",""+T]):o.hasOwnProperty(S)&&T!=null&&S==="onScroll"&&et("scroll",c)}switch(a){case"input":gt(c),Wt(c,g,!0);break;case"textarea":gt(c),nt(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=ha)}c=p,s.updateQueue=c,c!==null&&(s.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=$t(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=S.createElement(a,{is:c.is}):(n=S.createElement(a),a==="select"&&(S=n,c.multiple?S.multiple=!0:c.size&&(S.size=c.size))):n=S.createElementNS(n,a),n[On]=s,n[$i]=c,dp(n,s,!1,!1),s.stateNode=n;e:{switch(S=Cs(a,c),a){case"dialog":et("cancel",n),et("close",n),p=c;break;case"iframe":case"object":case"embed":et("load",n),p=c;break;case"video":case"audio":for(p=0;p<Oi.length;p++)et(Oi[p],n);p=c;break;case"source":et("error",n),p=c;break;case"img":case"image":case"link":et("error",n),et("load",n),p=c;break;case"details":et("toggle",n),p=c;break;case"input":Pt(n,c),p=ut(n,c),et("invalid",n);break;case"option":p=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},p=B({},c,{value:void 0}),et("invalid",n);break;case"textarea":Ce(n,c),p=q(n,c),et("invalid",n);break;default:p=c}dr(a,p),T=p;for(g in T)if(T.hasOwnProperty(g)){var R=T[g];g==="style"?Go(n,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&_s(n,R)):g==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&Ht(n,R):typeof R=="number"&&Ht(n,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?R!=null&&g==="onScroll"&&et("scroll",n):R!=null&&D(n,g,R,S))}switch(a){case"input":gt(n),Wt(n,c,!1);break;case"textarea":gt(n),nt(n);break;case"option":c.value!=null&&n.setAttribute("value",""+ie(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?fe(n,!!c.multiple,g,!1):c.defaultValue!=null&&fe(n,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=ha)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dt(s),null;case 6:if(n&&s.stateNode!=null)hp(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(a=ts(zi.current),ts(Mn.current),xa(s)){if(c=s.stateNode,a=s.memoizedProps,c[On]=s,(g=c.nodeValue!==a)&&(n=sn,n!==null))switch(n.tag){case 3:fa(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fa(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[On]=s,s.stateNode=c}return Dt(s),null;case 13:if(tt(it),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(rt&&on!==null&&s.mode&1&&!(s.flags&128))gh(),Vs(),s.flags|=98560,g=!1;else if(g=xa(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[On]=s}else Vs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Dt(s),g=!1}else Cn!==null&&(lc(Cn),Cn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(n===null||it.current&1?St===0&&(St=3):dc())),s.updateQueue!==null&&(s.flags|=4),Dt(s),null);case 4:return Hs(),Qu(n,s),n===null&&Mi(s.stateNode.containerInfo),Dt(s),null;case 10:return Cu(s.type._context),Dt(s),null;case 17:return Kt(s.type)&&ma(),Dt(s),null;case 19:if(tt(it),g=s.memoizedState,g===null)return Dt(s),null;if(c=(s.flags&128)!==0,S=g.rendering,S===null)if(c)qi(g,!1);else{if(St!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(S=Ea(n),S!==null){for(s.flags|=128,qi(g,!1),c=S.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,S=g.alternate,S===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=S.childLanes,g.lanes=S.lanes,g.child=S.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=S.memoizedProps,g.memoizedState=S.memoizedState,g.updateQueue=S.updateQueue,g.type=S.type,n=S.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ye(it,it.current&1|2),s.child}n=n.sibling}g.tail!==null&&Je()>Js&&(s.flags|=128,c=!0,qi(g,!1),s.lanes=4194304)}else{if(!c)if(n=Ea(S),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),qi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!rt)return Dt(s),null}else 2*Je()-g.renderingStartTime>Js&&a!==1073741824&&(s.flags|=128,c=!0,qi(g,!1),s.lanes=4194304);g.isBackwards?(S.sibling=s.child,s.child=S):(a=g.last,a!==null?a.sibling=S:s.child=S,g.last=S)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Je(),s.sibling=null,a=it.current,Ye(it,c?a&1|2:a&1),s):(Dt(s),null);case 22:case 23:return cc(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?an&1073741824&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Qw(n,s){switch(wu(s),s.tag){case 1:return Kt(s.type)&&ma(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Hs(),tt(Gt),tt(At),Au(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 5:return Ru(s),null;case 13:if(tt(it),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Vs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return tt(it),null;case 4:return Hs(),null;case 10:return Cu(s.type._context),null;case 22:case 23:return cc(),null;case 24:return null;default:return null}}var Oa=!1,Ot=!1,Xw=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ks(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){dt(n,s,c)}else a.current=null}function Xu(n,s,a){try{a()}catch(c){dt(n,s,c)}}var pp=!1;function Zw(n,s){if(cu=ta,n=Gf(),nu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var S=0,T=-1,R=-1,W=0,X=0,te=n,J=null;t:for(;;){for(var de;te!==a||p!==0&&te.nodeType!==3||(T=S+p),te!==g||c!==0&&te.nodeType!==3||(R=S+c),te.nodeType===3&&(S+=te.nodeValue.length),(de=te.firstChild)!==null;)J=te,te=de;for(;;){if(te===n)break t;if(J===a&&++W===p&&(T=S),J===g&&++X===c&&(R=S),(de=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=de}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(du={focusedElem:n,selectionRange:a},ta=!1,pe=s;pe!==null;)if(s=pe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,pe=n;else for(;pe!==null;){s=pe;try{var me=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,pt=me.memoizedState,F=s.stateNode,L=F.getSnapshotBeforeUpdate(s.elementType===s.type?ye:En(s.type,ye),pt);F.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var V=s.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(re){dt(s,s.return,re)}if(n=s.sibling,n!==null){n.return=s.return,pe=n;break}pe=s.return}return me=pp,pp=!1,me}function Ji(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&n)===n){var g=p.destroy;p.destroy=void 0,g!==void 0&&Xu(s,a,g)}p=p.next}while(p!==c)}}function Ma(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Zu(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function mp(n){var s=n.alternate;s!==null&&(n.alternate=null,mp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[On],delete s[$i],delete s[mu],delete s[Ow],delete s[Mw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gp(n){return n.tag===5||n.tag===3||n.tag===4}function yp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ec(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ha));else if(c!==4&&(n=n.child,n!==null))for(ec(n,s,a),n=n.sibling;n!==null;)ec(n,s,a),n=n.sibling}function tc(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(tc(n,s,a),n=n.sibling;n!==null;)tc(n,s,a),n=n.sibling}var Tt=null,Pn=!1;function Pr(n,s,a){for(a=a.child;a!==null;)vp(n,s,a),a=a.sibling}function vp(n,s,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(bn,a)}catch{}switch(a.tag){case 5:Ot||Ks(a,s);case 6:var c=Tt,p=Pn;Tt=null,Pr(n,s,a),Tt=c,Pn=p,Tt!==null&&(Pn?(n=Tt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Tt.removeChild(a.stateNode));break;case 18:Tt!==null&&(Pn?(n=Tt,a=a.stateNode,n.nodeType===8?pu(n.parentNode,a):n.nodeType===1&&pu(n,a),Pi(n)):pu(Tt,a.stateNode));break;case 4:c=Tt,p=Pn,Tt=a.stateNode.containerInfo,Pn=!0,Pr(n,s,a),Tt=c,Pn=p;break;case 0:case 11:case 14:case 15:if(!Ot&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var g=p,S=g.destroy;g=g.tag,S!==void 0&&(g&2||g&4)&&Xu(a,s,S),p=p.next}while(p!==c)}Pr(n,s,a);break;case 1:if(!Ot&&(Ks(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(T){dt(a,s,T)}Pr(n,s,a);break;case 21:Pr(n,s,a);break;case 22:a.mode&1?(Ot=(c=Ot)||a.memoizedState!==null,Pr(n,s,a),Ot=c):Pr(n,s,a);break;default:Pr(n,s,a)}}function wp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Xw),s.forEach(function(c){var p=lx.bind(null,n,c);a.has(c)||(a.add(c),c.then(p,p))})}}function Tn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c];try{var g=n,S=s,T=S;e:for(;T!==null;){switch(T.tag){case 5:Tt=T.stateNode,Pn=!1;break e;case 3:Tt=T.stateNode.containerInfo,Pn=!0;break e;case 4:Tt=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(Tt===null)throw Error(r(160));vp(g,S,p),Tt=null,Pn=!1;var R=p.alternate;R!==null&&(R.return=null),p.return=null}catch(W){dt(p,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)xp(s,n),s=s.sibling}function xp(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Tn(s,n),$n(n),c&4){try{Ji(3,n,n.return),Ma(3,n)}catch(ye){dt(n,n.return,ye)}try{Ji(5,n,n.return)}catch(ye){dt(n,n.return,ye)}}break;case 1:Tn(s,n),$n(n),c&512&&a!==null&&Ks(a,a.return);break;case 5:if(Tn(s,n),$n(n),c&512&&a!==null&&Ks(a,a.return),n.flags&32){var p=n.stateNode;try{Ht(p,"")}catch(ye){dt(n,n.return,ye)}}if(c&4&&(p=n.stateNode,p!=null)){var g=n.memoizedProps,S=a!==null?a.memoizedProps:g,T=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&Ve(p,g),Cs(T,S);var W=Cs(T,g);for(S=0;S<R.length;S+=2){var X=R[S],te=R[S+1];X==="style"?Go(p,te):X==="dangerouslySetInnerHTML"?_s(p,te):X==="children"?Ht(p,te):D(p,X,te,W)}switch(T){case"input":zt(p,g);break;case"textarea":Ze(p,g);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?fe(p,!!g.multiple,de,!1):J!==!!g.multiple&&(g.defaultValue!=null?fe(p,!!g.multiple,g.defaultValue,!0):fe(p,!!g.multiple,g.multiple?[]:"",!1))}p[$i]=g}catch(ye){dt(n,n.return,ye)}}break;case 6:if(Tn(s,n),$n(n),c&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,g=n.memoizedProps;try{p.nodeValue=g}catch(ye){dt(n,n.return,ye)}}break;case 3:if(Tn(s,n),$n(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Pi(s.containerInfo)}catch(ye){dt(n,n.return,ye)}break;case 4:Tn(s,n),$n(n);break;case 13:Tn(s,n),$n(n),p=n.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(sc=Je())),c&4&&wp(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Ot=(W=Ot)||X,Tn(s,n),Ot=W):Tn(s,n),$n(n),c&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!X&&n.mode&1)for(pe=n,X=n.child;X!==null;){for(te=pe=X;pe!==null;){switch(J=pe,de=J.child,J.tag){case 0:case 11:case 14:case 15:Ji(4,J,J.return);break;case 1:Ks(J,J.return);var me=J.stateNode;if(typeof me.componentWillUnmount=="function"){c=J,a=J.return;try{s=c,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ye){dt(c,a,ye)}}break;case 5:Ks(J,J.return);break;case 22:if(J.memoizedState!==null){kp(te);continue}}de!==null?(de.return=J,pe=de):kp(te)}X=X.sibling}e:for(X=null,te=n;;){if(te.tag===5){if(X===null){X=te;try{p=te.stateNode,W?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=te.stateNode,R=te.memoizedProps.style,S=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=wi("display",S))}catch(ye){dt(n,n.return,ye)}}}else if(te.tag===6){if(X===null)try{te.stateNode.nodeValue=W?"":te.memoizedProps}catch(ye){dt(n,n.return,ye)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===n)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===n)break e;for(;te.sibling===null;){if(te.return===null||te.return===n)break e;X===te&&(X=null),te=te.return}X===te&&(X=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Tn(s,n),$n(n),c&4&&wp(n);break;case 21:break;default:Tn(s,n),$n(n)}}function $n(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(gp(a)){var c=a;break e}a=a.return}throw Error(r(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(Ht(p,""),c.flags&=-33);var g=yp(n);tc(n,g,p);break;case 3:case 4:var S=c.stateNode.containerInfo,T=yp(n);ec(n,T,S);break;default:throw Error(r(161))}}catch(R){dt(n,n.return,R)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ex(n,s,a){pe=n,Sp(n)}function Sp(n,s,a){for(var c=(n.mode&1)!==0;pe!==null;){var p=pe,g=p.child;if(p.tag===22&&c){var S=p.memoizedState!==null||Oa;if(!S){var T=p.alternate,R=T!==null&&T.memoizedState!==null||Ot;T=Oa;var W=Ot;if(Oa=S,(Ot=R)&&!W)for(pe=p;pe!==null;)S=pe,R=S.child,S.tag===22&&S.memoizedState!==null?_p(p):R!==null?(R.return=S,pe=R):_p(p);for(;g!==null;)pe=g,Sp(g),g=g.sibling;pe=p,Oa=T,Ot=W}bp(n)}else p.subtreeFlags&8772&&g!==null?(g.return=p,pe=g):bp(n)}}function bp(n){for(;pe!==null;){var s=pe;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ot||Ma(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Ot)if(a===null)c.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:En(s.type,a.memoizedProps);c.componentDidUpdate(p,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&kh(s,g,c);break;case 3:var S=s.updateQueue;if(S!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}kh(s,S,a)}break;case 5:var T=s.stateNode;if(a===null&&s.flags&4){a=T;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var X=W.memoizedState;if(X!==null){var te=X.dehydrated;te!==null&&Pi(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ot||s.flags&512&&Zu(s)}catch(J){dt(s,s.return,J)}}if(s===n){pe=null;break}if(a=s.sibling,a!==null){a.return=s.return,pe=a;break}pe=s.return}}function kp(n){for(;pe!==null;){var s=pe;if(s===n){pe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,pe=a;break}pe=s.return}}function _p(n){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ma(4,s)}catch(R){dt(s,a,R)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var p=s.return;try{c.componentDidMount()}catch(R){dt(s,p,R)}}var g=s.return;try{Zu(s)}catch(R){dt(s,g,R)}break;case 5:var S=s.return;try{Zu(s)}catch(R){dt(s,S,R)}}}catch(R){dt(s,s.return,R)}if(s===n){pe=null;break}var T=s.sibling;if(T!==null){T.return=s.return,pe=T;break}pe=s.return}}var tx=Math.ceil,Ia=U.ReactCurrentDispatcher,nc=U.ReactCurrentOwner,yn=U.ReactCurrentBatchConfig,Be=0,kt=null,yt=null,jt=0,an=0,qs=br(0),St=0,Yi=null,rs=0,$a=0,rc=0,Qi=null,Jt=null,sc=0,Js=1/0,nr=null,Fa=!1,ic=null,Tr=null,Ba=!1,jr=null,Va=0,Xi=0,oc=null,Ua=-1,za=0;function Bt(){return Be&6?Je():Ua!==-1?Ua:Ua=Je()}function Rr(n){return n.mode&1?Be&2&&jt!==0?jt&-jt:$w.transition!==null?(za===0&&(za=yf()),za):(n=Ge,n!==0||(n=window.event,n=n===void 0?16:Ef(n.type)),n):1}function jn(n,s,a,c){if(50<Xi)throw Xi=0,oc=null,Error(r(185));bi(n,a,c),(!(Be&2)||n!==kt)&&(n===kt&&(!(Be&2)&&($a|=a),St===4&&Nr(n,jt)),Yt(n,c),a===1&&Be===0&&!(s.mode&1)&&(Js=Je()+500,ya&&_r()))}function Yt(n,s){var a=n.callbackNode;$0(n,s);var c=Xo(n,n===kt?jt:0);if(c===0)a!==null&&Ps(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&Ps(a),s===1)n.tag===0?Iw(Ep.bind(null,n)):dh(Ep.bind(null,n)),Lw(function(){!(Be&6)&&_r()}),a=null;else{switch(vf(c)){case 1:a=He;break;case 4:a=wt;break;case 16:a=qn;break;case 536870912:a=st;break;default:a=qn}a=Dp(a,Cp.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function Cp(n,s){if(Ua=-1,za=0,Be&6)throw Error(r(327));var a=n.callbackNode;if(Ys()&&n.callbackNode!==a)return null;var c=Xo(n,n===kt?jt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||s)s=Wa(n,c);else{s=c;var p=Be;Be|=2;var g=Tp();(kt!==n||jt!==s)&&(nr=null,Js=Je()+500,is(n,s));do try{sx();break}catch(T){Pp(n,T)}while(!0);_u(),Ia.current=g,Be=p,yt!==null?s=0:(kt=null,jt=0,s=St)}if(s!==0){if(s===2&&(p=Bl(n),p!==0&&(c=p,s=ac(n,p))),s===1)throw a=Yi,is(n,0),Nr(n,c),Yt(n,Je()),a;if(s===6)Nr(n,c);else{if(p=n.current.alternate,!(c&30)&&!nx(p)&&(s=Wa(n,c),s===2&&(g=Bl(n),g!==0&&(c=g,s=ac(n,g))),s===1))throw a=Yi,is(n,0),Nr(n,c),Yt(n,Je()),a;switch(n.finishedWork=p,n.finishedLanes=c,s){case 0:case 1:throw Error(r(345));case 2:os(n,Jt,nr);break;case 3:if(Nr(n,c),(c&130023424)===c&&(s=sc+500-Je(),10<s)){if(Xo(n,0)!==0)break;if(p=n.suspendedLanes,(p&c)!==c){Bt(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=hu(os.bind(null,n,Jt,nr),s);break}os(n,Jt,nr);break;case 4:if(Nr(n,c),(c&4194240)===c)break;for(s=n.eventTimes,p=-1;0<c;){var S=31-kn(c);g=1<<S,S=s[S],S>p&&(p=S),c&=~g}if(c=p,c=Je()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*tx(c/1960))-c,10<c){n.timeoutHandle=hu(os.bind(null,n,Jt,nr),c);break}os(n,Jt,nr);break;case 5:os(n,Jt,nr);break;default:throw Error(r(329))}}}return Yt(n,Je()),n.callbackNode===a?Cp.bind(null,n):null}function ac(n,s){var a=Qi;return n.current.memoizedState.isDehydrated&&(is(n,s).flags|=256),n=Wa(n,s),n!==2&&(s=Jt,Jt=a,s!==null&&lc(s)),n}function lc(n){Jt===null?Jt=n:Jt.push.apply(Jt,n)}function nx(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var p=a[c],g=p.getSnapshot;p=p.value;try{if(!_n(g(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Nr(n,s){for(s&=~rc,s&=~$a,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-kn(s),c=1<<a;n[a]=-1,s&=~c}}function Ep(n){if(Be&6)throw Error(r(327));Ys();var s=Xo(n,0);if(!(s&1))return Yt(n,Je()),null;var a=Wa(n,s);if(n.tag!==0&&a===2){var c=Bl(n);c!==0&&(s=c,a=ac(n,c))}if(a===1)throw a=Yi,is(n,0),Nr(n,s),Yt(n,Je()),a;if(a===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,os(n,Jt,nr),Yt(n,Je()),null}function uc(n,s){var a=Be;Be|=1;try{return n(s)}finally{Be=a,Be===0&&(Js=Je()+500,ya&&_r())}}function ss(n){jr!==null&&jr.tag===0&&!(Be&6)&&Ys();var s=Be;Be|=1;var a=yn.transition,c=Ge;try{if(yn.transition=null,Ge=1,n)return n()}finally{Ge=c,yn.transition=a,Be=s,!(Be&6)&&_r()}}function cc(){an=qs.current,tt(qs)}function is(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Aw(a)),yt!==null)for(a=yt.return;a!==null;){var c=a;switch(wu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ma();break;case 3:Hs(),tt(Gt),tt(At),Au();break;case 5:Ru(c);break;case 4:Hs();break;case 13:tt(it);break;case 19:tt(it);break;case 10:Cu(c.type._context);break;case 22:case 23:cc()}a=a.return}if(kt=n,yt=n=Ar(n.current,null),jt=an=s,St=0,Yi=null,rc=$a=rs=0,Jt=Qi=null,es!==null){for(s=0;s<es.length;s++)if(a=es[s],c=a.interleaved,c!==null){a.interleaved=null;var p=c.next,g=a.pending;if(g!==null){var S=g.next;g.next=p,c.next=S}a.pending=c}es=null}return n}function Pp(n,s){do{var a=yt;try{if(_u(),Pa.current=Na,Ta){for(var c=ot.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}Ta=!1}if(ns=0,bt=xt=ot=null,Wi=!1,Hi=0,nc.current=null,a===null||a.return===null){St=1,Yi=s,yt=null;break}e:{var g=n,S=a.return,T=a,R=s;if(s=jt,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var W=R,X=T,te=X.tag;if(!(X.mode&1)&&(te===0||te===11||te===15)){var J=X.alternate;J?(X.updateQueue=J.updateQueue,X.memoizedState=J.memoizedState,X.lanes=J.lanes):(X.updateQueue=null,X.memoizedState=null)}var de=Xh(S);if(de!==null){de.flags&=-257,Zh(de,S,T,g,s),de.mode&1&&Qh(g,W,s),s=de,R=W;var me=s.updateQueue;if(me===null){var ye=new Set;ye.add(R),s.updateQueue=ye}else me.add(R);break e}else{if(!(s&1)){Qh(g,W,s),dc();break e}R=Error(r(426))}}else if(rt&&T.mode&1){var pt=Xh(S);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Zh(pt,S,T,g,s),bu(Gs(R,T));break e}}g=R=Gs(R,T),St!==4&&(St=2),Qi===null?Qi=[g]:Qi.push(g),g=S;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var F=Jh(g,R,s);bh(g,F);break e;case 1:T=R;var L=g.type,V=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Tr===null||!Tr.has(V)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=Yh(g,T,s);bh(g,re);break e}}g=g.return}while(g!==null)}Rp(a)}catch(Se){s=Se,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function Tp(){var n=Ia.current;return Ia.current=Na,n===null?Na:n}function dc(){(St===0||St===3||St===2)&&(St=4),kt===null||!(rs&268435455)&&!($a&268435455)||Nr(kt,jt)}function Wa(n,s){var a=Be;Be|=2;var c=Tp();(kt!==n||jt!==s)&&(nr=null,is(n,s));do try{rx();break}catch(p){Pp(n,p)}while(!0);if(_u(),Be=a,Ia.current=c,yt!==null)throw Error(r(261));return kt=null,jt=0,St}function rx(){for(;yt!==null;)jp(yt)}function sx(){for(;yt!==null&&!qr();)jp(yt)}function jp(n){var s=Lp(n.alternate,n,an);n.memoizedProps=n.pendingProps,s===null?Rp(n):yt=s,nc.current=null}function Rp(n){var s=n;do{var a=s.alternate;if(n=s.return,s.flags&32768){if(a=Qw(a,s),a!==null){a.flags&=32767,yt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{St=6,yt=null;return}}else if(a=Yw(a,s,an),a!==null){yt=a;return}if(s=s.sibling,s!==null){yt=s;return}yt=s=n}while(s!==null);St===0&&(St=5)}function os(n,s,a){var c=Ge,p=yn.transition;try{yn.transition=null,Ge=1,ix(n,s,a,c)}finally{yn.transition=p,Ge=c}return null}function ix(n,s,a,c){do Ys();while(jr!==null);if(Be&6)throw Error(r(327));a=n.finishedWork;var p=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(F0(n,g),n===kt&&(yt=kt=null,jt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ba||(Ba=!0,Dp(qn,function(){return Ys(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=yn.transition,yn.transition=null;var S=Ge;Ge=1;var T=Be;Be|=4,nc.current=null,Zw(n,a),xp(a,n),Cw(du),ta=!!cu,du=cu=null,n.current=a,ex(a),Kn(),Be=T,Ge=S,yn.transition=g}else n.current=a;if(Ba&&(Ba=!1,jr=n,Va=p),g=n.pendingLanes,g===0&&(Tr=null),Fl(a.stateNode),Yt(n,Je()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)p=s[a],c(p.value,{componentStack:p.stack,digest:p.digest});if(Fa)throw Fa=!1,n=ic,ic=null,n;return Va&1&&n.tag!==0&&Ys(),g=n.pendingLanes,g&1?n===oc?Xi++:(Xi=0,oc=n):Xi=0,_r(),null}function Ys(){if(jr!==null){var n=vf(Va),s=yn.transition,a=Ge;try{if(yn.transition=null,Ge=16>n?16:n,jr===null)var c=!1;else{if(n=jr,jr=null,Va=0,Be&6)throw Error(r(331));var p=Be;for(Be|=4,pe=n.current;pe!==null;){var g=pe,S=g.child;if(pe.flags&16){var T=g.deletions;if(T!==null){for(var R=0;R<T.length;R++){var W=T[R];for(pe=W;pe!==null;){var X=pe;switch(X.tag){case 0:case 11:case 15:Ji(8,X,g)}var te=X.child;if(te!==null)te.return=X,pe=te;else for(;pe!==null;){X=pe;var J=X.sibling,de=X.return;if(mp(X),X===W){pe=null;break}if(J!==null){J.return=de,pe=J;break}pe=de}}}var me=g.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var pt=ye.sibling;ye.sibling=null,ye=pt}while(ye!==null)}}pe=g}}if(g.subtreeFlags&2064&&S!==null)S.return=g,pe=S;else e:for(;pe!==null;){if(g=pe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ji(9,g,g.return)}var F=g.sibling;if(F!==null){F.return=g.return,pe=F;break e}pe=g.return}}var L=n.current;for(pe=L;pe!==null;){S=pe;var V=S.child;if(S.subtreeFlags&2064&&V!==null)V.return=S,pe=V;else e:for(S=L;pe!==null;){if(T=pe,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:Ma(9,T)}}catch(Se){dt(T,T.return,Se)}if(T===S){pe=null;break e}var re=T.sibling;if(re!==null){re.return=T.return,pe=re;break e}pe=T.return}}if(Be=p,_r(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(bn,n)}catch{}c=!0}return c}finally{Ge=a,yn.transition=s}}return!1}function Np(n,s,a){s=Gs(a,s),s=Jh(n,s,1),n=Er(n,s,1),s=Bt(),n!==null&&(bi(n,1,s),Yt(n,s))}function dt(n,s,a){if(n.tag===3)Np(n,n,a);else for(;s!==null;){if(s.tag===3){Np(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Tr===null||!Tr.has(c))){n=Gs(a,n),n=Yh(s,n,1),s=Er(s,n,1),n=Bt(),s!==null&&(bi(s,1,n),Yt(s,n));break}}s=s.return}}function ox(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Bt(),n.pingedLanes|=n.suspendedLanes&a,kt===n&&(jt&a)===a&&(St===4||St===3&&(jt&130023424)===jt&&500>Je()-sc?is(n,0):rc|=a),Yt(n,s)}function Ap(n,s){s===0&&(n.mode&1?(s=Qo,Qo<<=1,!(Qo&130023424)&&(Qo=4194304)):s=1);var a=Bt();n=Zn(n,s),n!==null&&(bi(n,s,a),Yt(n,a))}function ax(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Ap(n,a)}function lx(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(s),Ap(n,a)}var Lp;Lp=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Gt.current)qt=!0;else{if(!(n.lanes&a)&&!(s.flags&128))return qt=!1,Jw(n,s,a);qt=!!(n.flags&131072)}else qt=!1,rt&&s.flags&1048576&&fh(s,wa,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Da(n,s),n=s.pendingProps;var p=$s(s,At.current);Ws(s,a),p=Ou(null,s,c,n,p,a);var g=Mu();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Kt(c)?(g=!0,ga(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Tu(s),p.updater=Aa,s.stateNode=p,p._reactInternals=s,Uu(s,c,n,a),s=Gu(null,s,c,!0,g,a)):(s.tag=0,rt&&g&&vu(s),Ft(null,s,p,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Da(n,s),n=s.pendingProps,p=c._init,c=p(c._payload),s.type=c,p=s.tag=cx(c),n=En(c,n),p){case 0:s=Hu(null,s,c,n,a);break e;case 1:s=ip(null,s,c,n,a);break e;case 11:s=ep(null,s,c,n,a);break e;case 14:s=tp(null,s,c,En(c.type,n),a);break e}throw Error(r(306,c,""))}return s;case 0:return c=s.type,p=s.pendingProps,p=s.elementType===c?p:En(c,p),Hu(n,s,c,p,a);case 1:return c=s.type,p=s.pendingProps,p=s.elementType===c?p:En(c,p),ip(n,s,c,p,a);case 3:e:{if(op(s),n===null)throw Error(r(387));c=s.pendingProps,g=s.memoizedState,p=g.element,Sh(n,s),Ca(s,c,null,a);var S=s.memoizedState;if(c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=Gs(Error(r(423)),s),s=ap(n,s,c,a,p);break e}else if(c!==p){p=Gs(Error(r(424)),s),s=ap(n,s,c,a,p);break e}else for(on=Sr(s.stateNode.containerInfo.firstChild),sn=s,rt=!0,Cn=null,a=wh(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Vs(),c===p){s=tr(n,s,a);break e}Ft(n,s,c,a)}s=s.child}return s;case 5:return _h(s),n===null&&Su(s),c=s.type,p=s.pendingProps,g=n!==null?n.memoizedProps:null,S=p.children,fu(c,p)?S=null:g!==null&&fu(c,g)&&(s.flags|=32),sp(n,s),Ft(n,s,S,a),s.child;case 6:return n===null&&Su(s),null;case 13:return lp(n,s,a);case 4:return ju(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Us(s,null,c,a):Ft(n,s,c,a),s.child;case 11:return c=s.type,p=s.pendingProps,p=s.elementType===c?p:En(c,p),ep(n,s,c,p,a);case 7:return Ft(n,s,s.pendingProps,a),s.child;case 8:return Ft(n,s,s.pendingProps.children,a),s.child;case 12:return Ft(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,p=s.pendingProps,g=s.memoizedProps,S=p.value,Ye(ba,c._currentValue),c._currentValue=S,g!==null)if(_n(g.value,S)){if(g.children===p.children&&!Gt.current){s=tr(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var T=g.dependencies;if(T!==null){S=g.child;for(var R=T.firstContext;R!==null;){if(R.context===c){if(g.tag===1){R=er(-1,a&-a),R.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var X=W.pending;X===null?R.next=R:(R.next=X.next,X.next=R),W.pending=R}}g.lanes|=a,R=g.alternate,R!==null&&(R.lanes|=a),Eu(g.return,a,s),T.lanes|=a;break}R=R.next}}else if(g.tag===10)S=g.type===s.type?null:g.child;else if(g.tag===18){if(S=g.return,S===null)throw Error(r(341));S.lanes|=a,T=S.alternate,T!==null&&(T.lanes|=a),Eu(S,a,s),S=g.sibling}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===s){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}Ft(n,s,p.children,a),s=s.child}return s;case 9:return p=s.type,c=s.pendingProps.children,Ws(s,a),p=mn(p),c=c(p),s.flags|=1,Ft(n,s,c,a),s.child;case 14:return c=s.type,p=En(c,s.pendingProps),p=En(c.type,p),tp(n,s,c,p,a);case 15:return np(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,p=s.pendingProps,p=s.elementType===c?p:En(c,p),Da(n,s),s.tag=1,Kt(c)?(n=!0,ga(s)):n=!1,Ws(s,a),Kh(s,c,p),Uu(s,c,p,a),Gu(null,s,c,!0,n,a);case 19:return cp(n,s,a);case 22:return rp(n,s,a)}throw Error(r(156,s.tag))};function Dp(n,s){return tn(n,s)}function ux(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,s,a,c){return new ux(n,s,a,c)}function fc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cx(n){if(typeof n=="function")return fc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ee)return 11;if(n===je)return 14}return 2}function Ar(n,s){var a=n.alternate;return a===null?(a=vn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Ha(n,s,a,c,p,g){var S=2;if(c=n,typeof n=="function")fc(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case Q:return as(a.children,p,g,s);case K:S=8,p|=8;break;case ne:return n=vn(12,a,s,p|2),n.elementType=ne,n.lanes=g,n;case Oe:return n=vn(13,a,s,p),n.elementType=Oe,n.lanes=g,n;case be:return n=vn(19,a,s,p),n.elementType=be,n.lanes=g,n;case we:return Ga(a,p,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ce:S=10;break e;case ve:S=9;break e;case Ee:S=11;break e;case je:S=14;break e;case Ie:S=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=vn(S,a,s,p),s.elementType=n,s.type=c,s.lanes=g,s}function as(n,s,a,c){return n=vn(7,n,c,s),n.lanes=a,n}function Ga(n,s,a,c){return n=vn(22,n,c,s),n.elementType=we,n.lanes=a,n.stateNode={isHidden:!1},n}function hc(n,s,a){return n=vn(6,n,null,s),n.lanes=a,n}function pc(n,s,a){return s=vn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function dx(n,s,a,c,p){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function mc(n,s,a,c,p,g,S,T,R){return n=new dx(n,s,a,T,R),s===1?(s=1,g===!0&&(s|=8)):s=0,g=vn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(g),n}function fx(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Op(n){if(!n)return kr;n=n._reactInternals;e:{if(ze(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Kt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var a=n.type;if(Kt(a))return uh(n,a,s)}return s}function Mp(n,s,a,c,p,g,S,T,R){return n=mc(a,c,!0,n,p,g,S,T,R),n.context=Op(null),a=n.current,c=Bt(),p=Rr(a),g=er(c,p),g.callback=s??null,Er(a,g,p),n.current.lanes=p,bi(n,p,c),Yt(n,c),n}function Ka(n,s,a,c){var p=s.current,g=Bt(),S=Rr(p);return a=Op(a),s.context===null?s.context=a:s.pendingContext=a,s=er(g,S),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=Er(p,s,S),n!==null&&(jn(n,p,S,g),_a(n,p,S)),S}function qa(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ip(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function gc(n,s){Ip(n,s),(n=n.alternate)&&Ip(n,s)}var $p=typeof reportError=="function"?reportError:function(n){console.error(n)};function yc(n){this._internalRoot=n}Ja.prototype.render=yc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Ka(n,s,null,null)},Ja.prototype.unmount=yc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ss(function(){Ka(null,n,null,null)}),s[Jn]=null}};function Ja(n){this._internalRoot=n}Ja.prototype.unstable_scheduleHydration=function(n){if(n){var s=Sf();n={blockedOn:null,target:n,priority:s};for(var a=0;a<vr.length&&s!==0&&s<vr[a].priority;a++);vr.splice(a,0,n),a===0&&_f(n)}};function vc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ya(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Fp(){}function hx(n,s,a,c,p){if(p){if(typeof c=="function"){var g=c;c=function(){var W=qa(S);g.call(W)}}var S=Mp(s,c,n,0,null,!1,!1,"",Fp);return n._reactRootContainer=S,n[Jn]=S.current,Mi(n.nodeType===8?n.parentNode:n),ss(),S}for(;p=n.lastChild;)n.removeChild(p);if(typeof c=="function"){var T=c;c=function(){var W=qa(R);T.call(W)}}var R=mc(n,0,!1,null,null,!1,!1,"",Fp);return n._reactRootContainer=R,n[Jn]=R.current,Mi(n.nodeType===8?n.parentNode:n),ss(function(){Ka(s,R,a,c)}),R}function Qa(n,s,a,c,p){var g=a._reactRootContainer;if(g){var S=g;if(typeof p=="function"){var T=p;p=function(){var R=qa(S);T.call(R)}}Ka(s,S,n,p)}else S=hx(a,s,n,p,c);return qa(S)}wf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Si(s.pendingLanes);a!==0&&(Ul(s,a|1),Yt(s,Je()),!(Be&6)&&(Js=Je()+500,_r()))}break;case 13:ss(function(){var c=Zn(n,1);if(c!==null){var p=Bt();jn(c,n,1,p)}}),gc(n,1)}},zl=function(n){if(n.tag===13){var s=Zn(n,134217728);if(s!==null){var a=Bt();jn(s,n,134217728,a)}gc(n,134217728)}},xf=function(n){if(n.tag===13){var s=Rr(n),a=Zn(n,s);if(a!==null){var c=Bt();jn(a,n,s,c)}gc(n,s)}},Sf=function(){return Ge},bf=function(n,s){var a=Ge;try{return Ge=n,s()}finally{Ge=a}},Es=function(n,s,a){switch(s){case"input":if(zt(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var p=pa(c);if(!p)throw Error(r(90));Ut(c),zt(c,p)}}}break;case"textarea":Ze(n,a);break;case"select":s=a.value,s!=null&&fe(n,!!a.multiple,s,!1)}},Jo=uc,A=ss;var px={usingClientEntryPoint:!1,Events:[Fi,Ms,pa,Kr,qo,uc]},Zi={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mx={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=pr(n),n===null?null:n.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{bn=Xa.inject(mx),nn=Xa}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=px,Qt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(s))throw Error(r(200));return fx(n,s,null,a)},Qt.createRoot=function(n,s){if(!vc(n))throw Error(r(299));var a=!1,c="",p=$p;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=mc(n,1,!1,null,null,a,!1,c,p),n[Jn]=s.current,Mi(n.nodeType===8?n.parentNode:n),new yc(s)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=pr(s),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return ss(n)},Qt.hydrate=function(n,s,a){if(!Ya(s))throw Error(r(200));return Qa(null,n,s,!0,a)},Qt.hydrateRoot=function(n,s,a){if(!vc(n))throw Error(r(405));var c=a!=null&&a.hydratedSources||null,p=!1,g="",S=$p;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),s=Mp(s,null,n,1,a??null,p,!1,g,S),n[Jn]=s.current,Mi(n),c)for(n=0;n<c.length;n++)a=c[n],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new Ja(s)},Qt.render=function(n,s,a){if(!Ya(s))throw Error(r(200));return Qa(null,n,s,!1,a)},Qt.unmountComponentAtNode=function(n){if(!Ya(n))throw Error(r(40));return n._reactRootContainer?(ss(function(){Qa(null,null,n,!1,function(){n._reactRootContainer=null,n[Jn]=null})}),!0):!1},Qt.unstable_batchedUpdates=uc,Qt.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Ya(a))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Qa(n,s,a,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Kp;function ly(){if(Kp)return Sc.exports;Kp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sc.exports=_x(),Sc.exports}var qp;function Cx(){if(qp)return Za;qp=1;var t=ly();return Za.createRoot=t.createRoot,Za.hydrateRoot=t.hydrateRoot,Za}var Ex=Cx();const Px=yd(Ex);var to={},Jp;function Tx(){if(Jp)return to;Jp=1,Object.defineProperty(to,"__esModule",{value:!0}),to.parse=u,to.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,x){const k=new l,C=w.length;if(C<2)return k;const j=(x==null?void 0:x.decode)||m;let E=0;do{const $=w.indexOf("=",E);if($===-1)break;const D=w.indexOf(";",E),U=D===-1?C:D;if($>U){E=w.lastIndexOf(";",$-1)+1;continue}const _=d(w,E,$),z=f(w,$,_),Q=w.slice(_,z);if(k[Q]===void 0){let K=d(w,$+1,U),ne=f(w,U,K);const ce=j(w.slice(K,ne));k[Q]=ce}E=U+1}while(E<C);return k}function d(w,x,k){do{const C=w.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<k);return k}function f(w,x,k){for(;x>k;){const C=w.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return k}function h(w,x,k){const C=(k==null?void 0:k.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=C(x);if(!e.test(j))throw new TypeError(`argument val is invalid: ${x}`);let E=w+"="+j;if(!k)return E;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);E+="; Max-Age="+k.maxAge}if(k.domain){if(!r.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);E+="; Domain="+k.domain}if(k.path){if(!i.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);E+="; Path="+k.path}if(k.expires){if(!v(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);E+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(E+="; HttpOnly"),k.secure&&(E+="; Secure"),k.partitioned&&(E+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return E}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return o.call(w)==="[object Date]"}return to}Tx();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yp="popstate";function jx(t={}){function e(o,l){let{pathname:u="/",search:d="",hash:f=""}=lr(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Po("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){let u=o.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=o.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof l=="string"?l:Vr(l))}function i(o,l){Et(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Nx(e,r,i,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Et(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rx(){return Math.random().toString(36).substring(2,10)}function Qp(t,e){return{usr:t.state,key:t.key,idx:e}}function Po(t,e,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?lr(e):e,state:r,key:e&&e.key||i||Rx()}}function Vr({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function lr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Nx(t,e,r,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d="POP",f=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function v(){d="POP";let j=m(),E=j==null?null:j-h;h=j,f&&f({action:d,location:C.location,delta:E})}function w(j,E){d="PUSH";let $=Po(C.location,j,E);r($,j),h=m()+1;let D=Qp($,h),U=C.createHref($);try{u.pushState(D,"",U)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(U)}l&&f&&f({action:d,location:C.location,delta:1})}function x(j,E){d="REPLACE";let $=Po(C.location,j,E);r($,j),h=m();let D=Qp($,h),U=C.createHref($);u.replaceState(D,"",U),l&&f&&f({action:d,location:C.location,delta:0})}function k(j){let E=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof j=="string"?j:Vr(j);return $=$.replace(/ $/,"%20"),Fe(E,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,E)}let C={get action(){return d},get location(){return t(o,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Yp,v),f=j,()=>{o.removeEventListener(Yp,v),f=null}},createHref(j){return e(o,j)},createURL:k,encodeLocation(j){let E=k(j);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:x,go(j){return u.go(j)}};return C}var Ax=new Set(["lazy","caseSensitive","path","id","index","children"]);function Lx(t){return t.index===!0}function vl(t,e,r=[],i={}){return t.map((o,l)=>{let u=[...r,String(l)],d=typeof o.id=="string"?o.id:u.join("-");if(Fe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Fe(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),Lx(o)){let f={...o,...e(o),id:d};return i[d]=f,f}else{let f={...o,...e(o),id:d,children:void 0};return i[d]=f,o.children&&(f.children=vl(o.children,e,u,i)),f}})}function Fr(t,e,r="/"){return fl(t,e,r,!1)}function fl(t,e,r,i){let o=typeof e=="string"?lr(e):e,l=dn(o.pathname||"/",r);if(l==null)return null;let u=uy(t);Ox(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=Gx(l);d=Wx(u[f],h,i)}return d}function Dx(t,e){let{route:r,pathname:i,params:o}=t;return{id:r.id,pathname:i,params:o,data:e[r.id],handle:r.handle}}function uy(t,e=[],r=[],i=""){let o=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Fe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let h=Bn([i,f.relativePath]),m=r.concat(f);l.children&&l.children.length>0&&(Fe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),uy(l.children,e,m,h)),!(l.path==null&&!l.index)&&e.push({path:h,score:Ux(h,l.index),routesMeta:m})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of cy(l.path))o(l,u,f)}),e}function cy(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=cy(i.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function Ox(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:zx(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Mx=/^:[\w-]+$/,Ix=3,$x=2,Fx=1,Bx=10,Vx=-2,Xp=t=>t==="*";function Ux(t,e){let r=t.split("/"),i=r.length;return r.some(Xp)&&(i+=Vx),e&&(i+=$x),r.filter(o=>!Xp(o)).reduce((o,l)=>o+(Mx.test(l)?Ix:l===""?Fx:Bx),i)}function zx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function Wx(t,e,r=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],h=d===i.length-1,m=l==="/"?e:e.slice(l.length)||"/",v=wl({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),w=f.route;if(!v&&h&&r&&!i[i.length-1].route.index&&(v=wl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Bn([l,v.pathname]),pathnameBase:Jx(Bn([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Bn([l,v.pathnameBase]))}return u}function wl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=Hx(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:v},w)=>{if(m==="*"){let k=d[w]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const x=d[w];return v&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:u,pattern:t}}function Hx(t,e=!1,r=!0){Et(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Gx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Et(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function Kx(t,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof t=="string"?lr(t):t;return{pathname:r?r.startsWith("/")?r:qx(r,e):e,search:Yx(i),hash:Qx(o)}}function qx(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function _c(t,e,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dy(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wd(t){let e=dy(t);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function xd(t,e,r,i=!1){let o;typeof t=="string"?o=lr(t):(o={...t},Fe(!o.pathname||!o.pathname.includes("?"),_c("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),_c("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),_c("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=r;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}d=v>=0?e[v]:"/"}let f=Kx(o,d),h=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var Bn=t=>t.join("/").replace(/\/\/+/g,"/"),Jx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,xl=class{constructor(t,e,r,i=!1){this.status=t,this.statusText=e||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Tl(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fy=["POST","PUT","PATCH","DELETE"],Xx=new Set(fy),Zx=["GET",...fy],eS=new Set(Zx),tS=new Set([301,302,303,307,308]),nS=new Set([307,308]),Cc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ti={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),hy="remix-router-transitions",py=Symbol("ResetLoaderData");function iS(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Fe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.mapRouteProperties||sS,o={},l=vl(t.routes,i,void 0,o),u,d=t.basename||"/",f=t.dataStrategy||cS,h=t.patchRoutesOnNavigation,m={...t.future},v=null,w=new Set,x=null,k=null,C=null,j=t.hydrationData!=null,E=Fr(l,t.history.location,d),$=null;if(E==null&&!h){let A=Sn(404,{pathname:t.history.location.pathname}),{matches:I,route:H}=um(l);E=I,$={[H.id]:A}}E&&!t.hydrationData&&Gr(E,l,t.history.location.pathname).active&&(E=null);let D;if(E)if(E.some(A=>A.route.lazy))D=!1;else if(!E.some(A=>A.route.loader))D=!0;else{let A=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;if(I){let H=E.findIndex(Y=>I[Y.route.id]!==void 0);D=E.slice(0,H+1).every(Y=>!Hc(Y.route,A,I))}else D=E.every(H=>!Hc(H.route,A,I))}else{D=!1,E=[];let A=Gr(null,l,t.history.location.pathname);A.active&&A.matches&&(E=A.matches)}let U,_={historyAction:t.history.action,location:t.history.location,matches:E,initialized:D,navigation:Cc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||$,fetchers:new Map,blockers:new Map},z="POP",Q=!1,K,ne=!1,ce=new Map,ve=null,Ee=!1,Oe=!1,be=new Set,je=new Map,Ie=0,we=-1,O=new Map,M=new Set,B=new Map,P=new Map,N=new Set,Z=new Map,oe,ee=null;function G(){if(v=t.history.listen(({action:A,location:I,delta:H})=>{if(oe){oe(),oe=void 0;return}Et(Z.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=Cs({currentLocation:_.location,nextLocation:I,historyAction:A});if(Y&&H!=null){let ue=new Promise(xe=>{oe=xe});t.history.go(H*-1),dr(Y,{state:"blocked",location:I,proceed(){dr(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),ue.then(()=>t.history.go(H))},reset(){let xe=new Map(_.blockers);xe.set(Y,ti),se({blockers:xe})}});return}return ht(A,I)}),r){SS(e,ce);let A=()=>bS(e,ce);e.addEventListener("pagehide",A),ve=()=>e.removeEventListener("pagehide",A)}return _.initialized||ht("POP",_.location,{initialHydration:!0}),U}function ae(){v&&v(),ve&&ve(),w.clear(),K&&K.abort(),_.fetchers.forEach((A,I)=>Dn(I)),_.blockers.forEach((A,I)=>Ko(I))}function ie(A){return w.add(A),()=>w.delete(A)}function se(A,I={}){_={..._,...A};let H=[],Y=[];_.fetchers.forEach((ue,xe)=>{ue.state==="idle"&&(N.has(xe)?H.push(xe):Y.push(xe))}),N.forEach(ue=>{!_.fetchers.has(ue)&&!je.has(ue)&&H.push(ue)}),[...w].forEach(ue=>ue(_,{deletedFetchers:H,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),H.forEach(ue=>Dn(ue)),Y.forEach(ue=>_.fetchers.delete(ue))}function Te(A,I,{flushSync:H}={}){var le,Ne;let Y=_.actionData!=null&&_.navigation.formMethod!=null&&Nn(_.navigation.formMethod)&&_.navigation.state==="loading"&&((le=A.state)==null?void 0:le._isRedirect)!==!0,ue;I.actionData?Object.keys(I.actionData).length>0?ue=I.actionData:ue=null:Y?ue=_.actionData:ue=null;let xe=I.loaderData?am(_.loaderData,I.loaderData,I.matches||[],I.errors):_.loaderData,Re=_.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Le,qe)=>Re.set(qe,ti)));let he=Q===!0||_.navigation.formMethod!=null&&Nn(_.navigation.formMethod)&&((Ne=A.state)==null?void 0:Ne._isRedirect)!==!0;u&&(l=u,u=void 0),Ee||z==="POP"||(z==="PUSH"?t.history.push(A,A.state):z==="REPLACE"&&t.history.replace(A,A.state));let ge;if(z==="POP"){let Le=ce.get(_.location.pathname);Le&&Le.has(A.pathname)?ge={currentLocation:_.location,nextLocation:A}:ce.has(A.pathname)&&(ge={currentLocation:A,nextLocation:_.location})}else if(ne){let Le=ce.get(_.location.pathname);Le?Le.add(A.pathname):(Le=new Set([A.pathname]),ce.set(_.location.pathname,Le)),ge={currentLocation:_.location,nextLocation:A}}se({...I,actionData:ue,loaderData:xe,historyAction:z,location:A,initialized:!0,navigation:Cc,revalidation:"idle",restoreScrollPosition:Gn(A,I.matches||_.matches),preventScrollReset:he,blockers:Re},{viewTransitionOpts:ge,flushSync:H===!0}),z="POP",Q=!1,ne=!1,Ee=!1,Oe=!1,ee==null||ee.resolve(),ee=null}async function gt(A,I){if(typeof A=="number"){t.history.go(A);return}let H=Wc(_.location,_.matches,d,A,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:Y,submission:ue,error:xe}=Zp(!1,H,I),Re=_.location,he=Po(_.location,Y,I&&I.state);he={...he,...t.history.encodeLocation(he)};let ge=I&&I.replace!=null?I.replace:void 0,le="PUSH";ge===!0?le="REPLACE":ge===!1||ue!=null&&Nn(ue.formMethod)&&ue.formAction===_.location.pathname+_.location.search&&(le="REPLACE");let Ne=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Le=(I&&I.flushSync)===!0,qe=Cs({currentLocation:Re,nextLocation:he,historyAction:le});if(qe){dr(qe,{state:"blocked",location:he,proceed(){dr(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:he}),gt(A,I)},reset(){let vt=new Map(_.blockers);vt.set(qe,ti),se({blockers:vt})}});return}await ht(le,he,{submission:ue,pendingError:xe,preventScrollReset:Ne,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Le})}function Ut(){ee||(ee=kS()),Ze(),se({revalidation:"loading"});let A=ee.promise;return _.navigation.state==="submitting"?A:_.navigation.state==="idle"?(ht(_.historyAction,_.location,{startUninterruptedRevalidation:!0}),A):(ht(z||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:ne===!0}),A)}async function ht(A,I,H){K&&K.abort(),K=null,z=A,Ee=(H&&H.startUninterruptedRevalidation)===!0,fr(_.location,_.matches),Q=(H&&H.preventScrollReset)===!0,ne=(H&&H.enableViewTransition)===!0;let Y=u||l,ue=H&&H.overrideNavigation,xe=Fr(Y,I,d),Re=(H&&H.flushSync)===!0,he=Gr(xe,Y,I.pathname);if(he.active&&he.matches&&(xe=he.matches),!xe){let{error:ze,notFoundMatches:Ke,route:ct}=Hr(I.pathname);Te(I,{matches:Ke,loaderData:{},errors:{[ct.id]:ze}},{flushSync:Re});return}if(_.initialized&&!Oe&&gS(_.location,I)&&!(H&&H.submission&&Nn(H.submission.formMethod))){Te(I,{matches:xe},{flushSync:Re});return}K=new AbortController;let ge=Qs(t.history,I,K.signal,H&&H.submission),le;if(H&&H.pendingError)le=[hs(xe).route.id,{type:"error",error:H.pendingError}];else if(H&&H.submission&&Nn(H.submission.formMethod)){let ze=await ut(ge,I,H.submission,xe,he.active,{replace:H.replace,flushSync:Re});if(ze.shortCircuited)return;if(ze.pendingActionResult){let[Ke,ct]=ze.pendingActionResult;if(un(ct)&&Tl(ct.error)&&ct.error.status===404){K=null,Te(I,{matches:ze.matches,loaderData:{},errors:{[Ke]:ct.error}});return}}xe=ze.matches||xe,le=ze.pendingActionResult,ue=Ec(I,H.submission),Re=!1,he.active=!1,ge=Qs(t.history,ge.url,ge.signal)}let{shortCircuited:Ne,matches:Le,loaderData:qe,errors:vt}=await Pt(ge,I,xe,he.active,ue,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,Re,le);Ne||(K=null,Te(I,{matches:Le||xe,...lm(le),loaderData:qe,errors:vt}))}async function ut(A,I,H,Y,ue,xe={}){Ze();let Re=wS(I,H);if(se({navigation:Re},{flushSync:xe.flushSync===!0}),ue){let le=await Kr(Y,I.pathname,A.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let Ne=hs(le.partialMatches).route.id;return{matches:le.partialMatches,pendingActionResult:[Ne,{type:"error",error:le.error}]}}else if(le.matches)Y=le.matches;else{let{notFoundMatches:Ne,error:Le,route:qe}=Hr(I.pathname);return{matches:Ne,pendingActionResult:[qe.id,{type:"error",error:Le}]}}}let he,ge=mo(Y,I);if(!ge.route.action&&!ge.route.lazy)he={type:"error",error:Sn(405,{method:A.method,pathname:I.pathname,routeId:ge.route.id})};else if(he=(await q("action",_,A,[ge],Y,null))[ge.route.id],A.signal.aborted)return{shortCircuited:!0};if(ms(he)){let le;return xe&&xe.replace!=null?le=xe.replace:le=sm(he.response.headers.get("Location"),new URL(A.url),d)===_.location.pathname+_.location.search,await fe(A,he,!0,{submission:H,replace:le}),{shortCircuited:!0}}if(un(he)){let le=hs(Y,ge.route.id);return(xe&&xe.replace)!==!0&&(z="PUSH"),{matches:Y,pendingActionResult:[le.route.id,he]}}return{matches:Y,pendingActionResult:[ge.route.id,he]}}async function Pt(A,I,H,Y,ue,xe,Re,he,ge,le,Ne){let Le=ue||Ec(I,xe),qe=xe||Re||dm(Le),vt=!Ee&&!ge;if(Y){if(vt){let wt=Ve(Ne);se({navigation:Le,...wt!==void 0?{actionData:wt}:{}},{flushSync:le})}let He=await Kr(H,I.pathname,A.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let wt=hs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[wt]:He.error}}}else if(He.matches)H=He.matches;else{let{error:wt,notFoundMatches:qn,route:Jr}=Hr(I.pathname);return{matches:qn,loaderData:{},errors:{[Jr.id]:wt}}}}let ze=u||l,[Ke,ct]=tm(t.history,_,H,qe,I,ge===!0,Oe,be,N,B,M,ze,d,Ne);if(we=++Ie,Ke.length===0&&ct.length===0){let He=Ho();return Te(I,{matches:H,loaderData:{},errors:Ne&&un(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...lm(Ne),...He?{fetchers:new Map(_.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(vt){let He={};if(!Y){He.navigation=Le;let wt=Ve(Ne);wt!==void 0&&(He.actionData=wt)}ct.length>0&&(He.fetchers=zt(ct)),se(He,{flushSync:le})}ct.forEach(He=>{Ht(He.key),He.controller&&je.set(He.key,He.controller)});let hr=()=>ct.forEach(He=>Ht(He.key));K&&K.signal.addEventListener("abort",hr);let{loaderResults:pr,fetcherResults:fn}=await Ce(_,H,Ke,ct,A);if(A.signal.aborted)return{shortCircuited:!0};K&&K.signal.removeEventListener("abort",hr),ct.forEach(He=>je.delete(He.key));let tn=el(pr);if(tn)return await fe(A,tn.result,!0,{replace:he}),{shortCircuited:!0};if(tn=el(fn),tn)return M.add(tn.key),await fe(A,tn.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:Ps,errors:qr}=om(_,H,pr,Ne,ct,fn);ge&&_.errors&&(qr={..._.errors,...qr});let Kn=Ho(),Je=wi(we),Ts=Kn||Je||ct.length>0;return{matches:H,loaderData:Ps,errors:qr,...Ts?{fetchers:new Map(_.fetchers)}:{}}}function Ve(A){if(A&&!un(A[1]))return{[A[0]]:A[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function zt(A){return A.forEach(I=>{let H=_.fetchers.get(I.key),Y=no(void 0,H?H.data:void 0);_.fetchers.set(I.key,Y)}),new Map(_.fetchers)}async function Wt(A,I,H,Y){Ht(A);let ue=(Y&&Y.flushSync)===!0,xe=u||l,Re=Wc(_.location,_.matches,d,H,I,Y==null?void 0:Y.relative),he=Fr(xe,Re,d),ge=Gr(he,xe,Re);if(ge.active&&ge.matches&&(he=ge.matches),!he){$t(A,I,Sn(404,{pathname:Re}),{flushSync:ue});return}let{path:le,submission:Ne,error:Le}=Zp(!0,Re,Y);if(Le){$t(A,I,Le,{flushSync:ue});return}let qe=mo(he,le),vt=(Y&&Y.preventScrollReset)===!0;if(Ne&&Nn(Ne.formMethod)){await en(A,I,le,qe,he,ge.active,ue,vt,Ne);return}B.set(A,{routeId:I,path:le}),await We(A,I,le,qe,he,ge.active,ue,vt,Ne)}async function en(A,I,H,Y,ue,xe,Re,he,ge){Ze(),B.delete(A);function le(st){if(!st.route.action&&!st.route.lazy){let bn=Sn(405,{method:ge.formMethod,pathname:H,routeId:I});return $t(A,I,bn,{flushSync:Re}),!0}return!1}if(!xe&&le(Y))return;let Ne=_.fetchers.get(A);nt(A,xS(ge,Ne),{flushSync:Re});let Le=new AbortController,qe=Qs(t.history,H,Le.signal,ge);if(xe){let st=await Kr(ue,H,qe.signal);if(st.type==="aborted")return;if(st.type==="error"){$t(A,I,st.error,{flushSync:Re});return}else if(st.matches){if(ue=st.matches,Y=mo(ue,H),le(Y))return}else{$t(A,I,Sn(404,{pathname:H}),{flushSync:Re});return}}je.set(A,Le);let vt=Ie,Ke=(await q("action",_,qe,[Y],ue,A))[Y.route.id];if(qe.signal.aborted){je.get(A)===Le&&je.delete(A);return}if(N.has(A)){if(ms(Ke)||un(Ke)){nt(A,Dr(void 0));return}}else{if(ms(Ke))if(je.delete(A),we>vt){nt(A,Dr(void 0));return}else return M.add(A),nt(A,no(ge)),fe(qe,Ke,!1,{fetcherSubmission:ge,preventScrollReset:he});if(un(Ke)){$t(A,I,Ke.error);return}}let ct=_.navigation.location||_.location,hr=Qs(t.history,ct,Le.signal),pr=u||l,fn=_.navigation.state!=="idle"?Fr(pr,_.navigation.location,d):_.matches;Fe(fn,"Didn't find any matches after fetcher action");let tn=++Ie;O.set(A,tn);let Ps=no(ge,Ke.data);_.fetchers.set(A,Ps);let[qr,Kn]=tm(t.history,_,fn,ge,ct,!1,Oe,be,N,B,M,pr,d,[Y.route.id,Ke]);Kn.filter(st=>st.key!==A).forEach(st=>{let bn=st.key,nn=_.fetchers.get(bn),Fl=no(void 0,nn?nn.data:void 0);_.fetchers.set(bn,Fl),Ht(bn),st.controller&&je.set(bn,st.controller)}),se({fetchers:new Map(_.fetchers)});let Je=()=>Kn.forEach(st=>Ht(st.key));Le.signal.addEventListener("abort",Je);let{loaderResults:Ts,fetcherResults:He}=await Ce(_,fn,qr,Kn,hr);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",Je),O.delete(A),je.delete(A),Kn.forEach(st=>je.delete(st.key));let wt=el(Ts);if(wt)return fe(hr,wt.result,!1,{preventScrollReset:he});if(wt=el(He),wt)return M.add(wt.key),fe(hr,wt.result,!1,{preventScrollReset:he});let{loaderData:qn,errors:Jr}=om(_,fn,Ts,void 0,Kn,He);if(_.fetchers.has(A)){let st=Dr(Ke.data);_.fetchers.set(A,st)}wi(tn),_.navigation.state==="loading"&&tn>we?(Fe(z,"Expected pending action"),K&&K.abort(),Te(_.navigation.location,{matches:fn,loaderData:qn,errors:Jr,fetchers:new Map(_.fetchers)})):(se({errors:Jr,loaderData:am(_.loaderData,qn,fn,Jr),fetchers:new Map(_.fetchers)}),Oe=!1)}async function We(A,I,H,Y,ue,xe,Re,he,ge){let le=_.fetchers.get(A);nt(A,no(ge,le?le.data:void 0),{flushSync:Re});let Ne=new AbortController,Le=Qs(t.history,H,Ne.signal);if(xe){let Ke=await Kr(ue,H,Le.signal);if(Ke.type==="aborted")return;if(Ke.type==="error"){$t(A,I,Ke.error,{flushSync:Re});return}else if(Ke.matches)ue=Ke.matches,Y=mo(ue,H);else{$t(A,I,Sn(404,{pathname:H}),{flushSync:Re});return}}je.set(A,Ne);let qe=Ie,ze=(await q("loader",_,Le,[Y],ue,A))[Y.route.id];if(je.get(A)===Ne&&je.delete(A),!Le.signal.aborted){if(N.has(A)){nt(A,Dr(void 0));return}if(ms(ze))if(we>qe){nt(A,Dr(void 0));return}else{M.add(A),await fe(Le,ze,!1,{preventScrollReset:he});return}if(un(ze)){$t(A,I,ze.error);return}nt(A,Dr(ze.data))}}async function fe(A,I,H,{submission:Y,fetcherSubmission:ue,preventScrollReset:xe,replace:Re}={}){I.response.headers.has("X-Remix-Revalidate")&&(Oe=!0);let he=I.response.headers.get("Location");Fe(he,"Expected a Location header on the redirect Response"),he=sm(he,new URL(A.url),d);let ge=Po(_.location,he,{_isRedirect:!0});if(r){let ze=!1;if(I.response.headers.has("X-Remix-Reload-Document"))ze=!0;else if(Sd.test(he)){const Ke=t.history.createURL(he);ze=Ke.origin!==e.location.origin||dn(Ke.pathname,d)==null}if(ze){Re?e.location.replace(he):e.location.assign(he);return}}K=null;let le=Re===!0||I.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Le,formEncType:qe}=_.navigation;!Y&&!ue&&Ne&&Le&&qe&&(Y=dm(_.navigation));let vt=Y||ue;if(nS.has(I.response.status)&&vt&&Nn(vt.formMethod))await ht(le,ge,{submission:{...vt,formAction:he},preventScrollReset:xe||Q,enableViewTransition:H?ne:void 0});else{let ze=Ec(ge,Y);await ht(le,ge,{overrideNavigation:ze,fetcherSubmission:ue,preventScrollReset:xe||Q,enableViewTransition:H?ne:void 0})}}async function q(A,I,H,Y,ue,xe){let Re,he={};try{Re=await dS(f,A,I,H,Y,ue,xe,o,i)}catch(ge){return Y.forEach(le=>{he[le.route.id]={type:"error",error:ge}}),he}for(let[ge,le]of Object.entries(Re))if(yS(le)){let Ne=le.result;he[ge]={type:"redirect",response:pS(Ne,H,ge,ue,d)}}else he[ge]=await hS(le);return he}async function Ce(A,I,H,Y,ue){let xe=q("loader",A,ue,H,I,null),Re=Promise.all(Y.map(async le=>{if(le.matches&&le.match&&le.controller){let Le=(await q("loader",A,Qs(t.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:Le}}else return Promise.resolve({[le.key]:{type:"error",error:Sn(404,{pathname:le.path})}})})),he=await xe,ge=(await Re).reduce((le,Ne)=>Object.assign(le,Ne),{});return{loaderResults:he,fetcherResults:ge}}function Ze(){Oe=!0,B.forEach((A,I)=>{je.has(I)&&be.add(I),Ht(I)})}function nt(A,I,H={}){_.fetchers.set(A,I),se({fetchers:new Map(_.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function $t(A,I,H,Y={}){let ue=hs(_.matches,I);Dn(A),se({errors:{[ue.route.id]:H},fetchers:new Map(_.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Hn(A){return P.set(A,(P.get(A)||0)+1),N.has(A)&&N.delete(A),_.fetchers.get(A)||rS}function Dn(A){let I=_.fetchers.get(A);je.has(A)&&!(I&&I.state==="loading"&&O.has(A))&&Ht(A),B.delete(A),O.delete(A),M.delete(A),N.delete(A),be.delete(A),_.fetchers.delete(A)}function _s(A){let I=(P.get(A)||0)-1;I<=0?(P.delete(A),N.add(A)):P.set(A,I),se({fetchers:new Map(_.fetchers)})}function Ht(A){let I=je.get(A);I&&(I.abort(),je.delete(A))}function cr(A){for(let I of A){let H=Hn(I),Y=Dr(H.data);_.fetchers.set(I,Y)}}function Ho(){let A=[],I=!1;for(let H of M){let Y=_.fetchers.get(H);Fe(Y,`Expected fetcher: ${H}`),Y.state==="loading"&&(M.delete(H),A.push(H),I=!0)}return cr(A),I}function wi(A){let I=[];for(let[H,Y]of O)if(Y<A){let ue=_.fetchers.get(H);Fe(ue,`Expected fetcher: ${H}`),ue.state==="loading"&&(Ht(H),O.delete(H),I.push(H))}return cr(I),I.length>0}function Go(A,I){let H=_.blockers.get(A)||ti;return Z.get(A)!==I&&Z.set(A,I),H}function Ko(A){_.blockers.delete(A),Z.delete(A)}function dr(A,I){let H=_.blockers.get(A)||ti;Fe(H.state==="unblocked"&&I.state==="blocked"||H.state==="blocked"&&I.state==="blocked"||H.state==="blocked"&&I.state==="proceeding"||H.state==="blocked"&&I.state==="unblocked"||H.state==="proceeding"&&I.state==="unblocked",`Invalid blocker state transition: ${H.state} -> ${I.state}`);let Y=new Map(_.blockers);Y.set(A,I),se({blockers:Y})}function Cs({currentLocation:A,nextLocation:I,historyAction:H}){if(Z.size===0)return;Z.size>1&&Et(!1,"A router only supports one blocker at a time");let Y=Array.from(Z.entries()),[ue,xe]=Y[Y.length-1],Re=_.blockers.get(ue);if(!(Re&&Re.state==="proceeding")&&xe({currentLocation:A,nextLocation:I,historyAction:H}))return ue}function Hr(A){let I=Sn(404,{pathname:A}),H=u||l,{matches:Y,route:ue}=um(H);return{notFoundMatches:Y,route:ue,error:I}}function xi(A,I,H){if(x=A,C=I,k=H||null,!j&&_.navigation===Cc){j=!0;let Y=Gn(_.location,_.matches);Y!=null&&se({restoreScrollPosition:Y})}return()=>{x=null,C=null,k=null}}function Es(A,I){return k&&k(A,I.map(Y=>Dx(Y,_.loaderData)))||A.key}function fr(A,I){if(x&&C){let H=Es(A,I);x[H]=C()}}function Gn(A,I){if(x){let H=Es(A,I),Y=x[H];if(typeof Y=="number")return Y}return null}function Gr(A,I,H){if(h)if(A){if(Object.keys(A[0].params).length>0)return{active:!0,matches:fl(I,H,d,!0)}}else return{active:!0,matches:fl(I,H,d,!0)||[]};return{active:!1,matches:null}}async function Kr(A,I,H){if(!h)return{type:"success",matches:A};let Y=A;for(;;){let ue=u==null,xe=u||l,Re=o;try{await h({path:I,matches:Y,patch:(le,Ne)=>{H.aborted||rm(le,Ne,xe,Re,i)}})}catch(le){return{type:"error",error:le,partialMatches:Y}}finally{ue&&!H.aborted&&(l=[...l])}if(H.aborted)return{type:"aborted"};let he=Fr(xe,I,d);if(he)return{type:"success",matches:he};let ge=fl(xe,I,d,!0);if(!ge||Y.length===ge.length&&Y.every((le,Ne)=>le.route.id===ge[Ne].route.id))return{type:"success",matches:null};Y=ge}}function qo(A){o={},u=vl(A,i,void 0,o)}function Jo(A,I){let H=u==null;rm(A,I,u||l,o,i),H&&(l=[...l],se({}))}return U={get basename(){return d},get future(){return m},get state(){return _},get routes(){return l},get window(){return e},initialize:G,subscribe:ie,enableScrollRestoration:xi,navigate:gt,fetch:Wt,revalidate:Ut,createHref:A=>t.history.createHref(A),encodeLocation:A=>t.history.encodeLocation(A),getFetcher:Hn,deleteFetcher:_s,dispose:ae,getBlocker:Go,deleteBlocker:Ko,patchRoutes:Jo,_internalFetchControllers:je,_internalSetRoutes:qo},U}function oS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Wc(t,e,r,i,o,l){let u,d;if(o){u=[];for(let h of e)if(u.push(h),h.route.id===o){d=h;break}}else u=e,d=e[e.length-1];let f=xd(i||".",wd(u),dn(t.pathname,r)||t.pathname,l==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&d){let h=bd(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let m=new URLSearchParams(f.search),v=m.getAll("index");m.delete("index"),v.filter(x=>x).forEach(x=>m.append("index",x));let w=m.toString();f.search=w?`?${w}`:""}}return r!=="/"&&(f.pathname=f.pathname==="/"?r:Bn([r,f.pathname])),Vr(f)}function Zp(t,e,r){if(!r||!oS(r))return{path:e};if(r.formMethod&&!vS(r.formMethod))return{path:e,error:Sn(405,{method:r.formMethod})};let i=()=>({path:e,error:Sn(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),u=gy(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Nn(l))return i();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,[x,k])=>`${w}${x}=${k}
`,""):String(r.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Nn(l))return i();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}Fe(typeof FormData=="function","FormData is not available in this environment");let d,f;if(r.formData)d=Gc(r.formData),f=r.formData;else if(r.body instanceof FormData)d=Gc(r.body),f=r.body;else if(r.body instanceof URLSearchParams)d=r.body,f=im(d);else if(r.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(r.body),f=im(d)}catch{return i()}let h={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Nn(h.formMethod))return{path:e,submission:h};let m=lr(e);return t&&m.search&&bd(m.search)&&d.append("index",""),m.search=`?${d}`,{path:Vr(m),submission:h}}function em(t,e,r=!1){let i=t.findIndex(o=>o.route.id===e);return i>=0?t.slice(0,r?i+1:i):t}function tm(t,e,r,i,o,l,u,d,f,h,m,v,w,x){let k=x?un(x[1])?x[1].error:x[1].data:void 0,C=t.createURL(e.location),j=t.createURL(o),E=r;l&&e.errors?E=em(r,Object.keys(e.errors)[0],!0):x&&un(x[1])&&(E=em(r,x[0]));let $=x?x[1].statusCode:void 0,D=$&&$>=400,U=E.filter((z,Q)=>{let{route:K}=z;if(K.lazy)return!0;if(K.loader==null)return!1;if(l)return Hc(K,e.loaderData,e.errors);if(aS(e.loaderData,e.matches[Q],z))return!0;let ne=e.matches[Q],ce=z;return nm(z,{currentUrl:C,currentParams:ne.params,nextUrl:j,nextParams:ce.params,...i,actionResult:k,actionStatus:$,defaultShouldRevalidate:D?!1:u||C.pathname+C.search===j.pathname+j.search||C.search!==j.search||lS(ne,ce)})}),_=[];return h.forEach((z,Q)=>{if(l||!r.some(Ee=>Ee.route.id===z.routeId)||f.has(Q))return;let K=Fr(v,z.path,w);if(!K){_.push({key:Q,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let ne=e.fetchers.get(Q),ce=mo(K,z.path),ve=!1;m.has(Q)?ve=!1:d.has(Q)?(d.delete(Q),ve=!0):ne&&ne.state!=="idle"&&ne.data===void 0?ve=u:ve=nm(ce,{currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:j,nextParams:r[r.length-1].params,...i,actionResult:k,actionStatus:$,defaultShouldRevalidate:D?!1:u}),ve&&_.push({key:Q,routeId:z.routeId,path:z.path,matches:K,match:ce,controller:new AbortController})}),[U,_]}function Hc(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,o=r!=null&&r[t.id]!==void 0;return!i&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!o}function aS(t,e,r){let i=!e||r.route.id!==e.route.id,o=!t.hasOwnProperty(r.route.id);return i||o}function lS(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function nm(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function rm(t,e,r,i,o){let l;if(t){let f=i[t];Fe(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=r;let u=e.filter(f=>!l.some(h=>my(f,h))),d=vl(u,o,[t||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...d)}function my(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>my(r,l))}):!1}async function uS(t,e,r){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let o=r[t.id];Fe(o,"No route found in manifest");let l={};for(let u in i){let f=o[u]!==void 0&&u!=="hasErrorBoundary";Et(!f,`Route "${o.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!Ax.has(u)&&(l[u]=i[u])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function cS({matches:t}){let e=t.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function dS(t,e,r,i,o,l,u,d,f,h){let m=l.map(x=>x.route.lazy?uS(x.route,f,d):void 0),v=l.map((x,k)=>{let C=m[k],j=o.some($=>$.route.id===x.route.id);return{...x,shouldLoad:j,resolve:async $=>($&&i.method==="GET"&&(x.route.lazy||x.route.loader)&&(j=!0),j?fS(e,i,x,C,$,h):Promise.resolve({type:"data",result:void 0}))}}),w=await t({matches:v,request:i,params:l[0].params,fetcherKey:u,context:h});try{await Promise.all(m)}catch{}return w}async function fS(t,e,r,i,o,l){let u,d,f=h=>{let m,v=new Promise((k,C)=>m=C);d=()=>m(),e.signal.addEventListener("abort",d);let w=k=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${r.route.id}]`)):h({request:e,params:r.params,context:l},...k!==void 0?[k]:[]),x=(async()=>{try{return{type:"data",result:await(o?o(C=>w(C)):w())}}catch(k){return{type:"error",result:k}}})();return Promise.race([x,v])};try{let h=r.route[t];if(i)if(h){let m,[v]=await Promise.all([f(h).catch(w=>{m=w}),i]);if(m!==void 0)throw m;u=v}else if(await i,h=r.route[t],h)u=await f(h);else if(t==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw Sn(405,{method:e.method,pathname:v,routeId:r.route.id})}else return{type:"data",result:void 0};else if(h)u=await f(h);else{let m=new URL(e.url),v=m.pathname+m.search;throw Sn(404,{pathname:v})}}catch(h){return{type:"error",result:h}}finally{d&&e.signal.removeEventListener("abort",d)}return u}async function hS(t){var i,o,l,u;let{result:e,type:r}=t;if(yy(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:"error",error:f}}return r==="error"?{type:"error",error:new xl(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(r==="error"){if(cm(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new xl(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Tl(e)?e.status:void 0}}return cm(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function pS(t,e,r,i,o){let l=t.headers.get("Location");if(Fe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sd.test(l)){let u=i.slice(0,i.findIndex(d=>d.route.id===r)+1);l=Wc(new URL(e.url),u,o,l),t.headers.set("Location",l)}return t}function sm(t,e,r){if(Sd.test(t)){let i=t,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=dn(o.pathname,r)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return t}function Qs(t,e,r,i){let o=t.createURL(gy(e)).toString(),l={signal:r};if(i&&Nn(i.formMethod)){let{formMethod:u,formEncType:d}=i;l.method=u.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=Gc(i.formData):l.body=i.formData}return new Request(o,l)}function Gc(t){let e=new URLSearchParams;for(let[r,i]of t.entries())e.append(r,typeof i=="string"?i:i.name);return e}function im(t){let e=new FormData;for(let[r,i]of t.entries())e.append(r,i);return e}function mS(t,e,r,i=!1,o=!1){let l={},u=null,d,f=!1,h={},m=r&&un(r[1])?r[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let w=v.route.id,x=e[w];if(Fe(!ms(x),"Cannot handle redirect results in processLoaderData"),un(x)){let k=x.error;if(m!==void 0&&(k=m,m=void 0),u=u||{},o)u[w]=k;else{let C=hs(t,w);u[C.route.id]==null&&(u[C.route.id]=k)}i||(l[w]=py),f||(f=!0,d=Tl(x.error)?x.error.status:500),x.headers&&(h[w]=x.headers)}else l[w]=x.data,x.statusCode&&x.statusCode!==200&&!f&&(d=x.statusCode),x.headers&&(h[w]=x.headers)}),m!==void 0&&r&&(u={[r[0]]:m},l[r[0]]=void 0),{loaderData:l,errors:u,statusCode:d||200,loaderHeaders:h}}function om(t,e,r,i,o,l){let{loaderData:u,errors:d}=mS(e,r,i);return o.forEach(f=>{let{key:h,match:m,controller:v}=f,w=l[h];if(Fe(w,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(un(w)){let x=hs(t.matches,m==null?void 0:m.route.id);d&&d[x.route.id]||(d={...d,[x.route.id]:w.error}),t.fetchers.delete(h)}else if(ms(w))Fe(!1,"Unhandled fetcher revalidation redirect");else{let x=Dr(w.data);t.fetchers.set(h,x)}}),{loaderData:u,errors:d}}function am(t,e,r,i){let o=Object.entries(e).filter(([,l])=>l!==py).reduce((l,[u,d])=>(l[u]=d,l),{});for(let l of r){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(o[u]=t[u]),i&&i.hasOwnProperty(u))break}return o}function lm(t){return t?un(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function hs(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function um(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Sn(t,{pathname:e,routeId:r,method:i,type:o,message:l}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",i&&e&&r?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${r}" does not match URL "${e}"`):t===404?(u="Not Found",d=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",i&&e&&r?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new xl(t||500,u,new Error(d),!0)}function el(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[i,o]=e[r];if(ms(o))return{key:i,result:o}}}function gy(t){let e=typeof t=="string"?lr(t):t;return Vr({...e,hash:""})}function gS(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function yS(t){return yy(t.result)&&tS.has(t.result.status)}function un(t){return t.type==="error"}function ms(t){return(t&&t.type)==="redirect"}function cm(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function yy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function vS(t){return eS.has(t.toUpperCase())}function Nn(t){return Xx.has(t.toUpperCase())}function bd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function mo(t,e){let r=typeof e=="string"?lr(e).search:e.search;if(t[t.length-1].route.index&&bd(r||""))return t[t.length-1];let i=dy(t);return i[i.length-1]}function dm(t){let{formMethod:e,formAction:r,formEncType:i,text:o,formData:l,json:u}=t;if(!(!e||!r||!i)){if(o!=null)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:r,formEncType:i,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:u,text:void 0}}}function Ec(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wS(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function no(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Dr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function SS(t,e){try{let r=t.sessionStorage.getItem(hy);if(r){let i=JSON.parse(r);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function bS(t,e){if(e.size>0){let r={};for(let[i,o]of e)r[i]=[...o];try{t.sessionStorage.setItem(hy,JSON.stringify(r))}catch(i){Et(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function kS(){let t,e,r=new Promise((i,o)=>{t=async l=>{i(l);try{await r}catch{}},e=async l=>{o(l);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var xs=b.createContext(null);xs.displayName="DataRouter";var Mo=b.createContext(null);Mo.displayName="DataRouterState";var kd=b.createContext({isTransitioning:!1});kd.displayName="ViewTransition";var vy=b.createContext(new Map);vy.displayName="Fetchers";var _S=b.createContext(null);_S.displayName="Await";var zn=b.createContext(null);zn.displayName="Navigation";var jl=b.createContext(null);jl.displayName="Location";var Wn=b.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var _d=b.createContext(null);_d.displayName="RouteError";function CS(t,{relative:e}={}){Fe(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=b.useContext(zn),{hash:o,pathname:l,search:u}=$o(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Bn([r,l])),i.createHref({pathname:d,search:u,hash:o})}function Io(){return b.useContext(jl)!=null}function Ln(){return Fe(Io(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(jl).location}var wy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xy(t){b.useContext(zn).static||b.useLayoutEffect(t)}function ur(){let{isDataRoute:t}=b.useContext(Wn);return t?$S():ES()}function ES(){Fe(Io(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(xs),{basename:e,navigator:r}=b.useContext(zn),{matches:i}=b.useContext(Wn),{pathname:o}=Ln(),l=JSON.stringify(wd(i)),u=b.useRef(!1);return xy(()=>{u.current=!0}),b.useCallback((f,h={})=>{if(Et(u.current,wy),!u.current)return;if(typeof f=="number"){r.go(f);return}let m=xd(f,JSON.parse(l),o,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Bn([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,l,o,t])}b.createContext(null);function Cd(){let{matches:t}=b.useContext(Wn),e=t[t.length-1];return e?e.params:{}}function $o(t,{relative:e}={}){let{matches:r}=b.useContext(Wn),{pathname:i}=Ln(),o=JSON.stringify(wd(r));return b.useMemo(()=>xd(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function PS(t,e,r,i){Fe(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(zn),{matches:l}=b.useContext(Wn),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let E=m&&m.path||"";ky(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=Ln(),w;w=v;let x=w.pathname||"/",k=x;if(h!=="/"){let E=h.replace(/^\//,"").split("/");k="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=Fr(t,{pathname:k});return Et(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Et(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),AS(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:Bn([h,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Bn([h,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,r,i)}function TS(){let t=OS(),e=Tl(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:o},r):null,u)}var jS=b.createElement(TS,null),RS=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(Wn.Provider,{value:this.props.routeContext},b.createElement(_d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NS({routeContext:t,match:e,children:r}){let i=b.useContext(xs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Wn.Provider,{value:t},r)}function AS(t,e=[],r=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=r==null?void 0:r.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);Fe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(r)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:v}=r,w=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let v,w=!1,x=null,k=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||jS,u&&(d<0&&m===0?(ky("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):d===m&&(w=!0,k=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,m+1)),j=()=>{let E;return v?E=x:w?E=k:h.route.Component?E=b.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,b.createElement(NS,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(RS,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):j()},null)}function Ed(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sy(t){let e=b.useContext(xs);return Fe(e,Ed(t)),e}function by(t){let e=b.useContext(Mo);return Fe(e,Ed(t)),e}function LS(t){let e=b.useContext(Wn);return Fe(e,Ed(t)),e}function Pd(t){let e=LS(t),r=e.matches[e.matches.length-1];return Fe(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function DS(){return Pd("useRouteId")}function OS(){var i;let t=b.useContext(_d),e=by("useRouteError"),r=Pd("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[r]}var MS=0;function IS(t){let{router:e,basename:r}=Sy("useBlocker"),i=by("useBlocker"),[o,l]=b.useState(""),u=b.useCallback(d=>{if(typeof t!="function")return!!t;if(r==="/")return t(d);let{currentLocation:f,nextLocation:h,historyAction:m}=d;return t({currentLocation:{...f,pathname:dn(f.pathname,r)||f.pathname},nextLocation:{...h,pathname:dn(h.pathname,r)||h.pathname},historyAction:m})},[r,t]);return b.useEffect(()=>{let d=String(++MS);return l(d),()=>e.deleteBlocker(d)},[e]),b.useEffect(()=>{o!==""&&e.getBlocker(o,u)},[e,o,u]),o&&i.blockers.has(o)?i.blockers.get(o):ti}function $S(){let{router:t}=Sy("useNavigate"),e=Pd("useNavigate"),r=b.useRef(!1);return xy(()=>{r.current=!0}),b.useCallback(async(o,l={})=>{Et(r.current,wy),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var fm={};function ky(t,e,r){!e&&!fm[t]&&(fm[t]=!0,Et(!1,r))}var hm={};function pm(t,e){!t&&!hm[e]&&(hm[e]=!0,console.warn(e))}function FS(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Et(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:b.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Et(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Et(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var BS=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",r(i))}})}};function VS({router:t,flushSync:e}){let[r,i]=b.useState(t.state),[o,l]=b.useState(),[u,d]=b.useState({isTransitioning:!1}),[f,h]=b.useState(),[m,v]=b.useState(),[w,x]=b.useState(),k=b.useRef(new Map),C=b.useCallback((D,{deletedFetchers:U,flushSync:_,viewTransitionOpts:z})=>{D.fetchers.forEach((K,ne)=>{K.data!==void 0&&k.current.set(ne,K.data)}),U.forEach(K=>k.current.delete(K)),pm(_===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Q=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(pm(z==null||Q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!Q){e&&_?e(()=>i(D)):b.startTransition(()=>i(D));return}if(e&&_){e(()=>{m&&(f&&f.resolve(),m.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let K=t.window.document.startViewTransition(()=>{e(()=>i(D))});K.finished.finally(()=>{e(()=>{h(void 0),v(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>v(K));return}m?(f&&f.resolve(),m.skipTransition(),x({state:D,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(l(D),d({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[t.window,e,m,f]);b.useLayoutEffect(()=>t.subscribe(C),[t,C]),b.useEffect(()=>{u.isTransitioning&&!u.flushSync&&h(new BS)},[u]),b.useEffect(()=>{if(f&&o&&t.window){let D=o,U=f.promise,_=t.window.document.startViewTransition(async()=>{b.startTransition(()=>i(D)),await U});_.finished.finally(()=>{h(void 0),v(void 0),l(void 0),d({isTransitioning:!1})}),v(_)}},[o,f,t.window]),b.useEffect(()=>{f&&o&&r.location.key===o.location.key&&f.resolve()},[f,m,r.location,o]),b.useEffect(()=>{!u.isTransitioning&&w&&(l(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),x(void 0))},[u.isTransitioning,w]);let j=b.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:D=>t.navigate(D),push:(D,U,_)=>t.navigate(D,{state:U,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(D,U,_)=>t.navigate(D,{replace:!0,state:U,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[t]),E=t.basename||"/",$=b.useMemo(()=>({router:t,navigator:j,static:!1,basename:E}),[t,j,E]);return b.createElement(b.Fragment,null,b.createElement(xs.Provider,{value:$},b.createElement(Mo.Provider,{value:r},b.createElement(vy.Provider,{value:k.current},b.createElement(kd.Provider,{value:u},b.createElement(WS,{basename:E,location:r.location,navigationType:r.historyAction,navigator:j},b.createElement(US,{routes:t.routes,future:t.future,state:r})))))),null)}var US=b.memo(zS);function zS({routes:t,future:e,state:r}){return PS(t,void 0,r,e)}function WS({basename:t="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:l=!1}){Fe(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof r=="string"&&(r=lr(r));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:w="default"}=r,x=b.useMemo(()=>{let k=dn(f,u);return k==null?null:{location:{pathname:k,search:h,hash:m,state:v,key:w},navigationType:i}},[u,f,h,m,v,w,i]);return Et(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(zn.Provider,{value:d},b.createElement(jl.Provider,{children:e,value:x}))}var hl="get",pl="application/x-www-form-urlencoded";function Rl(t){return t!=null&&typeof t.tagName=="string"}function HS(t){return Rl(t)&&t.tagName.toLowerCase()==="button"}function GS(t){return Rl(t)&&t.tagName.toLowerCase()==="form"}function KS(t){return Rl(t)&&t.tagName.toLowerCase()==="input"}function qS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JS(t,e){return t.button===0&&(!e||e==="_self")&&!qS(t)}var tl=null;function YS(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var QS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pc(t){return t!=null&&!QS.has(t)?(Et(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pl}"`),null):t}function XS(t,e){let r,i,o,l,u;if(GS(t)){let d=t.getAttribute("action");i=d?dn(d,e):null,r=t.getAttribute("method")||hl,o=Pc(t.getAttribute("enctype"))||pl,l=new FormData(t)}else if(HS(t)||KS(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?dn(f,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||hl,o=Pc(t.getAttribute("formenctype"))||Pc(d.getAttribute("enctype"))||pl,l=new FormData(d,t),!YS()){let{name:h,type:m,value:v}=t;if(m==="image"){let w=h?`${h}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else h&&l.append(h,v)}}else{if(Rl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hl,i=null,o=pl,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:l,body:u}}function Td(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function ZS(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function tb(t,e,r){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await ZS(l,r);return u.links?u.links():[]}return[]}));return ib(i.flat(1).filter(eb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mm(t,e,r,i,o,l){let u=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var m;return r[h].pathname!==f.pathname||((m=r[h].route.path)==null?void 0:m.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):l==="data"?e.filter((f,h)=>{var v;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function nb(t,e){return rb(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function rb(t){return[...new Set(t)]}function sb(t){let e={},r=Object.keys(t).sort();for(let i of r)e[i]=t[i];return e}function ib(t,e){let r=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(sb(o));return r.has(l)||(r.add(l),i.push({key:l,link:o})),i},[])}function ob(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ab(){let t=b.useContext(xs);return Td(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lb(){let t=b.useContext(Mo);return Td(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jd=b.createContext(void 0);jd.displayName="FrameworkContext";function _y(){let t=b.useContext(jd);return Td(t,"You must render this element inside a <HydratedRouter> element"),t}function ub(t,e){let r=b.useContext(jd),[i,o]=b.useState(!1),[l,u]=b.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:v}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=E=>{E.forEach($=>{u($.isIntersecting)})},j=new IntersectionObserver(C,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[t]),b.useEffect(()=>{if(i){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[i]);let x=()=>{o(!0)},k=()=>{o(!1),u(!1)};return r?t!=="intent"?[l,w,{}]:[l,w,{onFocus:ro(d,x),onBlur:ro(f,k),onMouseEnter:ro(h,x),onMouseLeave:ro(m,k),onTouchStart:ro(v,x)}]:[!1,w,{}]}function ro(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function cb({page:t,...e}){let{router:r}=ab(),i=b.useMemo(()=>Fr(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?b.createElement(fb,{page:t,matches:i,...e}):null}function db(t){let{manifest:e,routeModules:r}=_y(),[i,o]=b.useState([]);return b.useEffect(()=>{let l=!1;return tb(t,e,r).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,r]),i}function fb({page:t,matches:e,...r}){let i=Ln(),{manifest:o,routeModules:l}=_y(),{loaderData:u,matches:d}=lb(),f=b.useMemo(()=>mm(t,e,d,o,i,"data"),[t,e,d,o,i]),h=b.useMemo(()=>mm(t,e,d,o,i,"assets"),[t,e,d,o,i]),m=b.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,k=!1;if(e.forEach(j=>{var $;let E=o.routes[j.route.id];!E||!E.hasLoader||(!f.some(D=>D.route.id===j.route.id)&&j.route.id in u&&(($=l[j.route.id])!=null&&$.shouldRevalidate)||E.hasClientLoader?k=!0:x.add(j.route.id))}),x.size===0)return[];let C=ob(t);return k&&x.size>0&&C.searchParams.set("_routes",e.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[C.pathname+C.search]},[u,i,o,f,e,t,l]),v=b.useMemo(()=>nb(h,o),[h,o]),w=db(h);return b.createElement(b.Fragment,null,m.map(x=>b.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),v.map(x=>b.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),w.map(({key:x,link:k})=>b.createElement("link",{key:x,...k})))}function hb(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Cy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cy&&(window.__reactRouterVersion="7.1.3")}catch{}function pb(t,e){return iS({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:jx({window:e==null?void 0:e.window}),hydrationData:mb(),routes:t,mapRouteProperties:FS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function mb(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:gb(t.errors)}),t}function gb(t){if(!t)return null;let e=Object.entries(t),r={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")r[i]=new xl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let u=new l(o.message);u.stack="",r[i]=u}catch{}}if(r[i]==null){let l=new Error(o.message);l.stack="",r[i]=l}}else r[i]=o;return r}var Ey=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,To=b.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:d,target:f,to:h,preventScrollReset:m,viewTransition:v,...w},x){let{basename:k}=b.useContext(zn),C=typeof h=="string"&&Ey.test(h),j,E=!1;if(typeof h=="string"&&C&&(j=h,Cy))try{let ne=new URL(window.location.href),ce=h.startsWith("//")?new URL(ne.protocol+h):new URL(h),ve=dn(ce.pathname,k);ce.origin===ne.origin&&ve!=null?h=ve+ce.search+ce.hash:E=!0}catch{Et(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=CS(h,{relative:o}),[D,U,_]=ub(i,w),z=xb(h,{replace:u,state:d,target:f,preventScrollReset:m,relative:o,viewTransition:v});function Q(ne){e&&e(ne),ne.defaultPrevented||z(ne)}let K=b.createElement("a",{...w,..._,href:j||$,onClick:E||l?e:Q,ref:hb(x,U),target:f,"data-discover":!C&&r==="render"?"true":void 0});return D&&!C?b.createElement(b.Fragment,null,K,b.createElement(cb,{page:$})):K});To.displayName="Link";var yb=b.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:f,...h},m){let v=$o(u,{relative:h.relative}),w=Ln(),x=b.useContext(Mo),{navigator:k,basename:C}=b.useContext(zn),j=x!=null&&Cb(v)&&d===!0,E=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,$=w.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||($=$.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&C&&(D=dn(D,C)||D);const U=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let _=$===E||!o&&$.startsWith(E)&&$.charAt(U)==="/",z=D!=null&&(D===E||!o&&D.startsWith(E)&&D.charAt(E.length)==="/"),Q={isActive:_,isPending:z,isTransitioning:j},K=_?e:void 0,ne;typeof i=="function"?ne=i(Q):ne=[i,_?"active":null,z?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let ce=typeof l=="function"?l(Q):l;return b.createElement(To,{...h,"aria-current":K,className:ne,ref:m,style:ce,to:u,viewTransition:d},typeof f=="function"?f(Q):f)});yb.displayName="NavLink";var vb=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:l,method:u=hl,action:d,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:v,...w},x)=>{let k=kb(),C=_b(d,{relative:h}),j=u.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&Ey.test(d),$=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let U=D.nativeEvent.submitter,_=(U==null?void 0:U.getAttribute("formmethod"))||u;k(U||D.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:o,state:l,relative:h,preventScrollReset:m,viewTransition:v})};return b.createElement("form",{ref:x,method:j,action:C,onSubmit:i?f:$,...w,"data-discover":!E&&t==="render"?"true":void 0})});vb.displayName="Form";function wb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Py(t){let e=b.useContext(xs);return Fe(e,wb(t)),e}function xb(t,{target:e,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=ur(),f=Ln(),h=$o(t,{relative:l});return b.useCallback(m=>{if(JS(m,e)){m.preventDefault();let v=r!==void 0?r:Vr(f)===Vr(h);d(t,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,d,h,r,i,e,t,o,l,u])}var Sb=0,bb=()=>`__${String(++Sb)}__`;function kb(){let{router:t}=Py("useSubmit"),{basename:e}=b.useContext(zn),r=DS();return b.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:f,body:h}=XS(i,e);if(o.navigate===!1){let m=o.fetcherKey||bb();await t.fetch(m,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,r])}function _b(t,{relative:e}={}){let{basename:r}=b.useContext(zn),i=b.useContext(Wn);Fe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...$o(t||".",{relative:e})},u=Ln();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();l.search=m?`?${m}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Bn([r,l.pathname])),Vr(l)}function Cb(t,e={}){let r=b.useContext(kd);Fe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Py("useViewTransitionState"),o=$o(t,{relative:e.relative});if(!r.isTransitioning)return!1;let l=dn(r.currentLocation.pathname,i)||r.currentLocation.pathname,u=dn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return wl(o.pathname,u)!=null||wl(o.pathname,l)!=null}new TextEncoder;var Eb=ly();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pb(t){return b.createElement(VS,{flushSync:Eb.flushSync,...t})}const Tb="modulepreload",jb=function(t){return"/"+t},gm={},ui=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(r.map(f=>{if(f=jb(f),f in gm)return;gm[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":Tb,h||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),h)return new Promise((w,x)=>{v.addEventListener("load",w),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},Rb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ui(async()=>{const{default:i}=await Promise.resolve().then(()=>pi);return{default:i}},[]).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)};class Rd extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class Nb extends Rd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ab extends Rd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lb extends Rd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kc||(Kc={}));var Db=function(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{h(i.next(m))}catch(v){u(v)}}function f(m){try{h(i.throw(m))}catch(v){u(v)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};class Ob{constructor(e,{headers:r={},customFetch:i,region:o=Kc.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=Rb(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var i;return Db(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:u}=r;let d={},{region:f}=r;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let h;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",h=u):typeof u=="string"?(d["Content-Type"]="text/plain",h=u):typeof FormData<"u"&&u instanceof FormData?h=u:(d["Content-Type"]="application/json",h=JSON.stringify(u)));const m=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:h}).catch(k=>{throw new Nb(k)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new Ab(m);if(!m.ok)throw new Lb(m);let w=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield m.json():w==="application/octet-stream"?x=yield m.blob():w==="text/event-stream"?x=m:w==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null}}catch(o){return{data:null,error:o}}})}}var Rt={},so={},io={},oo={},ao={},lo={},Mb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ci=Mb();const Ib=ci.fetch,Ty=ci.fetch.bind(ci),jy=ci.Headers,$b=ci.Request,Fb=ci.Response,pi=Object.freeze(Object.defineProperty({__proto__:null,Headers:jy,Request:$b,Response:Fb,default:Ty,fetch:Ib},Symbol.toStringTag,{value:"Module"})),Bb=yx(pi);var nl={},ym;function Ry(){if(ym)return nl;ym=1,Object.defineProperty(nl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return nl.default=t,nl}var vm;function Ny(){if(vm)return lo;vm=1;var t=lo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(lo,"__esModule",{value:!0});const e=t(Bb),r=t(Ry());class i{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=Object.assign({},this.headers),this.headers[l]=u,this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,v,w;let x=null,k=null,C=null,j=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const _=await h.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?k=_:k=JSON.parse(_))}const D=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),U=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");D&&U&&U.length>1&&(C=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(x={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,C=null,j=406,E="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const D=await h.text();try{x=JSON.parse(D),Array.isArray(x)&&h.status===404&&(k=[],x=null,j=200,E="OK")}catch{h.status===404&&D===""?(j=204,E="No Content"):x={message:D}}if(x&&this.isMaybeSingle&&(!((w=x==null?void 0:x.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,j=200,E="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:k,count:C,status:j,statusText:E}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,v,w;return{error:{message:`${(m=h==null?void 0:h.name)!==null&&m!==void 0?m:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(v=h==null?void 0:h.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=h==null?void 0:h.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}}return lo.default=i,lo}var wm;function Ay(){if(wm)return ao;wm=1;var t=ao.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ao,"__esModule",{value:!0});const e=t(Ny());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(h,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var m;const v=[o?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${w}"; options=${v};`,h==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ao.default=r,ao}var xm;function Nd(){if(xm)return oo;xm=1;var t=oo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(oo,"__esModule",{value:!0});const e=t(Ay());class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${f}fts${h}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return oo.default=r,oo}var Sm;function Ly(){if(Sm)return io;Sm=1;var t=io.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(io,"__esModule",{value:!0});const e=t(Nd());class r{constructor(o,{headers:l={},schema:u,fetch:d}){this.url=o,this.headers=l,this.schema=u,this.fetch=d}select(o,{head:l=!1,count:u}={}){const d=l?"HEAD":"GET";let f=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:l,defaultToNull:u=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const h=o.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){const h="POST",m=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&m.push(this.headers.Prefer),d&&m.push(`count=${d}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const v=o.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(v.length>0){const w=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:l}={}){const u="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),this.headers.Prefer=d.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const l="DELETE",u=[];return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return io.default=r,io}var uo={},co={},bm;function Vb(){return bm||(bm=1,Object.defineProperty(co,"__esModule",{value:!0}),co.version=void 0,co.version="0.0.0-automated"),co}var km;function Ub(){if(km)return uo;km=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.DEFAULT_HEADERS=void 0;const t=Vb();return uo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},uo}var _m;function zb(){if(_m)return so;_m=1;var t=so.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(so,"__esModule",{value:!0});const e=t(Ly()),r=t(Nd()),i=Ub();class o{constructor(u,{headers:d={},schema:f,fetch:h}={}){this.url=u,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),d),this.schemaName=f,this.fetch=h}from(u){const d=new URL(`${this.url}/${u}`);return new e.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:h=!1,count:m}={}){let v;const w=new URL(`${this.url}/rpc/${u}`);let x;f||h?(v=f?"HEAD":"GET",Object.entries(d).filter(([C,j])=>j!==void 0).map(([C,j])=>[C,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([C,j])=>{w.searchParams.append(C,j)})):(v="POST",x=d);const k=Object.assign({},this.headers);return m&&(k.Prefer=`count=${m}`),new r.default({method:v,url:w,headers:k,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return so.default=o,so}var Cm;function Wb(){if(Cm)return Rt;Cm=1;var t=Rt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PostgrestError=Rt.PostgrestBuilder=Rt.PostgrestTransformBuilder=Rt.PostgrestFilterBuilder=Rt.PostgrestQueryBuilder=Rt.PostgrestClient=void 0;const e=t(zb());Rt.PostgrestClient=e.default;const r=t(Ly());Rt.PostgrestQueryBuilder=r.default;const i=t(Nd());Rt.PostgrestFilterBuilder=i.default;const o=t(Ay());Rt.PostgrestTransformBuilder=o.default;const l=t(Ny());Rt.PostgrestBuilder=l.default;const u=t(Ry());return Rt.PostgrestError=u.default,Rt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Rt}var Hb=Wb();const Gb=yd(Hb),{PostgrestClient:Kb,PostgrestQueryBuilder:FT,PostgrestFilterBuilder:BT,PostgrestTransformBuilder:VT,PostgrestBuilder:UT,PostgrestError:zT}=Gb,qb="2.11.2",Jb={"X-Client-Info":`realtime-js/${qb}`},Yb="1.0.0",Dy=1e4,Qb=1e3;var ai;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ai||(ai={}));var ln;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ln||(ln={}));var An;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(An||(An={}));var qc;(function(t){t.websocket="websocket"})(qc||(qc={}));var ps;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ps||(ps={}));class Xb{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,r,i)}_decodeBroadcast(e,r,i){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=i.decode(e.slice(u,u+o));u=u+o;const f=i.decode(e.slice(u,u+l));u=u+l;const h=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}let Oy=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const Em=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((l,u)=>(l[u]=Zb(u,t,e,o),l),{})},Zb=(t,e,r,i)=>{const o=e.find(d=>d.name===t),l=o==null?void 0:o.type,u=r[t];return l&&!i.includes(l)?My(l,u):Jc(u)},My=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return rk(e,r)}switch(t){case Qe.bool:return ek(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return tk(e);case Qe.json:case Qe.jsonb:return nk(e);case Qe.timestamp:return sk(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Jc(e);default:return Jc(e)}},Jc=t=>t,ek=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rk=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>My(e,d))}return t},sk=t=>typeof t=="string"?t.replace(" ","T"):t,Iy=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Tc{constructor(e,r,i={},o=Dy){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pm||(Pm={}));class So{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=So.syncState(this.state,o,l,u),this.pendingDiffs.forEach(f=>{this.state=So.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=So.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const l=this.cloneDeep(e),u=this.transformState(r),d={},f={};return this.map(l,(h,m)=>{u[h]||(f[h]=m)}),this.map(u,(h,m)=>{const v=l[h];if(v){const w=m.map(j=>j.presence_ref),x=v.map(j=>j.presence_ref),k=m.filter(j=>x.indexOf(j.presence_ref)<0),C=v.filter(j=>w.indexOf(j.presence_ref)<0);k.length>0&&(d[h]=k),C.length>0&&(f[h]=C)}else d[h]=m}),this.syncDiff(l,{joins:d,leaves:f},i,o)}static syncDiff(e,r,i,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(d,f)=>{var h;const m=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(f),m.length>0){const v=e[d].map(x=>x.presence_ref),w=m.filter(x=>v.indexOf(x.presence_ref)<0);e[d].unshift(...w)}i(d,m,f)}),this.map(u,(d,f)=>{let h=e[d];if(!h)return;const m=f.map(v=>v.presence_ref);h=h.filter(v=>m.indexOf(v.presence_ref)<0),e[d]=h,o(d,h,f),h.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tm||(Tm={}));var jm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(jm||(jm={}));var rr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rr||(rr={}));class Ad{constructor(e,r={config:{}},i){this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tc(this,An.join,this.params,this.timeout),this.rejoinTimer=new Oy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ln.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new So(this),this.broadcastEndpointURL=Iy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:u,private:d}}=this.params;this._onError(m=>e==null?void 0:e(rr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(rr.CLOSED));const f={},h={broadcast:l,presence:u,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(m=>m.filter))!==null&&o!==void 0?o:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){e==null||e(rr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,k=[];for(let C=0;C<x;C++){const j=w[C],{filter:{event:E,schema:$,table:D,filter:U}}=j,_=m&&m[C];if(_&&_.event===E&&_.schema===$&&_.table===D&&_.filter===U)k.push(Object.assign(Object.assign({},j),{id:_.id}));else{this.unsubscribe(),e==null||e(rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(rr.SUBSCRIBED);return}}).receive("error",m=>{e==null||e(rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this._on(e,r,i)}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,f;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ln.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const o=new Tc(this,An.leave,{},e);o.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(e,r,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Tc(this,e,r,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:h,join:m}=An;if(i&&[d,f,h,m].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var k,C,j;return((k=x.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(C=x.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(x=>x.callback(w,i)):(l=this.bindings[u])===null||l===void 0||l.filter(x=>{var k,C,j,E,$,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const U=x.id,_=(k=x.filter)===null||k===void 0?void 0:k.event;return U&&((C=r.ids)===null||C===void 0?void 0:C.includes(U))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const U=($=(E=x==null?void 0:x.filter)===null||E===void 0?void 0:E.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return U==="*"||U===((D=r==null?void 0:r.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:C,table:j,commit_timestamp:E,type:$,errors:D}=k;w=Object.assign(Object.assign({},{schema:C,table:j,commit_timestamp:E,eventType:$,new:{},old:{},errors:D}),this._getPayloadRecords(k))}x.callback(w,i)})}_isClosed(){return this.state===ln.closed}_isJoined(){return this.state===ln.joined}_isJoining(){return this.state===ln.joining}_isLeaving(){return this.state===ln.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Ad.isEqual(o.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(An.close,{},e)}_onError(e){this._on(An.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ln.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Em(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Em(e.columns,e.old_record)),r}}const ik=()=>{},ok=typeof WebSocket<"u",ak=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lk{constructor(e,r){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Jb,this.params={},this.timeout=Dy,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ik,this.conn=null,this.sendBuffer=[],this.serializer=new Xb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...d)=>ui(async()=>{const{default:f}=await Promise.resolve().then(()=>pi);return{default:f}},void 0).then(({default:f})=>f(...d)):u=fetch,(...d)=>u(...d)},this.endPoint=`${e}/${qc.websocket}`,this.httpEndpoint=Iy(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(i=r==null?void 0:r.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(l,u)=>u(JSON.stringify(l)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Oy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ok){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ui(async()=>{const{default:e}=await import("./browser-C8SxYR39.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yb}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ai.connecting:return ps.Connecting;case ai.open:return ps.Open;case ai.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(e,r={config:{}}){const i=new Ad(`realtime:${e}`,r,this);return this.channels.push(i),i}push(e){const{topic:r,event:i,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let i=null;try{i=JSON.parse(atob(r.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=r,this.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r}),o.joinedOnce&&o._isJoined()&&o._push(An.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Qb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:i,event:o,payload:l,ref:u}=r;u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${i} ${o} ${u&&"("+u+")"||""}`,l),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(o,l,u)),this.stateChangeCallbacks.message.forEach(d=>d(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(An.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([ak],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}}class uk{constructor(e,r,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ai.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class Ld extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ck extends Ld{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yc extends Ld{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var dk=function(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{h(i.next(m))}catch(v){u(v)}}function f(m){try{h(i.throw(m))}catch(v){u(v)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};const $y=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ui(async()=>{const{default:i}=await Promise.resolve().then(()=>pi);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},fk=()=>dk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ui(()=>Promise.resolve().then(()=>pi),void 0)).Response:Response}),Qc=t=>{if(Array.isArray(t))return t.map(r=>Qc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Qc(i)}),e};var Ss=function(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{h(i.next(m))}catch(v){u(v)}}function f(m){try{h(i.throw(m))}catch(v){u(v)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};const jc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hk=(t,e,r)=>Ss(void 0,void 0,void 0,function*(){const i=yield fk();t instanceof i&&!(r!=null&&r.noResolveJson)?t.json().then(o=>{e(new ck(jc(o),t.status||500))}).catch(o=>{e(new Yc(jc(o),o))}):e(new Yc(jc(t),t))}),pk=(t,e,r,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),r))};function Fo(t,e,r,i,o,l){return Ss(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,pk(e,i,o,l)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>hk(f,d,i))})})}function Sl(t,e,r,i){return Ss(this,void 0,void 0,function*(){return Fo(t,"GET",e,r,i)})}function $r(t,e,r,i,o){return Ss(this,void 0,void 0,function*(){return Fo(t,"POST",e,i,o,r)})}function mk(t,e,r,i,o){return Ss(this,void 0,void 0,function*(){return Fo(t,"PUT",e,i,o,r)})}function gk(t,e,r,i){return Ss(this,void 0,void 0,function*(){return Fo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Fy(t,e,r,i,o){return Ss(this,void 0,void 0,function*(){return Fo(t,"DELETE",e,i,o,r)})}var Xt=function(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{h(i.next(m))}catch(v){u(v)}}function f(m){try{h(i.throw(m))}catch(v){u(v)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};const yk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vk{constructor(e,r={},i,o){this.url=e,this.headers=r,this.bucketId=i,this.fetch=$y(o)}uploadOrUpdate(e,r,i,o){return Xt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Rm),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),v=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:l,headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{})),w=yield v.json();return v.ok?{data:{path:h,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}upload(e,r,i){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,o){return Xt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:Rm.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",h.cacheControl)):(f=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const v=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:m}),w=yield v.json();return v.ok?{data:{path:l,fullPath:w.Key},error:null}:{data:null,error:w}}catch(f){if(Ct(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return Xt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const l=yield $r(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Ld("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}update(e,r,i){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return Xt(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}copy(e,r,i){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield $r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,i){return Xt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield $r(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,i){return Xt(this,void 0,void 0,function*(){try{const o=yield $r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}download(e,r){return Xt(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=l?`?${l}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield Sl(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Ct(d))return{data:null,error:d};throw d}})}info(e){return Xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield Sl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qc(i),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}exists(e){return Xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield gk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ct(i)&&i instanceof Yc){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&o.push(f);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${h}`)}}}remove(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}list(e,r,i){return Xt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},yk),r),{prefix:e||""});return{data:yield $r(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const wk="2.7.1",xk={"X-Client-Info":`storage-js/${wk}`};var Xs=function(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{h(i.next(m))}catch(v){u(v)}}function f(m){try{h(i.throw(m))}catch(v){u(v)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};class Sk{constructor(e,r={},i){this.url=e,this.headers=Object.assign(Object.assign({},xk),r),this.fetch=$y(i)}listBuckets(){return Xs(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ct(e))return{data:null,error:e};throw e}})}getBucket(e){return Xs(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Xs(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Xs(this,void 0,void 0,function*(){try{return{data:yield mk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Xs(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Xs(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}}class bk extends Sk{constructor(e,r={},i){super(e,r,i)}from(e){return new vk(this.url,this.headers,e,this.fetch)}}const kk="2.48.1";let go="";typeof Deno<"u"?go="deno":typeof document<"u"?go="web":typeof navigator<"u"&&navigator.product==="ReactNative"?go="react-native":go="node";const _k={"X-Client-Info":`supabase-js-${go}/${kk}`},Ck={headers:_k},Ek={schema:"public"},Pk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tk={};var jk=function(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{h(i.next(m))}catch(v){u(v)}}function f(m){try{h(i.throw(m))}catch(v){u(v)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};const Rk=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ty:e=fetch,(...r)=>e(...r)},Nk=()=>typeof Headers>"u"?jy:Headers,Ak=(t,e,r)=>{const i=Rk(r),o=Nk();return(l,u)=>jk(void 0,void 0,void 0,function*(){var d;const f=(d=yield e())!==null&&d!==void 0?d:t;let h=new o(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),i(l,Object.assign(Object.assign({},u),{headers:h}))})};var Lk=function(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{h(i.next(m))}catch(v){u(v)}}function f(m){try{h(i.throw(m))}catch(v){u(v)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};function Dk(t){return t.replace(/\/$/,"")}function Ok(t,e){const{db:r,auth:i,realtime:o,global:l}=t,{db:u,auth:d,realtime:f,global:h}=e,m={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign({},h),l),accessToken:()=>Lk(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const By="2.67.3",Mk="http://localhost:9999",Ik="supabase.auth.token",$k={"X-Client-Info":`gotrue-js/${By}`},Nm=10,Xc="X-Supabase-Api-Version",Vy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Fk(t){return Math.round(Date.now()/1e3)+t}function Bk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fn=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},bo=()=>{if(!Fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function Vk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const Uy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ui(async()=>{const{default:i}=await Promise.resolve().then(()=>pi);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},Uk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zy=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},rl=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sl=async(t,e)=>{await t.removeItem(e)};function zk(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",i,o,l,u,d,f,h,m=0;for(t=t.replace("-","+").replace("_","/");m<t.length;)u=e.indexOf(t.charAt(m++)),d=e.indexOf(t.charAt(m++)),f=e.indexOf(t.charAt(m++)),h=e.indexOf(t.charAt(m++)),i=u<<2|d>>4,o=(d&15)<<4|f>>2,l=(f&3)<<6|h,r=r+String.fromCharCode(i),f!=64&&o!=0&&(r=r+String.fromCharCode(o)),h!=64&&l!=0&&(r=r+String.fromCharCode(l));return r}class Nl{constructor(){this.promise=new Nl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Nl.promiseConstructor=Promise;function Am(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=r[1];return JSON.parse(zk(i))}async function Wk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hk(t,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function Gk(t){return("0"+t.toString(16)).substr(-2)}function Kk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,Gk).join("")}async function qk(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}function Jk(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await qk(t);return Jk(r)}async function Zs(t,e,r=!1){const i=Kk();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await zy(t,`${e}-code-verifier`,o);const l=await Yk(i);return[l,i===l?"plain":"s256"]}const Qk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xk(t){const e=t.headers.get(Xc);if(!e||!e.match(Qk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Dd extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function De(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zk extends Dd{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function e1(t){return De(t)&&t.name==="AuthApiError"}class Wy extends Dd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class bs extends Dd{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class Or extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t1(t){return De(t)&&t.name==="AuthSessionMissingError"}class Rc extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class il extends bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ol extends bs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n1(t){return De(t)&&t.name==="AuthImplicitGrantRedirectError"}class Lm extends bs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zc extends bs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Nc(t){return De(t)&&t.name==="AuthRetryableFetchError"}class Dm extends bs{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}var r1=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r};const cs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),s1=[502,503,504];async function Om(t){var e;if(!Uk(t))throw new Zc(cs(t),0);if(s1.includes(t.status))throw new Zc(cs(t),t.status);let r;try{r=await t.json()}catch(l){throw new Wy(cs(l),l)}let i;const o=Xk(t);if(o&&o.getTime()>=Vy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Dm(cs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Or}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Dm(cs(r),t.status,r.weak_password.reasons);throw new Zk(cs(r),t.status||500,i)}const i1=(t,e,r,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function $e(t,e,r,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[Xc]||(l[Xc]=Vy["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await o1(t,e,r+d,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function o1(t,e,r,i,o,l){const u=i1(e,i,o,l);let d;try{d=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new Zc(cs(f),0)}if(d.ok||await Om(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(f){await Om(f)}}function Mr(t){var e;let r=null;c1(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Fk(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Mm(t){const e=Mr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Br(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function a1(t){return{data:t,error:null}}function l1(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l}=t,u=r1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function u1(t){return t}function c1(t){return t.access_token&&t.refresh_token&&t.expires_in}var d1=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r};class f1{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=Uy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Br})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=d1(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:l1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Br})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,l,u,d,f;try{const h={nextPage:null,lastPage:0,total:0},m=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:u1});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(k=>{const C=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);h[`${j}Page`]=C}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(De(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Br})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Br})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Br})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:r,error:i}=await $e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}}const h1={getItem:t=>bo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{bo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{bo()&&globalThis.localStorage.removeItem(t)}};function Im(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function p1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ei={debug:!!(globalThis&&bo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class m1 extends Hy{}async function g1(t,e,r){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new m1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ei.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}p1();const y1={url:Mk,storageKey:Ik,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$k,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},fo=30*1e3,$m=3;async function Fm(t,e,r){return await r()}class jo{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jo.nextInstanceID,jo.nextInstanceID+=1,this.instanceID>0&&Fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},y1),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new f1({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Uy(o.fetch),this.lock=o.lock||Fm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Fn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=g1:this.lock=Fm,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:bo()?this.storage=h1:(this.memoryStorage={},this.storage=Im(this.memoryStorage)):(this.memoryStorage={},this.storage=Im(this.memoryStorage)),Fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${By}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Vk(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),Fn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),n1(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?{error:r}:{error:new Wy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Mr}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(De(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,i,o;try{let l;if("email"in e){const{email:m,password:v,options:w}=e;let x=null,k=null;this.flowType==="pkce"&&([x,k]=await Zs(this.storage,this.storageKey)),l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:m,password:v,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:k},xform:Mr})}else if("phone"in e){const{phone:m,password:v,options:w}=e;l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Mr})}else throw new il("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(De(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Mm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Mm})}else throw new il("You must provide either an email or phone number and a password");const{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Rc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await rl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:l,error:u}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Mr});if(await sl(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Rc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(De(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:l,nonce:u}=e,d=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mr}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Rc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,l,u;try{if("email"in e){const{email:d,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Zs(this.storage,this.storageKey));const{error:v}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:d,options:f}=e,{data:h,error:m}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new il("You must provide either an email or phone number.")}catch(d){if(De(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,i;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Mr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,h=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Zs(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:a1})}catch(l){if(De(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Or;const{error:o}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(De(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:u}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:u,error:d}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new il("You must provide either an email or phone number and a type")}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await rl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,h,m)=>(!u&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,m))})}return{data:{session:e},error:null}}const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Br}):await this._useSession(async r=>{var i,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Or}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Br})})}catch(r){if(De(r))return t1(r)&&(await this._removeSession(),await sl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new Or;const u=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Zs(this.storage,this.storageKey));const{data:h,error:m}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Br});if(m)throw m;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return Am(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Or;const r=Date.now()/1e3;let i=r,o=!0,l=null;const u=Am(e.access_token);if(u.exp&&(i=u.exp,o=i<=r),o){const{session:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(De(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Or;const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Fn())throw new ol("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ol(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ol("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Lm("No code detected.");const{data:$,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:f,token_type:h}=e;if(!l||!d||!u||!h)throw new ol("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(d);let w=m+v;f&&(w=parseInt(f));const x=w-m;x*1e3<=fo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const k=w-v;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,m);const{data:C,error:j}=await this._getUser(l);if(j)throw j;const E={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(i){if(De(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await rl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{error:l};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(e1(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await sl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Bk(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Zs(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(De(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:i,error:o}=await this._useSession(async l=>{var u,d,f,h,m;const{data:v,error:w}=l;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Fn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(De(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)throw u;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Hk(async o=>(o>0&&await Wk(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mr})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Nc(l)&&Date.now()+u-i<fo})}catch(i){if(this._debug(r,"error",i),De(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Fn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await rl(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=Math.round(Date.now()/1e3),l=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<o+Nm;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Nm}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),Nc(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Nl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Or;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),De(l)){const u={session:null,error:l};return Nc(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await zy(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await sl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/fo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${fo}ms, refresh threshold is ${$m} ticks`),o<=$m&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Zs(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;return l?{data:null,error:l}:await $e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:h}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{data:null,error:l};const{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;return l?{data:null,error:l}:await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(e==null?void 0:e.factors)||[],o=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,i;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const u=this._decodeJWT(o.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const m=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}}jo.nextInstanceID=0;const v1=jo;class w1 extends v1{constructor(e){super(e)}}var x1=function(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{h(i.next(m))}catch(v){u(v)}}function f(m){try{h(i.throw(m))}catch(v){u(v)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};class S1{constructor(e,r,i){var o,l,u;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=Dk(e);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:Ek,realtime:Tk,auth:Object.assign(Object.assign({},Pk),{storageKey:f}),global:Ck},m=Ok(i??{},h);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=m.auth)!==null&&u!==void 0?u:{},this.headers,m.global.fetch),this.fetch=Ak(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new Kb(`${d}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new Ob(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bk(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return x1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,storageKey:l,flowType:u,lock:d,debug:f},h,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w1({url:this.authUrl,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,flowType:u,lock:d,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new lk(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const b1=(t,e,r)=>new S1(t,e,r),k1="https://ninlqlhpkxyckertjlyh.supabase.co",_1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pbmxxbGhwa3h5Y2tlcnRqbHloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg0MjgzODIsImV4cCI6MjA1NDAwNDM4Mn0.X1ArteKjxLnPxPwJmkJh9qyeatwslwJ5MS2mc_f4AI4",Zt=b1(k1,_1),Gy=b.createContext(null),C1=({children:t})=>{const[e,r]=b.useState(null),[i,o]=b.useState(!0);return b.useEffect(()=>{(async()=>{var h;const{data:d,error:f}=await Zt.auth.getSession();f&&console.error("Error fetching session:",f.message),r(((h=d.session)==null?void 0:h.user)||null),o(!1)})();const{data:u}=Zt.auth.onAuthStateChange((d,f)=>{r((f==null?void 0:f.user)||null)});return()=>{u==null||u.subscription.unsubscribe()}},[]),y.jsx(Gy.Provider,{value:{user:e,setUser:r,loading:i},children:t})},mi=()=>{const t=b.useContext(Gy);if(!t)throw new Error("useAuth must be used within an AuthProvider.");return t},Ky=b.createContext({profile:null,loading:!0,error:null,refetchProfile:async()=>{}}),E1=({children:t})=>{const[e,r]=b.useState(null),[i,o]=b.useState(!0),[l,u]=b.useState(null),{user:d,loading:f}=mi(),h=async()=>{try{if(o(!0),d){const{data:m,error:v}=await Zt.from("profiles").select("*").eq("id",d.id).single();if(v)throw new Error(v.message);r(m)}else r({displayname:"",id:"placeholder-id",username:"",role:"Default",tokens:0})}catch(m){console.error("Error fetching profile:",m.message),u(m.message)}finally{o(!1)}};return b.useEffect(()=>{f===!1&&h()},[d,f]),y.jsx(Ky.Provider,{value:{profile:e,loading:i,error:l,refetchProfile:h},children:t})},gi=()=>{const t=b.useContext(Ky);if(!t)throw new Error("useProfile must be used within a ProfileProvider");return t},qy=b.createContext(null),P1=({children:t})=>{const e=b.useRef(null),[r,i]=b.useState(!1),[o,l]=b.useState(!1),{profile:u,error:d}=gi(),{loading:f}=mi();b.useEffect(()=>{if(!e.current){const m="wss://reldnahc.duckdns.org";e.current=new WebSocket(m),e.current.onopen=()=>{console.log("WebSocket connected"),i(!0)},e.current.onerror=v=>{console.error("WebSocket error:",v),i(!1)},e.current.onclose=()=>{console.log("WebSocket closed, cleaning up..."),e.current=null,i(!1)},console.log("WebSocket initialized:",e.current)}},[]);const h=()=>{var m;if(e.current&&r){const v=location.hash,w=u==null?void 0:u.displayname,x=v.split("/")[2],k=v.includes("/lobby")?"join-lobby":v.includes("/game")?"join-game":null;k&&((m=e.current)==null||m.send(JSON.stringify({type:k,gameId:x,playerName:w})),console.log(`Sent ${k} message with playerName: ${w}`))}};return b.useEffect(()=>{u&&r&&!o&&(h(),l(!0))},[u,d,r,o,f]),y.jsx(qy.Provider,{value:{socket:e.current,isSocketReady:r},children:t})},Bo=()=>{const t=b.useContext(qy);if(!t)throw new Error("useWebSocket must be used within a WebSocketProvider");return t},yo=["Astronomy","Physics","Chemistry","Biology","Geology","Quantum Mechanics","Genetics","Astrophysics","Environmental Science","Botany","Zoology","Ecology","Microbiology","Virology","Paleontology","Space Exploration","Robotics","Artificial Intelligence","Machine Learning","Blockchain","Cybersecurity","Data Science","Cloud Computing","Quantum Computing","Renewable Energy","Nanotechnology","Electronics","Automation","Web Development","Mobile Apps","Programming Languages","Algorithms","Hacking","Internet of Things","5G Technology","Drones","Augmented Reality","Virtual Reality","Social Media","Digital Marketing","Video Game Design","E-Commerce","Cryptocurrency","Mars Rovers","Telescope Discoveries","Energy Efficiency","Space Debris","Neural Networks","Innovative Gadgets","Biohacking","Green Energy","Medical Nanotechnology","Autonomous Vehicles","Smart Cities","Underwater Exploration","Rocket Launches","SETI Research","Ancient Egypt","Roman Empire","Greek Mythology","Renaissance","Industrial Revolution","World War I","World War II","Cold War","French Revolution","American Revolution","Vikings","Medieval Europe","Samurai Culture","Colonial America","Civil Rights Movement","History of Medicine","Exploration of the Americas","Famous Historical Leaders","Treaties and Alliances","Crusades","Ottoman Empire","Fall of the Berlin Wall","Space Race","Napoleonic Wars","The Crusades","Genghis Khans Empire","The Ming Dynasty","Salem Witch Trials","Boston Tea Party","Apollo 11 Mission","Dark Ages","War of Roses","Berlin Airlift","Vietnam War","Cultural Revolution of the 60s","Womens Suffrage Movement","Prohibition Era","Black Death","World Capitals","Mountain Ranges","Longest Rivers","Largest Deserts","Oceans and Seas","Island Nations","Countries of Europe","Countries of Asia","Countries of Africa","Countries of South America","Famous Landmarks","Tropical Rainforests","National Parks","Ancient Cities","UNESCO World Heritage Sites","Volcanoes","Caves","Islands","Geographic Wonders","Time Zones","Coastal Regions","Fjords","Glaciers","Rain Shadows","Hot Springs","Coral Reefs","Monsoons","Natural Disasters","Desert Oases","Salt Flats","Plateau Formations","Cultural Capitals","Arctic Regions","Oscar-Winning Movies","Animated Movies","Science Fiction Films","Horror Movies","Fantasy Movies","Romantic Comedies","Classic Hollywood","Famous Movie Directors","Superhero Movies","Action Movies","Thriller Films","Cult Films","Documentaries","TV Show Characters","Sitcoms","Streaming Platforms","Movie Franchises","Award Shows","Famous Actors","Horror Series","Star Wars Universe","Game of Thrones","Harry Potter Franchise","The Matrix Series","Breaking Bad","The Office","Stranger Things","Friends","The Simpsons","Parks and Recreation","The Big Bang Theory","Better Call Saul","WandaVision","House of Cards","How I Met Your Mother","Squid Game","Rick and Morty","Video Game Franchises","RPG Games","Mobile Games","PC Games","Esports Players","Board Games","Card Games","Arcade Games","Game Consoles","Strategy Games","Puzzle Games","Indie Games","Retro Games","Game Studios","First-Person Shooters","Fantasy Games","Simulation Games","Mario Franchise","Zelda Series","Call of Duty","The Elder Scrolls","Minecraft","The Witcher","Red Dead Redemption","Fortnite","League of Legends","Valorant","Overwatch","Cyberpunk 2077","Assassins Creed","Among Us","Stardew Valley","Animal Crossing","Battlefield","Pokemon Franchise","Super Smash Bros","FIFA Games","Civilization Franchise","Shakespeare Plays","Science Fiction Novels","Mystery Books","Fantasy Novels","Historical Fiction","Romance Novels","Famous Authors","Philosophy Books","Classic Literature","Essays","Childrens Books","Graphic Novels","Dystopian Fiction","Mythological Stories","Biographies","Harry Potter Books","Lord of the Rings Trilogy","Sherlock Holmes Series","Percy Jackson Series","Pride and Prejudice","1984","The Great Gatsby","To Kill a Mockingbird","Moby Dick","War and Peace","A Tale of Two Cities","The Hobbit","Wuthering Heights","The Catcher in the Rye","Les Misrables","Brave New World","Slaughterhouse-Five","The Hunger Games","Dune","Dracula","The Da Vinci Code","The Alchemist","The Wheel of Time","The Chronicles of Narnia","Rock Bands","Hip Hop Artists","Country Music","Pop Artists","Jazz Legends","Classical Composers","Opera Songs","Electronic Beats","Famous Albums","Musical Instruments","Music Awards","Movie Soundtracks","Choirs","Orchestras","Songs of the 80s","Taylor Swift Albums","Adele Hits","Beatles Songs","Rolling Stones Classics","Elvis Presley Hits","Grammy Winners","Billboard Hot 100","Pink Floyd Albums","Metallica Songs","Queen Anthems","Rap Battles","One-Hit Wonders","American Idol Stars","Eurovision Songs","Songwriting Legends","Coldplay Favorites","K-Pop Sensations","BTS Albums","Ed Sheeran Hits","Bruno Mars Songs","Global Cuisines","Street Foods","Vegan Dishes","Desserts","Cocktails","Wine Varieties","Coffee Brews","Cheeses of the World","Bread Types","Spices and Herbs","Famous Restaurants","Soups and Stews","Classic Recipes","Baking Techniques","Ice Cream Flavors","Pasta Varieties","Asian Dishes","BBQ Styles","Seafood Dishes","Michelin Chefs","Fast Food Chains","Fine Dining","Chocolate Desserts","Exotic Fruits","Unique Beverages","Pizza Toppings","Sandwiches","Tropical Smoothies","Breakfast Foods","Spicy Dishes","Astrology Signs","Zodiac Predictions","Superheroes","DIY Trends","Interior Design","Architecture Styles","Famous Paintings","Sketching Techniques","Gardening Tools","Luxury Cars","Motorbikes","Celebrity Scandals","Paranormal Stories","Haunted Places","Urban Legends","Aliens and UFOs","Tarot Cards Readings","Meditation Types","Famous Cartoons","Comic Heroes","Travel Adventures","Luxury Beach Resorts","Space Travel Plans","Wildlife Tours","Magical Spells"],Od=b.createContext({});function Md(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Al=b.createContext(null),Id=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class T1 extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=r.offsetParent,o=i instanceof HTMLElement&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function j1({children:t,isPresent:e,anchorX:r}){const i=b.useId(),o=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(Id);return b.useInsertionEffect(()=>{const{width:d,height:f,top:h,left:m,right:v}=l.current;if(e||!o.current||!d||!f)return;const w=r==="left"?`left: ${m}`:`right: ${v}`;o.current.dataset.motionPopId=i;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[e]),y.jsx(T1,{isPresent:e,childRef:o,sizeRef:l,children:b.cloneElement(t,{ref:o})})}const R1=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d})=>{const f=Md(N1),h=b.useId(),m=b.useCallback(w=>{f.set(w,!0);for(const x of f.values())if(!x)return;i&&i()},[f,i]),v=b.useMemo(()=>({id:h,initial:e,isPresent:r,custom:o,onExitComplete:m,register:w=>(f.set(w,!1),()=>f.delete(w))}),l?[Math.random(),m]:[r,m]);return b.useMemo(()=>{f.forEach((w,x)=>f.set(x,!1))},[r]),b.useEffect(()=>{!r&&!f.size&&i&&i()},[r]),u==="popLayout"&&(t=y.jsx(j1,{isPresent:r,anchorX:d,children:t})),y.jsx(Al.Provider,{value:v,children:t})};function N1(){return new Map}function Jy(t=!0){const e=b.useContext(Al);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:o}=e,l=b.useId();b.useEffect(()=>{t&&o(l)},[t]);const u=b.useCallback(()=>t&&i&&i(l),[l,i,t]);return!r&&i?[!1,u]:[!0]}const al=t=>t.key||"";function Bm(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const $d=typeof window<"u",Yy=$d?b.useLayoutEffect:b.useEffect,or=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:d="left"})=>{const[f,h]=Jy(u),m=b.useMemo(()=>Bm(t),[t]),v=u&&!f?[]:m.map(al),w=b.useRef(!0),x=b.useRef(m),k=Md(()=>new Map),[C,j]=b.useState(m),[E,$]=b.useState(m);Yy(()=>{w.current=!1,x.current=m;for(let _=0;_<E.length;_++){const z=al(E[_]);v.includes(z)?k.delete(z):k.get(z)!==!0&&k.set(z,!1)}},[E,v.length,v.join("-")]);const D=[];if(m!==C){let _=[...m];for(let z=0;z<E.length;z++){const Q=E[z],K=al(Q);v.includes(K)||(_.splice(z,0,Q),D.push(Q))}return l==="wait"&&D.length&&(_=D),$(Bm(_)),j(m),null}const{forceRender:U}=b.useContext(Od);return y.jsx(y.Fragment,{children:E.map(_=>{const z=al(_),Q=u&&!f?!1:m===E||v.includes(z),K=()=>{if(k.has(z))k.set(z,!0);else return;let ne=!0;k.forEach(ce=>{ce||(ne=!1)}),ne&&(U==null||U(),$(x.current),u&&(h==null||h()),i&&i())};return y.jsx(R1,{isPresent:Q,initial:!w.current||r?void 0:!1,custom:Q?void 0:e,presenceAffectsLayout:o,mode:l,onExitComplete:Q?void 0:K,anchorX:d,children:_},z)})})},cn=t=>t;let ed=cn;function Fd(t){let e;return()=>(e===void 0&&(e=t()),e)}const di=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i},sr=t=>t*1e3,ir=t=>t/1e3,A1={skipAnimations:!1,useManualTiming:!1};function L1(t){let e=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(h){l.has(h)&&(f.schedule(h),t()),h(u)}const f={schedule:(h,m=!1,v=!1)=>{const x=v&&i?e:r;return m&&l.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),l.delete(h)},process:h=>{if(u=h,i){o=!0;return}i=!0,[e,r]=[r,e],e.forEach(d),e.clear(),i=!1,o&&(o=!1,f.process(h))}};return f}const ll=["read","resolveKeyframes","update","preRender","render","postRender"],D1=40;function Qy(t,e){let r=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,u=ll.reduce((E,$)=>(E[$]=L1(l),E),{}),{read:d,resolveKeyframes:f,update:h,preRender:m,render:v,postRender:w}=u,x=()=>{const E=performance.now();r=!1,o.delta=i?1e3/60:Math.max(Math.min(E-o.timestamp,D1),1),o.timestamp=E,o.isProcessing=!0,d.process(o),f.process(o),h.process(o),m.process(o),v.process(o),w.process(o),o.isProcessing=!1,r&&e&&(i=!1,t(x))},k=()=>{r=!0,i=!0,o.isProcessing||t(x)};return{schedule:ll.reduce((E,$)=>{const D=u[$];return E[$]=(U,_=!1,z=!1)=>(r||k(),D.schedule(U,_,z)),E},{}),cancel:E=>{for(let $=0;$<ll.length;$++)u[ll[$]].cancel(E)},state:o,steps:u}}const{schedule:Xe,cancel:Ur,state:Nt,steps:Ac}=Qy(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0),Xy=b.createContext({strict:!1}),Vm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fi={};for(const t in Vm)fi[t]={isEnabled:e=>Vm[t].some(r=>!!e[r])};function O1(t){for(const e in t)fi[e]={...fi[e],...t[e]}}const M1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M1.has(t)}let Zy=t=>!bl(t);function I1(t){t&&(Zy=e=>e.startsWith("on")?!bl(e):t(e))}try{I1(require("@emotion/is-prop-valid").default)}catch{}function $1(t,e,r){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(Zy(o)||r===!0&&bl(o)||!e&&!bl(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}function F1(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const Ll=b.createContext({});function Dl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ro(t){return typeof t=="string"||Array.isArray(t)}const Bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vd=["initial",...Bd];function Ol(t){return Dl(t.animate)||Vd.some(e=>Ro(t[e]))}function ev(t){return!!(Ol(t)||t.variants)}function B1(t,e){if(Ol(t)){const{initial:r,animate:i}=t;return{initial:r===!1||Ro(r)?r:void 0,animate:Ro(i)?i:void 0}}return t.inherit!==!1?e:{}}function V1(t){const{initial:e,animate:r}=B1(t,b.useContext(Ll));return b.useMemo(()=>({initial:e,animate:r}),[Um(e),Um(r)])}function Um(t){return Array.isArray(t)?t.join(" "):t}const U1=Symbol.for("motionComponentSymbol");function ni(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z1(t,e,r){return b.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):ni(r)&&(r.current=i))},[e])}const Ud=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),W1="framerAppearId",tv="data-"+Ud(W1),{schedule:zd,cancel:HT}=Qy(queueMicrotask,!1),nv=b.createContext({});function H1(t,e,r,i,o){var l,u;const{visualElement:d}=b.useContext(Ll),f=b.useContext(Xy),h=b.useContext(Al),m=b.useContext(Id).reducedMotion,v=b.useRef(null);i=i||f.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:d,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const w=v.current,x=b.useContext(nv);w&&!w.projection&&o&&(w.type==="html"||w.type==="svg")&&G1(v.current,r,o,x);const k=b.useRef(!1);b.useInsertionEffect(()=>{w&&k.current&&w.update(r,h)});const C=r[tv],j=b.useRef(!!C&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,C))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,C)));return Yy(()=>{w&&(k.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),zd.render(w.render),j.current&&w.animationState&&w.animationState.animateChanges())}),b.useEffect(()=>{w&&(!j.current&&w.animationState&&w.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,C)}),j.current=!1))}),w}function G1(t,e,r,i){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:rv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&ni(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:h})}function rv(t){if(t)return t.options.allowProjection!==!1?t.projection:rv(t.parent)}function K1({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:i,Component:o}){var l,u;t&&O1(t);function d(h,m){let v;const w={...b.useContext(Id),...h,layoutId:q1(h)},{isStatic:x}=w,k=V1(h),C=i(h,x);if(!x&&$d){J1();const j=Y1(w);v=j.MeasureLayout,k.visualElement=H1(o,C,w,e,j.ProjectionNode)}return y.jsxs(Ll.Provider,{value:k,children:[v&&k.visualElement?y.jsx(v,{visualElement:k.visualElement,...w}):null,r(o,h,z1(C,k.visualElement,m),C,x,k.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&u!==void 0?u:""})`}`;const f=b.forwardRef(d);return f[U1]=o,f}function q1({layoutId:t}){const e=b.useContext(Od).id;return e&&t!==void 0?e+"-"+t:t}function J1(t,e){b.useContext(Xy).strict}function Y1(t){const{drag:e,layout:r}=fi;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const sv=t=>e=>typeof e=="string"&&e.startsWith(t),Wd=sv("--"),Q1=sv("var(--"),Hd=t=>Q1(t)?X1.test(t.split("/*")[0].trim()):!1,X1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,No={};function Z1(t){for(const e in t)No[e]=t[e],Wd(e)&&(No[e].isCSSVariable=!0)}const yi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ks=new Set(yi);function iv(t,{layout:e,layoutId:r}){return ks.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!No[t]||t==="opacity")}const It=t=>!!(t&&t.getVelocity),ov=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ar=(t,e,r)=>r>e?e:r<t?t:r,vi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ao={...vi,transform:t=>ar(0,1,t)},ul={...vi,default:1},Vo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ir=Vo("deg"),Vn=Vo("%"),Pe=Vo("px"),e_=Vo("vh"),t_=Vo("vw"),zm={...Vn,parse:t=>Vn.parse(t)/100,transform:t=>Vn.transform(t*100)},n_={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe},r_={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:ul,scaleX:ul,scaleY:ul,scaleZ:ul,skew:Ir,skewX:Ir,skewY:Ir,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Ao,originX:zm,originY:zm,originZ:Pe},Wm={...vi,transform:Math.round},Gd={...n_,...r_,zIndex:Wm,size:Pe,fillOpacity:Ao,strokeOpacity:Ao,numOctaves:Wm},s_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},i_=yi.length;function o_(t,e,r){let i="",o=!0;for(let l=0;l<i_;l++){const u=yi[l],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const h=ov(d,Gd[u]);if(!f){o=!1;const m=s_[u]||u;i+=`${m}(${h}) `}r&&(e[u]=h)}}return i=i.trim(),r?i=r(e,o?"":i):o&&(i="none"),i}function Kd(t,e,r){const{style:i,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const f in e){const h=e[f];if(ks.has(f)){u=!0;continue}else if(Wd(f)){o[f]=h;continue}else{const m=ov(h,Gd[f]);f.startsWith("origin")?(d=!0,l[f]=m):i[f]=m}}if(e.transform||(u||r?i.transform=o_(e,t.transform,r):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;i.transformOrigin=`${f} ${h} ${m}`}}const qd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function av(t,e,r){for(const i in e)!It(e[i])&&!iv(i,r)&&(t[i]=e[i])}function a_({transformTemplate:t},e){return b.useMemo(()=>{const r=qd();return Kd(r,e,t),Object.assign({},r.vars,r.style)},[e])}function l_(t,e){const r=t.style||{},i={};return av(i,r,t),Object.assign(i,a_(t,e)),i}function u_(t,e){const r={},i=l_(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const c_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jd(t){return typeof t!="string"||t.includes("-")?!1:!!(c_.indexOf(t)>-1||/[A-Z]/u.test(t))}const d_={offset:"stroke-dashoffset",array:"stroke-dasharray"},f_={offset:"strokeDashoffset",array:"strokeDasharray"};function h_(t,e,r=1,i=0,o=!0){t.pathLength=1;const l=o?d_:f_;t[l.offset]=Pe.transform(-i);const u=Pe.transform(e),d=Pe.transform(r);t[l.array]=`${u} ${d}`}function Hm(t,e,r){return typeof t=="string"?t:Pe.transform(e+r*t)}function p_(t,e,r){const i=Hm(e,t.x,t.width),o=Hm(r,t.y,t.height);return`${i} ${o}`}function Yd(t,{attrX:e,attrY:r,attrScale:i,originX:o,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...h},m,v){if(Kd(t,h,v),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:x,dimensions:k}=t;w.transform&&(k&&(x.transform=w.transform),delete w.transform),k&&(o!==void 0||l!==void 0||x.transform)&&(x.transformOrigin=p_(k,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),i!==void 0&&(w.scale=i),u!==void 0&&h_(w,u,d,f,!1)}const lv=()=>({...qd(),attrs:{}}),Qd=t=>typeof t=="string"&&t.toLowerCase()==="svg";function m_(t,e,r,i){const o=b.useMemo(()=>{const l=lv();return Yd(l,e,Qd(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};av(l,t.style,t),o.style={...l,...o.style}}return o}function g_(t=!1){return(r,i,o,{latestValues:l},u)=>{const f=(Jd(r)?m_:u_)(i,l,u,r),h=$1(i,typeof r=="string",t),m=r!==b.Fragment?{...h,...f,ref:o}:{},{children:v}=i,w=b.useMemo(()=>It(v)?v.get():v,[v]);return b.createElement(r,{...m,children:w})}}function Gm(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function Xd(t,e,r,i){if(typeof e=="function"){const[o,l]=Gm(i);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Gm(i);e=e(r!==void 0?r:t.custom,o,l)}return e}const td=t=>Array.isArray(t),y_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),v_=t=>td(t)?t[t.length-1]||0:t;function ml(t){const e=It(t)?t.get():t;return y_(e)?e.toValue():e}function w_({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},i,o,l){const u={latestValues:x_(i,o,l,t),renderState:e()};return r&&(u.onMount=d=>r({props:i,current:d,...u}),u.onUpdate=d=>r(d)),u}const uv=t=>(e,r)=>{const i=b.useContext(Ll),o=b.useContext(Al),l=()=>w_(t,e,i,o);return r?l():Md(l)};function x_(t,e,r,i){const o={},l=i(t,{});for(const w in l)o[w]=ml(l[w]);let{initial:u,animate:d}=t;const f=Ol(t),h=ev(t);e&&h&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let m=r?r.initial===!1:!1;m=m||u===!1;const v=m?d:u;if(v&&typeof v!="boolean"&&!Dl(v)){const w=Array.isArray(v)?v:[v];for(let x=0;x<w.length;x++){const k=Xd(t,w[x]);if(k){const{transitionEnd:C,transition:j,...E}=k;for(const $ in E){let D=E[$];if(Array.isArray(D)){const U=m?D.length-1:0;D=D[U]}D!==null&&(o[$]=D)}for(const $ in C)o[$]=C[$]}}}return o}function Zd(t,e,r){var i;const{style:o}=t,l={};for(const u in o)(It(o[u])||e.style&&It(e.style[u])||iv(u,t)||((i=r==null?void 0:r.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[u]=o[u]);return l}const S_={useVisualState:uv({scrapeMotionValuesFromProps:Zd,createRenderState:qd})};function cv(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function dv(t,{style:e,vars:r},i,o){Object.assign(t.style,e,o&&o.getProjectionStyles(i));for(const l in r)t.style.setProperty(l,r[l])}const fv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hv(t,e,r,i){dv(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(fv.has(o)?o:Ud(o),e.attrs[o])}function pv(t,e,r){const i=Zd(t,e,r);for(const o in t)if(It(t[o])||It(e[o])){const l=yi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}const Km=["x","y","width","height","cx","cy","r"],b_={useVisualState:uv({scrapeMotionValuesFromProps:pv,createRenderState:lv,onUpdate:({props:t,prevProps:e,current:r,renderState:i,latestValues:o})=>{if(!r)return;let l=!!t.drag;if(!l){for(const d in o)if(ks.has(d)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let d=0;d<Km.length;d++){const f=Km[d];t[f]!==e[f]&&(u=!0)}u&&Xe.read(()=>{cv(r,i),Xe.render(()=>{Yd(i,o,Qd(r.tagName),t.transformTemplate),hv(r,i)})})}})};function k_(t,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Jd(i)?b_:S_,preloadedFeatures:t,useRender:g_(o),createVisualElement:e,Component:i};return K1(u)}}function Ml(t,e,r){const i=t.getProps();return Xd(i,e,r!==void 0?r:i.custom,t)}const __=Fd(()=>window.ScrollTimeline!==void 0);class C_{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=r}attachTimeline(e,r){const i=this.animations.map(o=>{if(__()&&o.attachTimeline)return o.attachTimeline(e);if(typeof r=="function")return r(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class E_ extends C_{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function ef(t,e){return t?t[e]||t.default||t:void 0}const nd=2e4;function mv(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<nd;)e+=r,i=t.next(e);return e>=nd?1/0:e}function tf(t){return typeof t=="function"}function qm(t,e){t.timeline=e,t.onfinish=null}const nf=t=>Array.isArray(t)&&typeof t[0]=="number",P_={linearEasing:void 0};function T_(t,e){const r=Fd(t);return()=>{var i;return(i=P_[e])!==null&&i!==void 0?i:r()}}const kl=T_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gv=(t,e,r=10)=>{let i="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)i+=t(di(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function yv(t){return!!(typeof t=="function"&&kl()||!t||typeof t=="string"&&(t in rd||kl())||nf(t)||Array.isArray(t)&&t.every(yv))}const vo=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,rd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vo([0,.65,.55,1]),circOut:vo([.55,0,1,.45]),backIn:vo([.31,.01,.66,-.59]),backOut:vo([.33,1.53,.69,.99])};function vv(t,e){if(t)return typeof t=="function"&&kl()?gv(t,e):nf(t)?vo(t):Array.isArray(t)?t.map(r=>vv(r,e)||rd.easeOut):rd[t]}const Rn={x:!1,y:!1};function wv(){return Rn.x||Rn.y}function j_(t,e,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function xv(t,e){const r=j_(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[r,o,()=>i.abort()]}function Jm(t){return!(t.pointerType==="touch"||wv())}function R_(t,e,r={}){const[i,o,l]=xv(t,r),u=d=>{if(!Jm(d))return;const{target:f}=d,h=e(f,d);if(typeof h!="function"||!f)return;const m=v=>{Jm(v)&&(h(v),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,o)};return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const Sv=(t,e)=>e?t===e?!0:Sv(t,e.parentElement):!1,rf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,N_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A_(t){return N_.has(t.tagName)||t.tabIndex!==-1}const wo=new WeakSet;function Ym(t){return e=>{e.key==="Enter"&&t(e)}}function Lc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const L_=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=Ym(()=>{if(wo.has(r))return;Lc(r,"down");const o=Ym(()=>{Lc(r,"up")}),l=()=>Lc(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function Qm(t){return rf(t)&&!wv()}function D_(t,e,r={}){const[i,o,l]=xv(t,r),u=d=>{const f=d.currentTarget;if(!Qm(d)||wo.has(f))return;wo.add(f);const h=e(f,d),m=(x,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),!(!Qm(x)||!wo.has(f))&&(wo.delete(f),typeof h=="function"&&h(x,{success:k}))},v=x=>{m(x,r.useGlobalTarget||Sv(f,x.target))},w=x=>{m(x,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return i.forEach(d=>{!A_(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",h=>L_(h,o),o)}),l}function O_(t){return t==="x"||t==="y"?Rn[t]?null:(Rn[t]=!0,()=>{Rn[t]=!1}):Rn.x||Rn.y?null:(Rn.x=Rn.y=!0,()=>{Rn.x=Rn.y=!1})}const bv=new Set(["width","height","top","left","right","bottom",...yi]);let gl;function M_(){gl=void 0}const Un={now:()=>(gl===void 0&&Un.set(Nt.isProcessing||A1.useManualTiming?Nt.timestamp:performance.now()),gl),set:t=>{gl=t,queueMicrotask(M_)}};function sf(t,e){t.indexOf(e)===-1&&t.push(e)}function of(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class af{constructor(){this.subscriptions=[]}add(e){return sf(this.subscriptions,e),()=>of(this.subscriptions,e)}notify(e,r,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function kv(t,e){return e?t*(1e3/e):0}const Xm=30,I_=t=>!isNaN(parseFloat(t));class $_{constructor(e,r={}){this.version="12.1.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=Un.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=I_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new af);const i=this.events[e].add(r);return e==="change"?()=>{i(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Xm)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Xm);return kv(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lo(t,e){return new $_(t,e)}function F_(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Lo(r))}function B_(t,e){const r=Ml(t,e);let{transitionEnd:i={},transition:o={},...l}=r||{};l={...l,...i};for(const u in l){const d=v_(l[u]);F_(t,u,d)}}function V_(t){return!!(It(t)&&t.add)}function sd(t,e){const r=t.getValue("willChange");if(V_(r))return r.add(e)}function _v(t){return t.props[tv]}const Cv=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,U_=1e-7,z_=12;function W_(t,e,r,i,o){let l,u,d=0;do u=e+(r-e)/2,l=Cv(u,i,o)-t,l>0?r=u:e=u;while(Math.abs(l)>U_&&++d<z_);return u}function Uo(t,e,r,i){if(t===e&&r===i)return cn;const o=l=>W_(l,0,1,t,r);return l=>l===0||l===1?l:Cv(o(l),e,i)}const Ev=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Pv=t=>e=>1-t(1-e),Tv=Uo(.33,1.53,.69,.99),lf=Pv(Tv),jv=Ev(lf),Rv=t=>(t*=2)<1?.5*lf(t):.5*(2-Math.pow(2,-10*(t-1))),uf=t=>1-Math.sin(Math.acos(t)),Nv=Pv(uf),Av=Ev(uf),Lv=t=>/^0[^.\s]+$/u.test(t);function H_(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Lv(t):!0}const ko=t=>Math.round(t*1e5)/1e5,cf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G_(t){return t==null}const K_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,df=(t,e)=>r=>!!(typeof r=="string"&&K_.test(r)&&r.startsWith(t)||e&&!G_(r)&&Object.prototype.hasOwnProperty.call(r,e)),Dv=(t,e,r)=>i=>{if(typeof i!="string")return i;const[o,l,u,d]=i.match(cf);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},q_=t=>ar(0,255,t),Dc={...vi,transform:t=>Math.round(q_(t))},gs={test:df("rgb","red"),parse:Dv("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Dc.transform(t)+", "+Dc.transform(e)+", "+Dc.transform(r)+", "+ko(Ao.transform(i))+")"};function J_(t){let e="",r="",i="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const id={test:df("#"),parse:J_,transform:gs.transform},ri={test:df("hsl","hue"),parse:Dv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+Vn.transform(ko(e))+", "+Vn.transform(ko(r))+", "+ko(Ao.transform(i))+")"},Mt={test:t=>gs.test(t)||id.test(t)||ri.test(t),parse:t=>gs.test(t)?gs.parse(t):ri.test(t)?ri.parse(t):id.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?gs.transform(t):ri.transform(t)},Y_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Q_(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cf))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Y_))===null||r===void 0?void 0:r.length)||0)>0}const Ov="number",Mv="color",X_="var",Z_="var(",Zm="${}",eC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Do(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(eC,f=>(Mt.test(f)?(i.color.push(l),o.push(Mv),r.push(Mt.parse(f))):f.startsWith(Z_)?(i.var.push(l),o.push(X_),r.push(f)):(i.number.push(l),o.push(Ov),r.push(parseFloat(f))),++l,Zm)).split(Zm);return{values:r,split:d,indexes:i,types:o}}function Iv(t){return Do(t).values}function $v(t){const{split:e,types:r}=Do(t),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const d=r[u];d===Ov?l+=ko(o[u]):d===Mv?l+=Mt.transform(o[u]):l+=o[u]}return l}}const tC=t=>typeof t=="number"?0:t;function nC(t){const e=Iv(t);return $v(t)(e.map(tC))}const zr={test:Q_,parse:Iv,createTransformer:$v,getAnimatableNone:nC},rC=new Set(["brightness","contrast","saturate","opacity"]);function sC(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(cf)||[];if(!i)return t;const o=r.replace(i,"");let l=rC.has(e)?1:0;return i!==r&&(l*=100),e+"("+l+o+")"}const iC=/\b([a-z-]*)\(.*?\)/gu,od={...zr,getAnimatableNone:t=>{const e=t.match(iC);return e?e.map(sC).join(" "):t}},oC={...Gd,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:od,WebkitFilter:od},ff=t=>oC[t];function Fv(t,e){let r=ff(t);return r!==od&&(r=zr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const aC=new Set(["auto","none","0"]);function lC(t,e,r){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!aC.has(l)&&Do(l).values.length&&(o=t[i]),i++}if(o&&r)for(const l of e)t[l]=Fv(r,o)}const eg=t=>t===vi||t===Pe,tg=(t,e)=>parseFloat(t.split(", ")[e]),ng=(t,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return tg(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?tg(l[1],t):0}},uC=new Set(["x","y","z"]),cC=yi.filter(t=>!uC.has(t));function dC(t){const e=[];return cC.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const hi={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ng(4,13),y:ng(5,14)};hi.translateX=hi.x;hi.translateY=hi.y;const ys=new Set;let ad=!1,ld=!1;function Bv(){if(ld){const t=Array.from(ys).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const o=dC(i);o.length&&(r.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=r.get(i);o&&o.forEach(([l,u])=>{var d;(d=i.getValue(l))===null||d===void 0||d.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ld=!1,ad=!1,ys.forEach(t=>t.complete()),ys.clear()}function Vv(){ys.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ld=!0)})}function fC(){Vv(),Bv()}class hf{constructor(e,r,i,o,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ys.add(this),ad||(ad=!0,Xe.read(Vv),Xe.resolveKeyframes(Bv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=o==null?void 0:o.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&r){const f=i.readValue(r,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ys.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ys.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Uv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),hC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pC(t){const e=hC.exec(t);if(!e)return[,];const[,r,i,o]=e;return[`--${r??i}`,o]}function zv(t,e,r=1){const[i,o]=pC(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return Uv(u)?parseFloat(u):u}return Hd(o)?zv(o,e,r+1):o}const Wv=t=>e=>e.test(t),mC={test:t=>t==="auto",parse:t=>t},Hv=[vi,Pe,Vn,Ir,t_,e_,mC],rg=t=>Hv.find(Wv(t));class Gv extends hf{constructor(e,r,i,o,l){super(e,r,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),Hd(h))){const m=zv(h,r.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!bv.has(i)||e.length!==2)return;const[o,l]=e,u=rg(o),d=rg(l);if(u!==d)if(eg(u)&&eg(d))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let o=0;o<e.length;o++)H_(e[o])&&i.push(o);i.length&&lC(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:r,name:i,unresolvedKeyframes:o}=this;if(!r||!r.current)return;const l=r.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=hi[i](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,h])=>{r.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const sg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zr.test(t)||t==="0")&&!t.startsWith("url("));function gC(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function yC(t,e,r,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=sg(o,e),d=sg(l,e);return!u||!d?!1:gC(t)||(r==="spring"||tf(r))&&i}const vC=t=>t!==null;function Il(t,{repeat:e,repeatType:r="loop"},i){const o=t.filter(vC),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const wC=40;class Kv{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Un.now(),this.options={autoplay:e,delay:r,type:i,repeat:o,repeatDelay:l,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>wC?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&fC(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Un.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:u,onComplete:d,onUpdate:f,isGenerator:h}=this.options;if(!h&&!yC(e,i,o,l))if(u)this.options.duration=0;else{f&&f(Il(e,this.options,r)),d&&d(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,r);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...m},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const lt=(t,e,r)=>t+(e-t)*r;function Oc(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function xC({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,f=2*r-d;o=Oc(f,d,t+1/3),l=Oc(f,d,t),u=Oc(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function _l(t,e){return r=>r>0?e:t}const Mc=(t,e,r)=>{const i=t*t,o=r*(e*e-i)+i;return o<0?0:Math.sqrt(o)},SC=[id,gs,ri],bC=t=>SC.find(e=>e.test(t));function ig(t){const e=bC(t);if(!e)return!1;let r=e.parse(t);return e===ri&&(r=xC(r)),r}const og=(t,e)=>{const r=ig(t),i=ig(e);if(!r||!i)return _l(t,e);const o={...r};return l=>(o.red=Mc(r.red,i.red,l),o.green=Mc(r.green,i.green,l),o.blue=Mc(r.blue,i.blue,l),o.alpha=lt(r.alpha,i.alpha,l),gs.transform(o))},kC=(t,e)=>r=>e(t(r)),zo=(...t)=>t.reduce(kC),ud=new Set(["none","hidden"]);function _C(t,e){return ud.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function CC(t,e){return r=>lt(t,e,r)}function pf(t){return typeof t=="number"?CC:typeof t=="string"?Hd(t)?_l:Mt.test(t)?og:TC:Array.isArray(t)?qv:typeof t=="object"?Mt.test(t)?og:EC:_l}function qv(t,e){const r=[...t],i=r.length,o=t.map((l,u)=>pf(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)r[u]=o[u](l);return r}}function EC(t,e){const r={...t,...e},i={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(i[o]=pf(t[o])(t[o],e[o]));return o=>{for(const l in i)r[l]=i[l](o);return r}}function PC(t,e){var r;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],d=t.indexes[u][o[u]],f=(r=t.values[d])!==null&&r!==void 0?r:0;i[l]=f,o[u]++}return i}const TC=(t,e)=>{const r=zr.createTransformer(e),i=Do(t),o=Do(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?ud.has(t)&&!o.values.length||ud.has(e)&&!i.values.length?_C(t,e):zo(qv(PC(i,o),o.values),r):_l(t,e)};function Jv(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?lt(t,e,r):pf(t)(t,e)}const jC=5;function Yv(t,e,r){const i=Math.max(e-jC,0);return kv(r-t(i),e-i)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ag=.001;function RC({duration:t=ft.duration,bounce:e=ft.bounce,velocity:r=ft.velocity,mass:i=ft.mass}){let o,l,u=1-e;u=ar(ft.minDamping,ft.maxDamping,u),t=ar(ft.minDuration,ft.maxDuration,ir(t)),u<1?(o=h=>{const m=h*u,v=m*t,w=m-r,x=cd(h,u),k=Math.exp(-v);return ag-w/x*k},l=h=>{const v=h*u*t,w=v*r+r,x=Math.pow(u,2)*Math.pow(h,2)*t,k=Math.exp(-v),C=cd(Math.pow(h,2),u);return(-o(h)+ag>0?-1:1)*((w-x)*k)/C}):(o=h=>{const m=Math.exp(-h*t),v=(h-r)*t+1;return-.001+m*v},l=h=>{const m=Math.exp(-h*t),v=(r-h)*(t*t);return m*v});const d=5/t,f=AC(o,l,d);if(t=sr(t),isNaN(f))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const h=Math.pow(f,2)*i;return{stiffness:h,damping:u*2*Math.sqrt(i*h),duration:t}}}const NC=12;function AC(t,e,r){let i=r;for(let o=1;o<NC;o++)i=i-t(i)/e(i);return i}function cd(t,e){return t*Math.sqrt(1-e*e)}const LC=["duration","bounce"],DC=["stiffness","damping","mass"];function lg(t,e){return e.some(r=>t[r]!==void 0)}function OC(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!lg(t,DC)&&lg(t,LC))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),o=i*i,l=2*ar(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ft.mass,stiffness:o,damping:l}}else{const r=RC(t);e={...e,...r,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function Qv(t=ft.visualDuration,e=ft.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=r;const l=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:h,mass:m,duration:v,velocity:w,isResolvedFromDuration:x}=OC({...r,velocity:-ir(r.velocity||0)}),k=w||0,C=h/(2*Math.sqrt(f*m)),j=u-l,E=ir(Math.sqrt(f/m)),$=Math.abs(j)<5;i||(i=$?ft.restSpeed.granular:ft.restSpeed.default),o||(o=$?ft.restDelta.granular:ft.restDelta.default);let D;if(C<1){const _=cd(E,C);D=z=>{const Q=Math.exp(-C*E*z);return u-Q*((k+C*E*j)/_*Math.sin(_*z)+j*Math.cos(_*z))}}else if(C===1)D=_=>u-Math.exp(-E*_)*(j+(k+E*j)*_);else{const _=E*Math.sqrt(C*C-1);D=z=>{const Q=Math.exp(-C*E*z),K=Math.min(_*z,300);return u-Q*((k+C*E*j)*Math.sinh(K)+_*j*Math.cosh(K))/_}}const U={calculatedDuration:x&&v||null,next:_=>{const z=D(_);if(x)d.done=_>=v;else{let Q=0;C<1&&(Q=_===0?sr(k):Yv(D,_,z));const K=Math.abs(Q)<=i,ne=Math.abs(u-z)<=o;d.done=K&&ne}return d.value=d.done?u:z,d},toString:()=>{const _=Math.min(mv(U),nd),z=gv(Q=>U.next(_*Q).value,_,30);return _+"ms "+z}};return U}function ug({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:h=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},x=K=>d!==void 0&&K<d||f!==void 0&&K>f,k=K=>d===void 0?f:f===void 0||Math.abs(d-K)<Math.abs(f-K)?d:f;let C=r*e;const j=v+C,E=u===void 0?j:u(j);E!==j&&(C=E-v);const $=K=>-C*Math.exp(-K/i),D=K=>E+$(K),U=K=>{const ne=$(K),ce=D(K);w.done=Math.abs(ne)<=h,w.value=w.done?E:ce};let _,z;const Q=K=>{x(w.value)&&(_=K,z=Qv({keyframes:[w.value,k(w.value)],velocity:Yv(D,K,w.value),damping:o,stiffness:l,restDelta:h,restSpeed:m}))};return Q(0),{calculatedDuration:null,next:K=>{let ne=!1;return!z&&_===void 0&&(ne=!0,U(K),Q(K)),_!==void 0&&K>=_?z.next(K-_):(!ne&&U(K),w)}}}const MC=Uo(.42,0,1,1),IC=Uo(0,0,.58,1),Xv=Uo(.42,0,.58,1),$C=t=>Array.isArray(t)&&typeof t[0]!="number",cg={linear:cn,easeIn:MC,easeInOut:Xv,easeOut:IC,circIn:uf,circInOut:Av,circOut:Nv,backIn:lf,backInOut:jv,backOut:Tv,anticipate:Rv},dg=t=>{if(nf(t)){ed(t.length===4);const[e,r,i,o]=t;return Uo(e,r,i,o)}else if(typeof t=="string")return ed(cg[t]!==void 0),cg[t];return t};function FC(t,e,r){const i=[],o=r||Jv,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||cn:e;d=zo(f,d)}i.push(d)}return i}function BC(t,e,{clamp:r=!0,ease:i,mixer:o}={}){const l=t.length;if(ed(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=FC(e,i,o),f=d.length,h=m=>{if(u&&m<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=di(t[v],t[v+1],m);return d[v](w)};return r?m=>h(ar(t[0],t[l-1],m)):h}function VC(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const o=di(0,e,i);t.push(lt(r,1,o))}}function UC(t){const e=[0];return VC(e,t.length-1),e}function zC(t,e){return t.map(r=>r*e)}function WC(t,e){return t.map(()=>e||Xv).splice(0,t.length-1)}function Cl({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const o=$C(i)?i.map(dg):dg(i),l={done:!1,value:e[0]},u=zC(r&&r.length===e.length?r:UC(e),t),d=BC(u,e,{ease:Array.isArray(o)?o:WC(e,o)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const HC=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Xe.update(e,!0),stop:()=>Ur(e),now:()=>Nt.isProcessing?Nt.timestamp:Un.now()}},GC={decay:ug,inertia:ug,tween:Cl,keyframes:Cl,spring:Qv},KC=t=>t/100;class mf extends Kv{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:r,motionValue:i,element:o,keyframes:l}=this.options,u=(o==null?void 0:o.KeyframeResolver)||hf,d=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new u(l,d,r,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=this.options,d=tf(r)?r:GC[r]||Cl;let f,h;d!==Cl&&typeof e[0]!="number"&&(f=zo(KC,Jv(e[0],e[1])),e=[0,100]);const m=d({...this.options,keyframes:e});l==="mirror"&&(h=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=mv(m));const{calculatedDuration:v}=m,w=v+o,x=w*(i+1)-o;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:w,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:i}=this;if(!i){const{keyframes:K}=this.options;return{done:!0,value:K[K.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:h,totalDuration:m,resolvedDuration:v}=i;if(this.startTime===null)return l.next(0);const{delay:w,repeat:x,repeatType:k,repeatDelay:C,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-w*(this.speed>=0?1:-1),$=this.speed>=0?E<0:E>m;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let D=this.currentTime,U=l;if(x){const K=Math.min(this.currentTime,m)/v;let ne=Math.floor(K),ce=K%1;!ce&&K>=1&&(ce=1),ce===1&&ne--,ne=Math.min(ne,x+1),!!(ne%2)&&(k==="reverse"?(ce=1-ce,C&&(ce-=C/v)):k==="mirror"&&(U=u)),D=ar(0,1,ce)*v}const _=$?{done:!1,value:f[0]}:U.next(D);d&&(_.value=d(_.value));let{done:z}=_;!$&&h!==null&&(z=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return Q&&o!==void 0&&(_.value=Il(f,this.options,o)),j&&j(_.value),Q&&this.finish(),_}get duration(){const{resolved:e}=this;return e?ir(e.calculatedDuration):0}get time(){return ir(this.currentTime)}set time(e){e=sr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=HC,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),r&&r();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const qC=new Set(["opacity","clipPath","filter","transform"]);function JC(t,e,r,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const h={[e]:r};f&&(h.offset=f);const m=vv(d,o);return Array.isArray(m)&&(h.easing=m),t.animate(h,{delay:i,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const YC=Fd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),El=10,QC=2e4;function XC(t){return tf(t.type)||t.type==="spring"||!yv(t.ease)}function ZC(t,e){const r=new mf({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const o=[];let l=0;for(;!i.done&&l<QC;)i=r.sample(l),o.push(i.value),l+=El;return{times:void 0,keyframes:o,duration:l-El,ease:"linear"}}const Zv={anticipate:Rv,backInOut:jv,circInOut:Av};function eE(t){return t in Zv}class fg extends Kv{constructor(e){super(e);const{name:r,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new Gv(l,(u,d)=>this.onKeyframesResolved(u,d),r,i,o),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:i=300,times:o,ease:l,type:u,motionValue:d,name:f,startTime:h}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&kl()&&eE(l)&&(l=Zv[l]),XC(this.options)){const{onComplete:v,onUpdate:w,motionValue:x,element:k,...C}=this.options,j=ZC(e,C);e=j.keyframes,e.length===1&&(e[1]=e[0]),i=j.duration,o=j.times,l=j.ease,u="keyframes"}const m=JC(d.owner.current,f,e,{...this.options,duration:i,times:o,ease:l});return m.startTime=h??this.calcStartTime(),this.pendingTimeline?(qm(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:v}=this.options;d.set(Il(e,this.options,r)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:o,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return ir(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return ir(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=sr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return cn;const{animation:i}=r;qm(i,e)}return cn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:i,duration:o,type:l,ease:u,times:d}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:v,element:w,...x}=this.options,k=new mf({...x,keyframes:i,duration:o,type:l,ease:u,times:d,isGenerator:!0}),C=sr(this.time);h.setWithVelocity(k.sample(C-El).value,k.sample(C).value,El)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:i,repeatDelay:o,repeatType:l,damping:u,type:d}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=r.owner.getProps();return YC()&&i&&qC.has(i)&&!f&&!h&&!o&&l!=="mirror"&&u!==0&&d!=="inertia"}}const tE={type:"spring",stiffness:500,damping:25,restSpeed:10},nE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rE={type:"keyframes",duration:.8},sE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iE=(t,{keyframes:e})=>e.length>2?rE:ks.has(t)?t.startsWith("scale")?nE(e[1]):tE:sE;function oE({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:h,...m}){return!!Object.keys(m).length}const gf=(t,e,r,i={},o,l)=>u=>{const d=ef(i,t)||{},f=d.delay||i.delay||0;let{elapsed:h=0}=i;h=h-sr(f);let m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};oE(d)||(m={...m,...iE(t,m)}),m.duration&&(m.duration=sr(m.duration)),m.repeatDelay&&(m.repeatDelay=sr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),v&&!l&&e.get()!==void 0){const w=Il(m.keyframes,d);if(w!==void 0)return Xe.update(()=>{m.onUpdate(w),m.onComplete()}),new E_([])}return!l&&fg.supports(m)?new fg(m):new mf(m)};function aE({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function e0(t,e,{delay:r=0,transitionOverride:i,type:o}={}){var l;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;i&&(u=i);const h=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const v in f){const w=t.getValue(v,(l=t.latestValues[v])!==null&&l!==void 0?l:null),x=f[v];if(x===void 0||m&&aE(m,v))continue;const k={delay:r,...ef(u||{},v)};let C=!1;if(window.MotionHandoffAnimation){const E=_v(t);if(E){const $=window.MotionHandoffAnimation(E,v,Xe);$!==null&&(k.startTime=$,C=!0)}}sd(t,v),w.start(gf(v,w,x,t.shouldReduceMotion&&bv.has(v)?{type:!1}:k,t,C));const j=w.animation;j&&h.push(j)}return d&&Promise.all(h).then(()=>{Xe.update(()=>{d&&B_(t,d)})}),h}function dd(t,e,r={}){var i;const o=Ml(t,e,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(l=r.transitionOverride);const u=o?()=>Promise.all(e0(t,o,r)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:w}=l;return lE(t,e,m+h,v,w,r)}:()=>Promise.resolve(),{when:f}=l;if(f){const[h,m]=f==="beforeChildren"?[u,d]:[d,u];return h().then(()=>m())}else return Promise.all([u(),d(r.delay)])}function lE(t,e,r=0,i=0,o=1,l){const u=[],d=(t.variantChildren.size-1)*i,f=o===1?(h=0)=>h*i:(h=0)=>d-h*i;return Array.from(t.variantChildren).sort(uE).forEach((h,m)=>{h.notify("AnimationStart",e),u.push(dd(h,e,{...l,delay:r+f(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(u)}function uE(t,e){return t.sortNodePosition(e)}function cE(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>dd(t,l,r));i=Promise.all(o)}else if(typeof e=="string")i=dd(t,e,r);else{const o=typeof e=="function"?Ml(t,e,r.custom):e;i=Promise.all(e0(t,o,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}function t0(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}const dE=Vd.length;function n0(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?n0(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<dE;r++){const i=Vd[r],o=t.props[i];(Ro(o)||o===!1)&&(e[i]=o)}return e}const fE=[...Bd].reverse(),hE=Bd.length;function pE(t){return e=>Promise.all(e.map(({animation:r,options:i})=>cE(t,r,i)))}function mE(t){let e=pE(t),r=hg(),i=!0;const o=f=>(h,m)=>{var v;const w=Ml(t,m,f==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(w){const{transition:x,transitionEnd:k,...C}=w;h={...h,...C,...k}}return h};function l(f){e=f(t)}function u(f){const{props:h}=t,m=n0(t.parent)||{},v=[],w=new Set;let x={},k=1/0;for(let j=0;j<hE;j++){const E=fE[j],$=r[E],D=h[E]!==void 0?h[E]:m[E],U=Ro(D),_=E===f?$.isActive:null;_===!1&&(k=j);let z=D===m[E]&&D!==h[E]&&U;if(z&&i&&t.manuallyAnimateOnMount&&(z=!1),$.protectedKeys={...x},!$.isActive&&_===null||!D&&!$.prevProp||Dl(D)||typeof D=="boolean")continue;const Q=gE($.prevProp,D);let K=Q||E===f&&$.isActive&&!z&&U||j>k&&U,ne=!1;const ce=Array.isArray(D)?D:[D];let ve=ce.reduce(o(E),{});_===!1&&(ve={});const{prevResolvedValues:Ee={}}=$,Oe={...Ee,...ve},be=we=>{K=!0,w.has(we)&&(ne=!0,w.delete(we)),$.needsAnimating[we]=!0;const O=t.getValue(we);O&&(O.liveStyle=!1)};for(const we in Oe){const O=ve[we],M=Ee[we];if(x.hasOwnProperty(we))continue;let B=!1;td(O)&&td(M)?B=!t0(O,M):B=O!==M,B?O!=null?be(we):w.add(we):O!==void 0&&w.has(we)?be(we):$.protectedKeys[we]=!0}$.prevProp=D,$.prevResolvedValues=ve,$.isActive&&(x={...x,...ve}),i&&t.blockInitialAnimation&&(K=!1),K&&(!(z&&Q)||ne)&&v.push(...ce.map(we=>({animation:we,options:{type:E}})))}if(w.size){const j={};w.forEach(E=>{const $=t.getBaseTarget(E),D=t.getValue(E);D&&(D.liveStyle=!0),j[E]=$??null}),v.push({animation:j})}let C=!!v.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function d(f,h){var m;if(r[f].isActive===h)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(w=>{var x;return(x=w.animationState)===null||x===void 0?void 0:x.setActive(f,h)}),r[f].isActive=h;const v=u(f);for(const w in r)r[w].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=hg(),i=!0}}}function gE(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!t0(e,t):!1}function us(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hg(){return{animate:us(!0),whileInView:us(),whileHover:us(),whileTap:us(),whileDrag:us(),whileFocus:us(),exit:us()}}class Wr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yE extends Wr{constructor(e){super(e),e.animationState||(e.animationState=mE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let vE=0;class wE extends Wr{constructor(){super(...arguments),this.id=vE++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const xE={animation:{Feature:yE},exit:{Feature:wE}};function Oo(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function Wo(t){return{point:{x:t.pageX,y:t.pageY}}}const SE=t=>e=>rf(e)&&t(e,Wo(e));function _o(t,e,r,i){return Oo(t,e,SE(r),i)}const pg=(t,e)=>Math.abs(t-e);function bE(t,e){const r=pg(t.x,e.x),i=pg(t.y,e.y);return Math.sqrt(r**2+i**2)}class r0{constructor(e,r,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$c(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=bE(v.offset,{x:0,y:0})>=3;if(!w&&!x)return;const{point:k}=v,{timestamp:C}=Nt;this.history.push({...k,timestamp:C});const{onStart:j,onMove:E}=this.handlers;w||(j&&j(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ic(w,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:x,onSessionEnd:k,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=$c(v.type==="pointercancel"?this.lastMoveEventInfo:Ic(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,j),k&&k(v,j)},!rf(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.contextWindow=o||window;const u=Wo(e),d=Ic(u,this.transformPagePoint),{point:f}=d,{timestamp:h}=Nt;this.history=[{...f,timestamp:h}];const{onSessionStart:m}=r;m&&m(e,$c(d,this.history)),this.removeListeners=zo(_o(this.contextWindow,"pointermove",this.handlePointerMove),_o(this.contextWindow,"pointerup",this.handlePointerUp),_o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ur(this.updatePoint)}}function Ic(t,e){return e?{point:e(t.point)}:t}function mg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $c({point:t},e){return{point:t,delta:mg(t,s0(e)),offset:mg(t,kE(e)),velocity:_E(e,.1)}}function kE(t){return t[0]}function s0(t){return t[t.length-1]}function _E(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const o=s0(t);for(;r>=0&&(i=t[r],!(o.timestamp-i.timestamp>sr(e)));)r--;if(!i)return{x:0,y:0};const l=ir(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const i0=1e-4,CE=1-i0,EE=1+i0,o0=.01,PE=0-o0,TE=0+o0;function Vt(t){return t.max-t.min}function jE(t,e,r){return Math.abs(t-e)<=r}function gg(t,e,r,i=.5){t.origin=i,t.originPoint=lt(e.min,e.max,t.origin),t.scale=Vt(r)/Vt(e),t.translate=lt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=CE&&t.scale<=EE||isNaN(t.scale))&&(t.scale=1),(t.translate>=PE&&t.translate<=TE||isNaN(t.translate))&&(t.translate=0)}function Co(t,e,r,i){gg(t.x,e.x,r.x,i?i.originX:void 0),gg(t.y,e.y,r.y,i?i.originY:void 0)}function yg(t,e,r){t.min=r.min+e.min,t.max=t.min+Vt(e)}function RE(t,e,r){yg(t.x,e.x,r.x),yg(t.y,e.y,r.y)}function vg(t,e,r){t.min=e.min-r.min,t.max=t.min+Vt(e)}function Eo(t,e,r){vg(t.x,e.x,r.x),vg(t.y,e.y,r.y)}function NE(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?lt(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?lt(r,t,i.max):Math.min(t,r)),t}function wg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function AE(t,{top:e,left:r,bottom:i,right:o}){return{x:wg(t.x,r,o),y:wg(t.y,e,i)}}function xg(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function LE(t,e){return{x:xg(t.x,e.x),y:xg(t.y,e.y)}}function DE(t,e){let r=.5;const i=Vt(t),o=Vt(e);return o>i?r=di(e.min,e.max-i,t.min):i>o&&(r=di(t.min,t.max-o,e.min)),ar(0,1,r)}function OE(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const fd=.35;function ME(t=fd){return t===!1?t=0:t===!0&&(t=fd),{x:Sg(t,"left","right"),y:Sg(t,"top","bottom")}}function Sg(t,e,r){return{min:bg(t,e),max:bg(t,r)}}function bg(t,e){return typeof t=="number"?t:t[e]||0}const kg=()=>({translate:0,scale:1,origin:0,originPoint:0}),si=()=>({x:kg(),y:kg()}),_g=()=>({min:0,max:0}),mt=()=>({x:_g(),y:_g()});function xn(t){return[t("x"),t("y")]}function a0({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function IE({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $E(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Fc(t){return t===void 0||t===1}function hd({scale:t,scaleX:e,scaleY:r}){return!Fc(t)||!Fc(e)||!Fc(r)}function ds(t){return hd(t)||l0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function l0(t){return Cg(t.x)||Cg(t.y)}function Cg(t){return t&&t!=="0%"}function Pl(t,e,r){const i=t-r,o=e*i;return r+o}function Eg(t,e,r,i,o){return o!==void 0&&(t=Pl(t,o,i)),Pl(t,r,i)+e}function pd(t,e=0,r=1,i,o){t.min=Eg(t.min,e,r,i,o),t.max=Eg(t.max,e,r,i,o)}function u0(t,{x:e,y:r}){pd(t.x,e.translate,e.scale,e.originPoint),pd(t.y,r.translate,r.scale,r.originPoint)}const Pg=.999999999999,Tg=1.0000000000001;function FE(t,e,r,i=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=r[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&oi(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,u0(t,u)),i&&ds(l.latestValues)&&oi(t,l.latestValues))}e.x<Tg&&e.x>Pg&&(e.x=1),e.y<Tg&&e.y>Pg&&(e.y=1)}function ii(t,e){t.min=t.min+e,t.max=t.max+e}function jg(t,e,r,i,o=.5){const l=lt(t.min,t.max,o);pd(t,e,r,l,i)}function oi(t,e){jg(t.x,e.x,e.scaleX,e.scale,e.originX),jg(t.y,e.y,e.scaleY,e.scale,e.originY)}function c0(t,e){return a0($E(t.getBoundingClientRect(),e))}function BE(t,e,r){const i=c0(t,r),{scroll:o}=e;return o&&(ii(i.x,o.offset.x),ii(i.y,o.offset.y)),i}const d0=({current:t})=>t?t.ownerDocument.defaultView:null,VE=new WeakMap;class UE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Wo(m).point)},l=(m,v)=>{const{drag:w,dragPropagation:x,onDragStart:k}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O_(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(j=>{let E=this.getAxisMotionValue(j).get()||0;if(Vn.test(E)){const{projection:$}=this.visualElement;if($&&$.layout){const D=$.layout.layoutBox[j];D&&(E=Vt(D)*(parseFloat(E)/100))}}this.originPoint[j]=E}),k&&Xe.postRender(()=>k(m,v)),sd(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(m,v)=>{const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:k,onDrag:C}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=v;if(x&&this.currentDirection===null){this.currentDirection=zE(j),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,j),this.updateAxis("y",v.point,j),this.visualElement.render(),C&&C(m,v)},d=(m,v)=>this.stop(m,v),f=()=>xn(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new r0(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:d0(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Xe.postRender(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:o}=this.getProps();if(!i||!cl(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=NE(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&ni(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=AE(o.layoutBox,r):this.constraints=!1,this.elastic=ME(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&xn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=OE(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!ni(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=BE(i,o.root,this.visualElement.getTransformPagePoint());let u=LE(o.layout.layoutBox,l);if(r){const d=r(IE(u));this.hasMutatedConstraints=!!d,d&&(u=a0(d))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},h=xn(m=>{if(!cl(m,r,this.currentDirection))return;let v=f[m]||{};u&&(v={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,k={type:"inertia",velocity:i?e[m]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(m,k)});return Promise.all(h).then(d)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return sd(this.visualElement,e),i.start(gf(e,i,0,r,this.visualElement,!1))}stopAnimation(){xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[r];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xn(r=>{const{drag:i}=this.getProps();if(!cl(r,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];l.set(e[r]-lt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!ni(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=DE({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xn(u=>{if(!cl(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:h}=this.constraints[u];d.set(lt(f,h,o[u]))})}addListeners(){if(!this.visualElement.current)return;VE.set(this.visualElement,this);const e=this.visualElement.current,r=_o(e,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();ni(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Xe.read(i);const u=Oo(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(xn(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=f[m].translate,v.set(v.get()+f[m].translate))}),this.visualElement.render())});return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=fd,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function cl(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function zE(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class WE extends Wr{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new UE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rg=t=>(e,r)=>{t&&Xe.postRender(()=>t(e,r))};class HE extends Wr{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new r0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Rg(e),onStart:Rg(r),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Xe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=_o(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ng(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ho={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const r=Ng(t,e.target.x),i=Ng(t,e.target.y);return`${r}% ${i}%`}},GE={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,o=zr.parse(t);if(o.length>5)return i;const l=zr.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,f=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const h=lt(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=h),typeof o[3+u]=="number"&&(o[3+u]/=h),l(o)}};class KE extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;Z1(qE),l&&(r.group&&r.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),yl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:o,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Xe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function f0(t){const[e,r]=Jy(),i=b.useContext(Od);return y.jsx(KE,{...t,layoutGroup:i,switchLayoutGroup:b.useContext(nv),isPresent:e,safeToRemove:r})}const qE={borderRadius:{...ho,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ho,borderTopRightRadius:ho,borderBottomLeftRadius:ho,borderBottomRightRadius:ho,boxShadow:GE};function JE(t,e,r){const i=It(t)?t:Lo(t);return i.start(gf("",i,e,r)),i.animation}function YE(t){return t instanceof SVGElement&&t.tagName!=="svg"}const QE=(t,e)=>t.depth-e.depth;class XE{constructor(){this.children=[],this.isDirty=!1}add(e){sf(this.children,e),this.isDirty=!0}remove(e){of(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(QE),this.isDirty=!1,this.children.forEach(e)}}function ZE(t,e){const r=Un.now(),i=({timestamp:o})=>{const l=o-r;l>=e&&(Ur(i),t(l-e))};return Xe.read(i,!0),()=>Ur(i)}const h0=["TopLeft","TopRight","BottomLeft","BottomRight"],eP=h0.length,Ag=t=>typeof t=="string"?parseFloat(t):t,Lg=t=>typeof t=="number"||Pe.test(t);function tP(t,e,r,i,o,l){o?(t.opacity=lt(0,r.opacity!==void 0?r.opacity:1,nP(i)),t.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,rP(i))):l&&(t.opacity=lt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let u=0;u<eP;u++){const d=`border${h0[u]}Radius`;let f=Dg(e,d),h=Dg(r,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||Lg(f)===Lg(h)?(t[d]=Math.max(lt(Ag(f),Ag(h),i),0),(Vn.test(h)||Vn.test(f))&&(t[d]+="%")):t[d]=h}(e.rotate||r.rotate)&&(t.rotate=lt(e.rotate||0,r.rotate||0,i))}function Dg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nP=p0(0,.5,Nv),rP=p0(.5,.95,cn);function p0(t,e,r){return i=>i<t?0:i>e?1:r(di(t,e,i))}function Og(t,e){t.min=e.min,t.max=e.max}function wn(t,e){Og(t.x,e.x),Og(t.y,e.y)}function Mg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ig(t,e,r,i,o){return t-=e,t=Pl(t,1/r,i),o!==void 0&&(t=Pl(t,1/o,i)),t}function sP(t,e=0,r=1,i=.5,o,l=t,u=t){if(Vn.test(e)&&(e=parseFloat(e),e=lt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=lt(l.min,l.max,i);t===l&&(d-=e),t.min=Ig(t.min,e,r,d,o),t.max=Ig(t.max,e,r,d,o)}function $g(t,e,[r,i,o],l,u){sP(t,e[r],e[i],e[o],e.scale,l,u)}const iP=["x","scaleX","originX"],oP=["y","scaleY","originY"];function Fg(t,e,r,i){$g(t.x,e,iP,r?r.x:void 0,i?i.x:void 0),$g(t.y,e,oP,r?r.y:void 0,i?i.y:void 0)}function Bg(t){return t.translate===0&&t.scale===1}function m0(t){return Bg(t.x)&&Bg(t.y)}function Vg(t,e){return t.min===e.min&&t.max===e.max}function aP(t,e){return Vg(t.x,e.x)&&Vg(t.y,e.y)}function Ug(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function g0(t,e){return Ug(t.x,e.x)&&Ug(t.y,e.y)}function zg(t){return Vt(t.x)/Vt(t.y)}function Wg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lP{constructor(){this.members=[]}add(e){sf(this.members,e),e.scheduleRender()}remove(e){if(of(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let i;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uP(t,e,r){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=(r==null?void 0:r.z)||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:m,rotateX:v,rotateY:w,skewX:x,skewY:k}=r;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),x&&(i+=`skewX(${x}deg) `),k&&(i+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const fs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},xo=typeof window<"u"&&window.MotionDebug!==void 0,Bc=["","X","Y","Z"],cP={visibility:"hidden"},Hg=1e3;let dP=0;function Vc(t,e,r,i){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function y0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=_v(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Xe,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&y0(i)}function v0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=dP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xo&&(fs.totalNodes=fs.resolvedTargetDeltas=fs.recalculatedProjection=0),this.nodes.forEach(pP),this.nodes.forEach(wP),this.nodes.forEach(xP),this.nodes.forEach(mP),xo&&window.MotionDebug.record(fs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new XE)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new af),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YE(u),this.instance=u;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(h||f)&&(this.isLayoutDirty=!0),t){let v;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=ZE(w,250),yl.hasAnimatedSinceResize&&(yl.hasAnimatedSinceResize=!1,this.nodes.forEach(Kg))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeLayoutChanged:x,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||CP,{onLayoutAnimationStart:j,onLayoutAnimationComplete:E}=m.getProps(),$=!this.targetLayout||!g0(this.targetLayout,k),D=!w&&x;if(this.options.layoutRoot||this.resumeFrom||D||w&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,D);const U={...ef(C,"layout"),onPlay:j,onComplete:E};(m.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else w||Kg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gg);return}this.isUpdating||this.nodes.forEach(yP),this.isUpdating=!1,this.nodes.forEach(vP),this.nodes.forEach(fP),this.nodes.forEach(hP),this.clearAllSnapshots();const d=Un.now();Nt.delta=ar(0,1e3/60,d-Nt.timestamp),Nt.timestamp=d,Nt.isProcessing=!0,Ac.update.process(Nt),Ac.preRender.process(Nt),Ac.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gP),this.sharedNodes.forEach(bP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vt(this.snapshot.measuredBox.x)&&!Vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!m0(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;u&&(d||ds(this.latestValues)||m)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),EP(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return mt();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(PP))){const{scroll:m}=this.root;m&&(ii(f.x,m.offset.x),ii(f.y,m.offset.y))}return f}removeElementScroll(u){var d;const f=mt();if(wn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:v,options:w}=m;m!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&wn(f,u),ii(f.x,v.offset.x),ii(f.y,v.offset.y))}return f}applyTransform(u,d=!1){const f=mt();wn(f,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&oi(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ds(m.latestValues)&&oi(f,m.latestValues)}return ds(this.latestValues)&&oi(f,this.latestValues),f}removeTransform(u){const d=mt();wn(d,u);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!ds(h.latestValues))continue;hd(h.latestValues)&&h.updateSnapshot();const m=mt(),v=h.measurePageBox();wn(m,v),Fg(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ds(this.latestValues)&&Fg(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:w}=this.options;if(!(!this.layout||!(v||w))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Eo(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),u0(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Eo(this.relativeTargetOrigin,this.target,x.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xo&&fs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hd(this.parent.latestValues)||l0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;wn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,x=this.treeScale.y;FE(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=mt());const{target:k}=d;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mg(this.prevProjectionDelta.x,this.projectionDelta.x),Mg(this.prevProjectionDelta.y,this.projectionDelta.y)),Co(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==x||!Wg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Wg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),xo&&fs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=si(),this.projectionDelta=si(),this.projectionDeltaWithTransform=si()}setAnimationOrigin(u,d=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},v=si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=mt(),x=f?f.source:void 0,k=this.layout?this.layout.source:void 0,C=x!==k,j=this.getStack(),E=!j||j.members.length<=1,$=!!(C&&!E&&this.options.crossfade===!0&&!this.path.some(_P));this.animationProgress=0;let D;this.mixTargetDelta=U=>{const _=U/1e3;qg(v.x,u.x,_),qg(v.y,u.y,_),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eo(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kP(this.relativeTarget,this.relativeTargetOrigin,w,_),D&&aP(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=mt()),wn(D,this.relativeTarget)),C&&(this.animationValues=m,tP(m,h,this.latestValues,_,$,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{yl.hasAnimatedSinceResize=!0,this.currentAnimation=JE(0,Hg,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:h,latestValues:m}=u;if(!(!d||!f||!h)){if(this!==u&&this.layout&&h&&w0(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||mt();const v=Vt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const w=Vt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}wn(d,f),oi(d,m),Co(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new lP),this.sharedNodes.get(u).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const h={};f.z&&Vc("z",u,h,this.animationValues);for(let m=0;m<Bc.length;m++)Vc(`rotate${Bc[m]}`,u,h,this.animationValues),Vc(`skew${Bc[m]}`,u,h,this.animationValues);u.render();for(const m in h)u.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cP;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=ml(u==null?void 0:u.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=ml(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const w=v.animationValues||v.latestValues;this.applyTransformsToTarget(),h.transform=uP(this.projectionDeltaWithTransform,this.treeScale,w),m&&(h.transform=m(w,h.transform));const{x,y:k}=this.projectionDelta;h.transformOrigin=`${x.origin*100}% ${k.origin*100}% 0`,v.animationValues?h.opacity=v===this?(f=(d=w.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:h.opacity=v===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const C in No){if(w[C]===void 0)continue;const{correct:j,applyTo:E,isCSSVariable:$}=No[C],D=h.transform==="none"?w[C]:j(w[C],v);if(E){const U=E.length;for(let _=0;_<U;_++)h[E[_]]=D}else $?this.options.visualElement.renderState.vars[C]=D:h[C]=D}return this.options.layoutId&&(h.pointerEvents=v===this?ml(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Gg),this.root.sharedNodes.clear()}}}function fP(t){t.updateLayout()}function hP(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:l}=t.options,u=r.source!==t.layout.source;l==="size"?xn(v=>{const w=u?r.measuredBox[v]:r.layoutBox[v],x=Vt(w);w.min=i[v].min,w.max=w.min+x}):w0(l,r.layoutBox,i)&&xn(v=>{const w=u?r.measuredBox[v]:r.layoutBox[v],x=Vt(i[v]);w.max=w.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const d=si();Co(d,i,r.layoutBox);const f=si();u?Co(f,t.applyTransform(o,!0),r.measuredBox):Co(f,i,r.layoutBox);const h=!m0(d);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:x}=v;if(w&&x){const k=mt();Eo(k,r.layoutBox,w.layoutBox);const C=mt();Eo(C,i,x.layoutBox),g0(k,C)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=k,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:f,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function pP(t){xo&&fs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gP(t){t.clearSnapshot()}function Gg(t){t.clearMeasurements()}function yP(t){t.isLayoutDirty=!1}function vP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wP(t){t.resolveTargetDelta()}function xP(t){t.calcProjection()}function SP(t){t.resetSkewAndRotation()}function bP(t){t.removeLeadSnapshot()}function qg(t,e,r){t.translate=lt(e.translate,0,r),t.scale=lt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Jg(t,e,r,i){t.min=lt(e.min,r.min,i),t.max=lt(e.max,r.max,i)}function kP(t,e,r,i){Jg(t.x,e.x,r.x,i),Jg(t.y,e.y,r.y,i)}function _P(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CP={duration:.45,ease:[.4,0,.1,1]},Yg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qg=Yg("applewebkit/")&&!Yg("chrome/")?Math.round:cn;function Xg(t){t.min=Qg(t.min),t.max=Qg(t.max)}function EP(t){Xg(t.x),Xg(t.y)}function w0(t,e,r){return t==="position"||t==="preserve-aspect"&&!jE(zg(e),zg(r),.2)}function PP(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const TP=v0({attachResizeListener:(t,e)=>Oo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uc={current:void 0},x0=v0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uc.current){const t=new TP({});t.mount(window),t.setOptions({layoutScroll:!0}),Uc.current=t}return Uc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jP={pan:{Feature:HE},drag:{Feature:WE,ProjectionNode:x0,MeasureLayout:f0}};function Zg(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=i[o];l&&Xe.postRender(()=>l(e,Wo(e)))}class RP extends Wr{mount(){const{current:e}=this.node;e&&(this.unmount=R_(e,(r,i)=>(Zg(this.node,i,"Start"),o=>Zg(this.node,o,"End"))))}unmount(){}}class NP extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zo(Oo(this.node.current,"focus",()=>this.onFocus()),Oo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ey(t,e,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=i[o];l&&Xe.postRender(()=>l(e,Wo(e)))}class AP extends Wr{mount(){const{current:e}=this.node;e&&(this.unmount=D_(e,(r,i)=>(ey(this.node,i,"Start"),(o,{success:l})=>ey(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const md=new WeakMap,zc=new WeakMap,LP=t=>{const e=md.get(t.target);e&&e(t)},DP=t=>{t.forEach(LP)};function OP({root:t,...e}){const r=t||document;zc.has(r)||zc.set(r,{});const i=zc.get(r),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(DP,{root:t,...e})),i[o]}function MP(t,e,r){const i=OP(e);return md.set(t,r),i.observe(t),()=>{md.delete(t),i.unobserve(t)}}const IP={some:0,all:1};class $P extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:IP[o]},d=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=h?m:v;w&&w(f)};return MP(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(FP(e,r))&&this.startObserver()}unmount(){}}function FP({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const BP={inView:{Feature:$P},tap:{Feature:AP},focus:{Feature:NP},hover:{Feature:RP}},VP={layout:{ProjectionNode:x0,MeasureLayout:f0}},gd={current:null},S0={current:!1};function UP(){if(S0.current=!0,!!$d)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gd.current=t.matches;t.addListener(e),e()}else gd.current=!1}const zP=[...Hv,Mt,zr],WP=t=>zP.find(Wv(t)),HP=new WeakMap;function GP(t,e,r){for(const i in e){const o=e[i],l=r[i];if(It(o))t.addValue(i,o);else if(It(l))t.addValue(i,Lo(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Lo(u!==void 0?u:o,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const ty=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KP{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Un.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Xe.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:m}=u;this.onUpdate=m,this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Ol(r),this.isVariantNode=ev(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in w){const k=w[x];f[x]!==void 0&&It(k)&&k.set(f[x],!1)}}mount(e){this.current=e,HP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),S0.current||UP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ur(this.notifyUpdate),Ur(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ks.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fi){const r=fi[e];if(!r)continue;const{isEnabled:i,Feature:o}=r;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<ty.length;i++){const o=ty[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=GP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Lo(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Uv(o)||Lv(o))?o=parseFloat(o):!WP(o)&&zr.test(r)&&(o=Fv(e,r)),this.setBaseTarget(e,It(o)?o.get():o)),It(o)?o.get():o}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=Xd(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);u&&(o=u[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!It(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new af),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class b0 extends KP{constructor(){super(...arguments),this.KeyframeResolver=Gv}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;It(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function qP(t){return window.getComputedStyle(t)}class JP extends b0{constructor(){super(...arguments),this.type="html",this.renderInstance=dv}readValueFromInstance(e,r){if(ks.has(r)){const i=ff(r);return i&&i.default||0}else{const i=qP(e),o=(Wd(r)?i.getPropertyValue(r):i[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return c0(e,r)}build(e,r,i){Kd(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return Zd(e,r,i)}}class YP extends b0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&cv(this.current,this.renderState)}}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ks.has(r)){const i=ff(r);return i&&i.default||0}return r=fv.has(r)?r:Ud(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return pv(e,r,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Xe.postRender(this.updateDimensions)}build(e,r,i){Yd(e,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,i,o){hv(e,r,i,o)}mount(e){this.isSVGTag=Qd(e.tagName),super.mount(e)}}const QP=(t,e)=>Jd(t)?new YP(e):new JP(e,{allowProjection:t!==b.Fragment}),XP=k_({...xE,...BP,...jP,...VP},QP),at=F1(XP),ZP=({isOpen:t,text:e,buttons:r,closeAlert:i})=>y.jsx(or,{children:t&&y.jsx(at.div,{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:y.jsxs(at.div,{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[y.jsx("p",{className:"text-lg mb-6 text-gray-800",children:e}),y.jsx("div",{className:"flex justify-end space-x-3",children:r.map((o,l)=>y.jsx("button",{className:`px-5 py-2 rounded-md focus:outline-none transition ${o.styleClass||"bg-blue-600 text-white hover:bg-blue-700"}`,onClick:()=>{o.onClick(),i()},children:o.label},l))})]})})}),k0=b.createContext(void 0),$l=()=>{const t=b.useContext(k0);if(!t)throw new Error("useAlert must be used within an AlertProvider");return t},eT=({children:t})=>{const[e,r]=b.useState(!1),[i,o]=b.useState(""),[l,u]=b.useState([]),[d,f]=b.useState(),h=(w,x)=>(o(w),u(x),r(!0),new Promise(k=>{f(()=>k)})),m=()=>{r(!1),o(""),u([])},v=w=>{d&&d(w),m()};return y.jsxs(k0.Provider,{value:{showAlert:h,closeAlert:m},children:[t,y.jsx(ZP,{isOpen:e,text:i,buttons:l.map(w=>({label:w.label,styleClass:w.styleClass,onClick:()=>v(w.actionValue)})),closeAlert:m})]})},ws=({name:t,size:e="8",color:r="bg-blue-500",textColor:i="text-white"})=>{const o=`${parseInt(e)*4}px`;return y.jsx("div",{className:`rounded-full ${r} ${i} flex justify-center items-center font-bold border border-black border-opacity-10`,style:{width:o,height:o,fontSize:`${parseInt(e)*2}px`,lineHeight:o},children:t==null?void 0:t.charAt(0).toUpperCase()})},tT=()=>{const[t,e]=b.useState(""),[r,i]=b.useState([]),[o,l]=b.useState(!1),u=ur(),d=async h=>{const m=h.target.value;if(e(m),m.trim()===""){i([]),l(!1);return}const{data:v,error:w}=await Zt.from("profiles").select(`
            username,
            displayname,
            user_profiles (color, text_color)
            `).ilike("username",`%${m}%`).limit(5);if(w)console.error("Error fetching matching users:",w.message);else if(v){console.log(v);const x=v.map(k=>{var C,j;return{username:k.username,displayname:k.displayname,color:(C=k.user_profiles)==null?void 0:C.color,text_color:(j=k.user_profiles)==null?void 0:j.text_color}});i(x),l(!0)}},f=h=>{l(!1),u(`profile/${h}`)};return y.jsxs("div",{className:"relative w-full",children:[y.jsx("label",{className:"block text-2xl font-semibold text-gray-700 mb-2",htmlFor:"player-search",children:"Search for a Player"}),y.jsx("input",{type:"text",id:"player-search",value:t,onChange:d,placeholder:"Start typing a username...",className:"w-full p-3 border border-gray-300 text-black rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),o&&r.length>0&&y.jsx("ul",{className:"absolute w-full mt-2 bg-white border border-gray-300 rounded shadow-lg z-10",children:r.map((h,m)=>y.jsxs("li",{className:"p-3 hover:bg-blue-100 cursor-pointer text-black flex items-center space-x-3",style:{minHeight:"3rem"},onClick:()=>f(h.username),children:[y.jsx(ws,{size:"8",name:h.username,color:h.color,textColor:h.text_color}),y.jsx("span",{className:"whitespace-nowrap",children:h.displayname})]},m))})]})};function nT(){const[t,e]=b.useState(""),[r,i]=b.useState({category:"Connecting to server...",description:""}),{showAlert:o}=$l(),{user:l}=mi(),{profile:u,loading:d,refetchProfile:f}=gi(),{socket:h,isSocketReady:m}=Bo(),v=ur(),w=["Hallucinated","Intelligent","Dreamt","Generated","Conjured","Created"],x=b.useMemo(()=>w[Math.floor(Math.random()*w.length)],[]);b.useEffect(()=>{h&&m&&u&&(h.onmessage=$=>{const D=JSON.parse($.data);if(console.log(D),D.type==="category-of-the-day"&&i(D.cotd),D.type==="lobby-created"&&(console.log("received 'lobby-created' message"),v(`/lobby/${D.gameId}`,{state:{playerName:u.displayname,isHost:!0,players:D.players,categories:D.categories}}),console.log(D.gameId),h.send(JSON.stringify({type:"request-lobby-state",gameId:D.gameId}))),D.type==="check-lobby-response")if(D.isValid){const U=u?u.displayname:"";h.send(JSON.stringify({type:"join-lobby",gameId:D.gameId,playerName:U.trim()})),v(`/lobby/${D.gameId}`,{state:{playerName:U.trim(),isHost:!1}})}else o(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"Invalid lobby or game already in progress."}),y.jsx("br",{})]}),[{label:"Okay",actionValue:"okay",styleClass:"bg-green-500 text-white hover:bg-green-600"}])},h.send(JSON.stringify({type:"check-cotd"})))},[h,m,u]);const k=()=>yo.sort(()=>.5-Math.random()).slice(0,11);function C(){o(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"Connection to Websockets failed."}),y.jsx("br",{}),y.jsx("span",{className:"text-gray-900 font-semibold",children:" If you are using an adblocker please disable it and refresh the page. Otherwise try again."})]}),[{label:"Okay",actionValue:"okay",styleClass:"bg-green-500 text-white hover:bg-green-600"}])}const j=async()=>{if(!l){o(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"Please log in to create a game."}),y.jsx("br",{})]}),[{label:"Okay",actionValue:"okay",styleClass:"bg-green-500 text-white hover:bg-green-600"}]);return}h&&m&&u?(h.send(JSON.stringify({type:"create-lobby",host:u.displayname,categories:k()})),console.log("sent create-lobby message")):C()},E=async()=>{if(!t.trim()){o(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"Please enter a valid Game ID."}),y.jsx("br",{})]}),[{label:"Okay",actionValue:"okay",styleClass:"bg-green-500 text-white hover:bg-green-600"}]);return}!l&&await o(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"You are not logged in."}),y.jsx("br",{}),y.jsx("span",{className:"text-gray-900 font-bold text-xl",children:"Are you sure you want to play as a guest?"}),y.jsx("br",{})]}),[{label:"Go Back",actionValue:"return",styleClass:"bg-red-500 text-white hover:bg-red-600"},{label:"Continue",actionValue:"continue",styleClass:"bg-green-500 text-white hover:bg-green-600"}])==="return"||(d&&(console.log("Waiting for profile to finish loading..."),await f()),h&&m?h.send(JSON.stringify({type:"check-lobby",gameId:t})):C())};return y.jsx("div",{className:"min-h-screen bg-gradient-to-r from-indigo-400 to-blue-700 flex items-center justify-center p-6 ",children:y.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-2xl overflow-hidden w-full max-w-6xl",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[y.jsxs("div",{className:"col-span-2 p-10",children:[y.jsxs("h1",{className:"text-5xl font-extrabold text-gray-900 text-center",children:["Artificially ",x," Jeopardy"]}),y.jsx("p",{className:"text-xl text-gray-700 text-center mt-4",children:"Try to answer with the correct question."}),y.jsx("div",{className:"mt-8",children:y.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[y.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center mb-2",children:"Featured Category"}),y.jsx("p",{className:"text-xl font-bold text-gray-900 text-center",children:r.category}),y.jsx("p",{className:"text-lg text-gray-600 text-center",children:r.description})]})}),y.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-50 p-6 rounded-lg border-gray-200 shadow",children:[y.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center mb-4",children:"Create a Game"}),y.jsx("button",{onClick:j,className:"w-full h-full py-3 px-6 text-white bg-green-500 hover:bg-green-600 text-xl rounded-lg font-semibold focus:outline-none transition-colors duration-200",children:"Create Game"})]}),y.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200 shadow",children:[y.jsx("h3",{className:"text-2xl font-semibold text-gray-800 text-center mb-4",children:"Join a Game"}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("label",{htmlFor:"gameId",className:"text-lg font-medium text-gray-800",children:"Game ID:"}),y.jsx("input",{id:"gameId",type:"text",value:t,onChange:$=>e($.target.value),placeholder:"Enter Game ID to join",className:"mt-2 p-3 border border-gray-300 text-black rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsx("button",{onClick:E,className:"py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded transition-colors duration-200",children:"Join Game"})]})]})]}),y.jsx("div",{className:"mt-8",children:y.jsx("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:y.jsx(tT,{})})}),y.jsx("div",{className:"mt-8",children:y.jsxs("details",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200 shadow",open:!0,children:[y.jsx("summary",{className:"text-2xl font-semibold text-gray-800 cursor-pointer",children:"How to Play"}),y.jsx("p",{className:"mt-4 text-lg text-gray-700",children:"Welcome to AI Jeopardy! This is a new project so please be patient."}),y.jsxs("ul",{className:"list-disc ml-6 mt-4 text-lg text-gray-700",children:[y.jsx("li",{children:" To create a game you will first need to make an account in the top right."}),y.jsx("li",{children:" You don't need an account to join a game as a guest. Just insert the code your friend gave you above."}),y.jsx("li",{children:" Consider creating an account to customize your profile, create games, and more!"}),y.jsx("li",{children:" Once you're in a lobby, select categories that you want to have questions generated for."}),y.jsx("li",{children:` If you're the host, press the "Start Game" button to begin! Otherwise wait for the host to begin.`}),y.jsx("li",{children:" The host controls the game, once they are done reading the prompt they unlock the buzzer and the players race to buzz in if they know the answer."}),y.jsx("li",{children:" Have fun and enjoy the game!"})]})]})}),y.jsx("div",{className:"mt-8",children:y.jsxs("details",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200 shadow",open:!0,children:[y.jsx("summary",{className:"text-2xl font-semibold text-gray-800 cursor-pointer",children:"About Models"}),y.jsxs("p",{className:"mt-4 text-lg text-gray-700",children:[y.jsx("span",{className:"text-xl text-bold text-red-500",children:"The model options are currently locked as tokens are not yet implemented. Please choose from the available free models."}),y.jsx("br",{}),y.jsx("span",{className:"mb-t text-lg text-bold text-gray-700",children:"The host is shown a model section field, for the most part you can leave this as is. However, if you want to change the model you can do so by clicking the dropdown and selecting a model from the list. The use of some of these models is quite expensive, some of them cost tokens."})]})]})})]}),y.jsx("div",{className:"p-10 bg-gray-100 border-l border-gray-200 flex",children:y.jsx("div",{className:"w-full text-center",children:y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sponsored"})})})]})})})}const rT=({boardData:t,isHost:e,clearedClues:r,handleClueClick:i,isFinalJeopardy:o})=>y.jsx("div",{className:"flex justify-center items-center h-full w-full",children:y.jsxs("div",{className:"grid gap-2 w-[98%] h-[98%] my-2",style:{gridTemplateColumns:`repeat(${t.length}, 1fr)`,gridTemplateRows:"repeat(6, 1fr)"},children:[t.map((l,u)=>y.jsx("div",{className:"flex justify-center items-center border-2 border-black text-center h-full bg-indigo-600 cursor-not-allowed",style:{pointerEvents:"none",gridColumn:u+1},children:y.jsx("span",{style:{fontSize:"clamp(0.8rem, 1.8vw, 2.5rem)",textAlign:"center",overflowWrap:"break-word",whiteSpace:"normal",wordBreak:"break-word"},children:l.category})},u)),t.map((l,u)=>l.values.map((d,f)=>{const h=`${d.value}-${d.question}`,m=r.has(h);return y.jsx("div",{className:`flex justify-center items-center border-2 border-black text-center h-full text-3xl text-yellow-500 ${m?"bg-gray-300":"bg-indigo-600"} ${e&&!m?"cursor-pointer":"cursor-not-allowed"}`,style:{gridColumn:u+1,gridRow:f+2},onClick:()=>i(d,h),children:o?"Final Jeopardy!":m?"":`$${d.value}`},`${u}-${f}`)}))]})}),sT=({players:t,currentPlayer:e,isHost:r,scores:i,wagers:o,wagerSubmitted:l,handleWagerChange:u,submitWager:d})=>y.jsx("div",{children:r&&t.length>1?y.jsx("p",{children:"Waiting for players to place their wagers..."}):t.filter(f=>f.name===e).map(f=>y.jsxs("div",{className:"flex flex-row items-center mb-2",children:[y.jsxs("span",{className:"mr-2",children:[f.name,":"]}),i[f.name]<=0?y.jsx("span",{className:"text-red-500",children:"Wager Automatically Set to $0"}):y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"number",min:0,max:i[f.name]||0,value:o[f.name]||"",onChange:h=>u(f.name,parseInt(h.target.value,10)),disabled:l.includes(f.name),className:"w-[100px] p-1 mr-2 border text-black border-gray-300 rounded"}),l.includes(f.name)?y.jsx("span",{className:"text-lime-500",children:"Wager Submitted!"}):y.jsx("button",{onClick:()=>d(f.name),className:"px-3 py-1 bg-green-600 text-white rounded cursor-pointer",children:"Submit Wager"})]})]},f.name))});function ny(t,e,r,i,o,l,u){try{var d=t[l](u),f=d.value}catch(h){r(h);return}d.done?e(f):Promise.resolve(f).then(i,o)}function iT(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var l=t.apply(e,r);function u(f){ny(l,i,o,u,d,"next",f)}function d(f){ny(l,i,o,u,d,"throw",f)}u(void 0)})}}function vs(){return vs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},vs.apply(this,arguments)}var _0={exports:{}};(function(t){var e=function(r){var i=Object.prototype,o=i.hasOwnProperty,l,u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function m(O,M,B){return Object.defineProperty(O,M,{value:B,enumerable:!0,configurable:!0,writable:!0}),O[M]}try{m({},"")}catch{m=function(M,B,P){return M[B]=P}}function v(O,M,B,P){var N=M&&M.prototype instanceof $?M:$,Z=Object.create(N.prototype),oe=new je(P||[]);return Z._invoke=ve(O,B,oe),Z}r.wrap=v;function w(O,M,B){try{return{type:"normal",arg:O.call(M,B)}}catch(P){return{type:"throw",arg:P}}}var x="suspendedStart",k="suspendedYield",C="executing",j="completed",E={};function $(){}function D(){}function U(){}var _={};m(_,d,function(){return this});var z=Object.getPrototypeOf,Q=z&&z(z(Ie([])));Q&&Q!==i&&o.call(Q,d)&&(_=Q);var K=U.prototype=$.prototype=Object.create(_);D.prototype=U,m(K,"constructor",U),m(U,"constructor",D),D.displayName=m(U,h,"GeneratorFunction");function ne(O){["next","throw","return"].forEach(function(M){m(O,M,function(B){return this._invoke(M,B)})})}r.isGeneratorFunction=function(O){var M=typeof O=="function"&&O.constructor;return M?M===D||(M.displayName||M.name)==="GeneratorFunction":!1},r.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,U):(O.__proto__=U,m(O,h,"GeneratorFunction")),O.prototype=Object.create(K),O},r.awrap=function(O){return{__await:O}};function ce(O,M){function B(Z,oe,ee,G){var ae=w(O[Z],O,oe);if(ae.type==="throw")G(ae.arg);else{var ie=ae.arg,se=ie.value;return se&&typeof se=="object"&&o.call(se,"__await")?M.resolve(se.__await).then(function(Te){B("next",Te,ee,G)},function(Te){B("throw",Te,ee,G)}):M.resolve(se).then(function(Te){ie.value=Te,ee(ie)},function(Te){return B("throw",Te,ee,G)})}}var P;function N(Z,oe){function ee(){return new M(function(G,ae){B(Z,oe,G,ae)})}return P=P?P.then(ee,ee):ee()}this._invoke=N}ne(ce.prototype),m(ce.prototype,f,function(){return this}),r.AsyncIterator=ce,r.async=function(O,M,B,P,N){N===void 0&&(N=Promise);var Z=new ce(v(O,M,B,P),N);return r.isGeneratorFunction(M)?Z:Z.next().then(function(oe){return oe.done?oe.value:Z.next()})};function ve(O,M,B){var P=x;return function(Z,oe){if(P===C)throw new Error("Generator is already running");if(P===j){if(Z==="throw")throw oe;return we()}for(B.method=Z,B.arg=oe;;){var ee=B.delegate;if(ee){var G=Ee(ee,B);if(G){if(G===E)continue;return G}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(P===x)throw P=j,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);P=C;var ae=w(O,M,B);if(ae.type==="normal"){if(P=B.done?j:k,ae.arg===E)continue;return{value:ae.arg,done:B.done}}else ae.type==="throw"&&(P=j,B.method="throw",B.arg=ae.arg)}}}function Ee(O,M){var B=O.iterator[M.method];if(B===l){if(M.delegate=null,M.method==="throw"){if(O.iterator.return&&(M.method="return",M.arg=l,Ee(O,M),M.method==="throw"))return E;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var P=w(B,O.iterator,M.arg);if(P.type==="throw")return M.method="throw",M.arg=P.arg,M.delegate=null,E;var N=P.arg;if(!N)return M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,E;if(N.done)M[O.resultName]=N.value,M.next=O.nextLoc,M.method!=="return"&&(M.method="next",M.arg=l);else return N;return M.delegate=null,E}ne(K),m(K,h,"Generator"),m(K,d,function(){return this}),m(K,"toString",function(){return"[object Generator]"});function Oe(O){var M={tryLoc:O[0]};1 in O&&(M.catchLoc=O[1]),2 in O&&(M.finallyLoc=O[2],M.afterLoc=O[3]),this.tryEntries.push(M)}function be(O){var M=O.completion||{};M.type="normal",delete M.arg,O.completion=M}function je(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(Oe,this),this.reset(!0)}r.keys=function(O){var M=[];for(var B in O)M.push(B);return M.reverse(),function P(){for(;M.length;){var N=M.pop();if(N in O)return P.value=N,P.done=!1,P}return P.done=!0,P}};function Ie(O){if(O){var M=O[d];if(M)return M.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var B=-1,P=function N(){for(;++B<O.length;)if(o.call(O,B))return N.value=O[B],N.done=!1,N;return N.value=l,N.done=!0,N};return P.next=P}}return{next:we}}r.values=Ie;function we(){return{value:l,done:!0}}return je.prototype={constructor:je,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(be),!O)for(var M in this)M.charAt(0)==="t"&&o.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=l)},stop:function(){this.done=!0;var O=this.tryEntries[0],M=O.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var M=this;function B(G,ae){return Z.type="throw",Z.arg=O,M.next=G,ae&&(M.method="next",M.arg=l),!!ae}for(var P=this.tryEntries.length-1;P>=0;--P){var N=this.tryEntries[P],Z=N.completion;if(N.tryLoc==="root")return B("end");if(N.tryLoc<=this.prev){var oe=o.call(N,"catchLoc"),ee=o.call(N,"finallyLoc");if(oe&&ee){if(this.prev<N.catchLoc)return B(N.catchLoc,!0);if(this.prev<N.finallyLoc)return B(N.finallyLoc)}else if(oe){if(this.prev<N.catchLoc)return B(N.catchLoc,!0)}else if(ee){if(this.prev<N.finallyLoc)return B(N.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(O,M){for(var B=this.tryEntries.length-1;B>=0;--B){var P=this.tryEntries[B];if(P.tryLoc<=this.prev&&o.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var N=P;break}}N&&(O==="break"||O==="continue")&&N.tryLoc<=M&&M<=N.finallyLoc&&(N=null);var Z=N?N.completion:{};return Z.type=O,Z.arg=M,N?(this.method="next",this.next=N.finallyLoc,E):this.complete(Z)},complete:function(O,M){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&M&&(this.next=M),E},finish:function(O){for(var M=this.tryEntries.length-1;M>=0;--M){var B=this.tryEntries[M];if(B.finallyLoc===O)return this.complete(B.completion,B.afterLoc),be(B),E}},catch:function(O){for(var M=this.tryEntries.length-1;M>=0;--M){var B=this.tryEntries[M];if(B.tryLoc===O){var P=B.completion;if(P.type==="throw"){var N=P.arg;be(B)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(O,M,B){return this.delegate={iterator:Ie(O),resultName:M,nextLoc:B},this.method==="next"&&(this.arg=l),E}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(_0);var ry=_0.exports,C0=function(e){var r=e.paths,i=e.id,o=e.strokeWidth,l=e.strokeColor,u=e.command,d=u===void 0?E0:u;if(r.length===1){var f=r[0],h=f.x,m=f.y,v=o/2;return b.createElement("circle",{key:i,id:i,cx:h,cy:m,r:v,stroke:l,fill:l})}var w=r.reduce(function(x,k,C,j){return C===0?"M "+k.x+","+k.y:x+" "+d(k,C,j)},"");return b.createElement("path",{key:i,id:i,d:w,fill:"none",strokeLinecap:"round",stroke:l,strokeWidth:o})},oT=function(e,r){var i=r.x-e.x,o=r.y-e.y;return{length:Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),angle:Math.atan2(o,i)}},dl=function(e){var r=e.current,i=e.next,o=e.previous,l=e.reverse,u=o||r,d=i||r,f=.2,h=oT(u,d),m=h.angle+(l?Math.PI:0),v=h.length*f,w=r.x+Math.cos(m)*v,x=r.y+Math.sin(m)*v;return[w,x]},E0=function(e,r,i){var o=null,l=null;switch(r){case 0:var u=dl({current:e});o=u[0],l=u[1];break;case 1:var d=dl({current:i[r-1],next:e});o=d[0],l=d[1];break;default:var f=dl({current:i[r-1],previous:i[r-2],next:e});o=f[0],l=f[1];break}var h=dl({current:e,previous:i[r-1],next:i[r+1],reverse:!0}),m=h[0],v=h[1];return"C "+o+","+l+" "+m+","+v+" "+e.x+", "+e.y},aT=function(e){var r=e.id,i=e.paths;return b.createElement(b.Fragment,null,i.map(function(o,l){return b.createElement(C0,{key:r+"__"+l,paths:o.paths,id:r+"__"+l,strokeWidth:o.strokeWidth,strokeColor:o.strokeColor,command:E0})}))},sy=function(e){return new Promise(function(r,i){var o=new Image;o.addEventListener("load",function(){o.width>0&&r(o),i("Image not found")}),o.addEventListener("error",function(l){return i(l)}),o.src=e,o.setAttribute("crossorigin","anonymous")})};function iy(t){var e,r=(e=t.firstChild)==null?void 0:e.cloneNode(!0),i=t.offsetWidth,o=t.offsetHeight;return r.setAttribute("viewBox","0 0 "+i+" "+o),r.setAttribute("width",i.toString()),r.setAttribute("height",o.toString()),{svgCanvas:r,width:i,height:o}}var lT=b.forwardRef(function(t,e){var r=t.paths,i=t.isDrawing,o=t.onPointerDown,l=t.onPointerMove,u=t.onPointerUp,d=t.id,f=d===void 0?"react-sketch-canvas":d,h=t.width,m=h===void 0?"100%":h,v=t.height,w=v===void 0?"100%":v,x=t.className,k=x===void 0?"react-sketch-canvas":x,C=t.canvasColor,j=C===void 0?"red":C,E=t.backgroundImage,$=E===void 0?"":E,D=t.exportWithBackgroundImage,U=D===void 0?!1:D,_=t.preserveBackgroundImageAspectRatio,z=_===void 0?"none":_,Q=t.allowOnlyPointerType,K=Q===void 0?"all":Q,ne=t.style,ce=ne===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:ne,ve=t.svgStyle,Ee=ve===void 0?{}:ve,Oe=b.useRef(null),be=function(N){var Z,oe,ee,G=(Z=Oe.current)==null?void 0:Z.getBoundingClientRect(),ae=(oe=window.scrollX)!=null?oe:0,ie=(ee=window.scrollY)!=null?ee:0;if(!G)return{x:0,y:0};var se={x:N.pageX-G.left-ae,y:N.pageY-G.top-ie};return se},je=function(N){if(!(K!=="all"&&N.pointerType!==K)&&!(N.pointerType==="mouse"&&N.button!==0)){var Z=be(N);o(Z)}},Ie=function(N){if(i&&!(K!=="all"&&N.pointerType!==K)){var Z=be(N);l(Z)}},we=function(N){N.pointerType==="mouse"&&N.button!==0||K!=="all"&&N.pointerType!==K||u()};b.useImperativeHandle(e,function(){return{exportImage:function(N){return new Promise(function(){var Z=iT(ry.mark(function oe(ee,G){var ae,ie,se,Te,gt,Ut,ht,ut;return ry.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(Ve.prev=0,ae=Oe.current,ae){Ve.next=4;break}throw Error("Canvas not rendered yet");case 4:return ie=iy(ae),se=ie.svgCanvas,Te=ie.width,gt=ie.height,Ut="data:image/svg+xml;base64,"+btoa(se.outerHTML),Ve.next=8,sy(Ut);case 8:if(Ve.t0=Ve.sent,ht=[Ve.t0],!U){Ve.next=21;break}return Ve.prev=11,Ve.next=14,sy($);case 14:ut=Ve.sent,ht.push(ut),Ve.next=21;break;case 18:Ve.prev=18,Ve.t1=Ve.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(ht).then(function(zt){var Wt=document.createElement("canvas");Wt.setAttribute("width",Te.toString()),Wt.setAttribute("height",gt.toString());var en=Wt.getContext("2d");if(!en)throw Error("Canvas not rendered yet");zt.reverse().forEach(function(We){en.drawImage(We,0,0)}),ee(Wt.toDataURL("image/"+N))}).catch(function(zt){throw zt}),Ve.next=27;break;case 24:Ve.prev=24,Ve.t2=Ve.catch(0),G(Ve.t2);case 27:case"end":return Ve.stop()}},oe,null,[[0,24],[11,18]])}));return function(oe,ee){return Z.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(N,Z){try{var oe,ee=(oe=Oe.current)!=null?oe:null;if(ee!==null){var G,ae,ie=iy(ee),se=ie.svgCanvas;if(U){N(se.outerHTML);return}(G=se.querySelector("#"+f+"__background"))==null||G.remove(),(ae=se.querySelector("#"+f+"__canvas-background"))==null||ae.setAttribute("fill",j),N(se.outerHTML)}Z(new Error("Canvas not loaded"))}catch(Te){Z(Te)}})}}}),b.useEffect(function(){return document.addEventListener("pointerup",we),function(){document.removeEventListener("pointerup",we)}},[we]);var O=r.filter(function(P){return!P.drawMode}),M=0,B=r.reduce(function(P,N){return N.drawMode?(P[M]===void 0&&(P[M]=[]),P[M].push(N),P):(M+=1,P)},[[]]);return b.createElement("div",{role:"presentation",ref:Oe,className:k,style:vs({touchAction:"none",width:m,height:w},ce),"touch-action":"none",onPointerDown:je,onPointerMove:Ie,onPointerUp:we},b.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:vs({width:"100%",height:"100%"},Ee),id:f},b.createElement("g",{id:f+"__eraser-stroke-group",display:"none"},b.createElement("rect",{id:f+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),O.map(function(P,N){return b.createElement(C0,{key:f+"__eraser-"+N,id:f+"__eraser-"+N,paths:P.paths,strokeColor:"#000000",strokeWidth:P.strokeWidth})})),b.createElement("defs",null,$&&b.createElement("pattern",{id:f+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},b.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:$,preserveAspectRatio:z})),O.map(function(P,N){return b.createElement("mask",{id:f+"__eraser-mask-"+N,key:f+"__eraser-mask-"+N,maskUnits:"userSpaceOnUse"},b.createElement("use",{href:"#"+f+"__mask-background"}),Array.from({length:O.length-N},function(Z,oe){return oe+N}).map(function(Z){return b.createElement("use",{key:Z.toString(),href:"#"+f+"__eraser-"+Z.toString()})}))})),b.createElement("g",{id:f+"__canvas-background-group"},b.createElement("rect",{id:f+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:$?"url(#"+f+"__background)":j})),B.map(function(P,N){return b.createElement("g",{id:f+"__stroke-group-"+N,key:f+"__stroke-group-"+N,mask:"url(#"+f+"__eraser-mask-"+N+")"},b.createElement(aT,{id:f,paths:P}))})))}),oy=b.forwardRef(function(t,e){var r=t.id,i=r===void 0?"react-sketch-canvas":r,o=t.width,l=o===void 0?"100%":o,u=t.height,d=u===void 0?"100%":u,f=t.className,h=f===void 0?"":f,m=t.canvasColor,v=m===void 0?"white":m,w=t.strokeColor,x=w===void 0?"red":w,k=t.backgroundImage,C=k===void 0?"":k,j=t.exportWithBackgroundImage,E=j===void 0?!1:j,$=t.preserveBackgroundImageAspectRatio,D=$===void 0?"none":$,U=t.strokeWidth,_=U===void 0?4:U,z=t.eraserWidth,Q=z===void 0?8:z,K=t.allowOnlyPointerType,ne=K===void 0?"all":K,ce=t.style,ve=ce===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:ce,Ee=t.svgStyle,Oe=Ee===void 0?{}:Ee,be=t.onChange,je=be===void 0?function(We){}:be,Ie=t.onStroke,we=Ie===void 0?function(We,fe){}:Ie,O=t.withTimestamp,M=O===void 0?!1:O,B=b.createRef(),P=b.useState(!0),N=P[0],Z=P[1],oe=b.useState(!1),ee=oe[0],G=oe[1],ae=b.useState([]),ie=ae[0],se=ae[1],Te=b.useState([]),gt=Te[0],Ut=Te[1],ht=b.useState([]),ut=ht[0],Pt=ht[1],Ve=b.useCallback(function(){var We,fe,q=(We=(fe=ut.slice(-1))==null?void 0:fe[0])!=null?We:null;if(q===null){console.warn("No stroke found!");return}we(q,!q.drawMode)},[ee]);b.useEffect(function(){Ve()},[ee]),b.useEffect(function(){je(ut)},[ut]),b.useImperativeHandle(e,function(){return{eraseMode:function(fe){Z(!fe)},clearCanvas:function(){se([].concat(ut)),Pt([])},undo:function(){if(ie.length!==0){Pt([].concat(ie)),se([]);return}Ut(function(fe){return[].concat(fe,ut.slice(-1))}),Pt(function(fe){return fe.slice(0,-1)})},redo:function(){gt.length!==0&&(Pt(function(fe){return[].concat(fe,gt.slice(-1))}),Ut(function(fe){return fe.slice(0,-1)}))},exportImage:function(fe){var q,Ce=(q=B.current)==null?void 0:q.exportImage;if(Ce)return Ce(fe);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(fe,q){var Ce,Ze=(Ce=B.current)==null?void 0:Ce.exportSvg;Ze?Ze().then(function(nt){fe(nt)}).catch(function(nt){q(nt)}):q(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(fe,q){try{fe(ut)}catch(Ce){q(Ce)}})},loadPaths:function(fe){Pt(function(q){return[].concat(q,fe)})},getSketchingTime:function(){return new Promise(function(fe,q){M||q(new Error("Set 'withTimestamp' prop to get sketching time"));try{var Ce=ut.reduce(function(Ze,nt){var $t,Hn,Dn=($t=nt.startTimestamp)!=null?$t:0,_s=(Hn=nt.endTimestamp)!=null?Hn:0;return Ze+(_s-Dn)},0);fe(Ce)}catch(Ze){q(Ze)}})},resetCanvas:function(){se([]),Ut([]),Pt([])}}});var zt=function(fe){G(!0),Ut([]);var q={drawMode:N,strokeColor:N?x:"#000000",strokeWidth:N?_:Q,paths:[fe]};M&&(q=vs({},q,{startTimestamp:Date.now(),endTimestamp:0})),Pt(function(Ce){return[].concat(Ce,[q])})},Wt=function(fe){if(ee){var q=ut.slice(-1)[0],Ce=vs({},q,{paths:[].concat(q.paths,[fe])});Pt(function(Ze){return[].concat(Ze.slice(0,-1),[Ce])})}},en=function(){var fe,q;if(ee&&(G(!1),!!M)){var Ce=(fe=(q=ut.slice(-1))==null?void 0:q[0])!=null?fe:null;if(Ce!==null){var Ze=vs({},Ce,{endTimestamp:Date.now()});Pt(function(nt){return[].concat(nt.slice(0,-1),[Ze])})}}};return b.createElement(lT,{ref:B,id:i,width:l,height:d,className:h,canvasColor:v,backgroundImage:C,exportWithBackgroundImage:E,preserveBackgroundImageAspectRatio:D,allowOnlyPointerType:ne,style:ve,svgStyle:Oe,paths:ut,isDrawing:ee,onPointerDown:zt,onPointerMove:Wt,onPointerUp:en})});const uT=t=>{try{return y.jsx("svg",{width:"300",height:"125",viewBox:"0 0 700 250",xmlns:"http://www.w3.org/2000/svg",style:{background:"white",border:"1px solid black"},children:t.map((e,r)=>y.jsx("path",{d:e.paths.map((i,o)=>`${o===0?"M":"L"} ${i.x} ${i.y}`).join(" "),stroke:e.strokeColor,strokeWidth:e.strokeWidth,fill:"none"},r))})}catch(e){return console.error("Invalid drawing data:",e),y.jsx("p",{children:"Error rendering drawing."})}},P0=b.createContext(void 0),cT=()=>{const[t,e]=b.useState("desktop");return b.useEffect(()=>{const r=navigator.userAgent;/iPhone|Android.*Mobile|BlackBerry|Nokia|webOS|Opera Mini|Windows Phone/i.test(r)?e("mobile"):/iPad|Android(?!.*Mobile)|Tablet|Silk/i.test(r)?e("tablet"):e("desktop")},[]),t},dT=({children:t})=>{const e=cT();return y.jsx(P0.Provider,{value:{deviceType:e},children:t})},T0=()=>{const t=b.useContext(P0);if(!t)throw new Error("useDeviceContext must be used within a DeviceProvider");return t},fT=({playerName:t})=>{const[e,r]=b.useState(!1);return b.useEffect(()=>{if(t){r(!0);const i=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(i)}},[t]),y.jsx(or,{children:e&&t&&y.jsx(at.div,{initial:{opacity:0,y:0,scale:.5},animate:{opacity:1,y:-100,scale:2},exit:{opacity:0},transition:{duration:1,ease:"easeOut"},className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 text-center",children:y.jsxs("div",{className:"text-6xl font-extrabold",style:{color:"#FFF",textShadow:`
                            -2px -2px 0 #000,  
                            2px -2px 0 #000,
                            -2px 2px 0 #000,
                            2px 2px 0 #000,
                            0 0 20px rgba(255, 223, 0, 0.8),
                            0 0 30px rgba(255, 223, 0, 0.6),
                            0 0 40px rgba(255, 223, 0, 0.4)
                        `},children:[t,y.jsx("div",{className:"text-red-500 text-4xl mt-2",children:"BUZZED!"})]})})})},hT=({endTime:t,duration:e})=>{const[r,i]=b.useState(e);b.useEffect(()=>{if(!t){i(e);return}const u=setInterval(()=>{const d=Math.max(0,(t-Date.now())/1e3);i(d),d<=0&&clearInterval(u)},16);return()=>clearInterval(u)},[t,e]);const o=r<=3,l=Math.ceil(r);return y.jsx("div",{className:"timer flex justify-center items-center min-h-[200px]",children:y.jsx(or,{mode:"wait",children:r>0&&y.jsx(at.div,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2,ease:"easeOut"},className:"relative",children:y.jsx(at.div,{animate:{scale:o?[1,1.08,1]:[1,1.02,1]},transition:{duration:o?.4:2,repeat:1/0,ease:"easeInOut",times:[0,.5,1]},className:`
                                text-8xl font-black
                                ${o?"text-red-500":"text-yellow-500"}
                                transition-colors duration-500
                            `,style:{textShadow:`
                                    -2px -2px 0 #000,  
                                    2px -2px 0 #000,
                                    -2px 2px 0 #000,
                                    2px 2px 0 #000,
                                    0 0 ${o?"20px":"10px"} rgba(0,0,0,0.5)
                                `,filter:`drop-shadow(0 0 ${o?"10px":"5px"} rgba(255,255,255,0.3))`},children:l})},l)})})},pT=({localSelectedClue:t,showAnswer:e,setShowAnswer:r,setShowClue:i,isHost:o,isFinalJeopardy:l,gameId:u,currentPlayer:d,canvasRef:f,drawings:h,drawingSubmitted:m,setDrawingSubmitted:v,hostCanSeeAnswer:w,players:x,setBuzzerLocked:k,setBuzzResult:C,handleBuzz:j,buzzerLocked:E,buzzResult:$,buzzLockedOut:D,timerEndTime:U,timerDuration:_})=>{const{socket:z,isSocketReady:Q}=Bo(),{deviceType:K}=T0();return y.jsxs("div",{className:"absolute inset-0 h-[calc(100vh-5.5rem)] text-white flex flex-col justify-center items-center z-10 p-5",children:[y.jsx("div",{className:"absolute left-8 top-0 ",children:y.jsx(hT,{endTime:U,duration:_})}),y.jsx(fT,{playerName:$}),y.jsxs("div",{className:"text-center cursor-pointer w-full",children:[y.jsx("h1",{style:{fontSize:"clamp(0.75rem, 3vw, 4rem)"},className:"mb-1 md:max-w-[65vw] mx-auto",children:t.question}),l?y.jsx("div",{className:"flex justify-center items-center",children:(e||w)&&y.jsx("p",{style:{fontSize:"clamp(1.5rem, 4vw, 3rem)"},className:"mt-5 text-yellow-300",children:t.answer})}):y.jsx("div",{className:"sm:min-h-[70px] md:min-h-[100px] flex justify-center items-center",children:(e||w)&&y.jsx("p",{style:{fontSize:"clamp(1.5rem, 4vw, 3rem)"},className:"mt-5 text-yellow-300",children:t.answer})}),!o&&l&&m[d]&&!h&&y.jsx("p",{style:{fontSize:"clamp(1rem, 2vw, 1.5rem)"},children:"Answer Submitted, waiting for others..."}),(!o||x.length===1)&&l&&!m[d]&&y.jsxs("div",{className:"flex flex-col items-center justify-center w-full text-white p-5",children:[y.jsx("h2",{style:{fontSize:"clamp(1.5rem, 3vw, 2.5rem)"},className:"mb-5",children:"Write Your Answer"}),y.jsxs("div",{className:"flex items-start gap-4",children:[K==="mobile"?y.jsx(oy,{ref:f,className:"border-2 border-white rounded-lg bg-white",width:"60vw",height:"25vh",strokeWidth:4,strokeColor:"black"}):y.jsx(oy,{ref:f,className:"border-2 border-white rounded-lg bg-white",width:"600px",height:"250px",strokeWidth:4,strokeColor:"black"}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("button",{onClick:()=>{var ne;return(ne=f.current)==null?void 0:ne.clearCanvas()},className:`px-5 py-2 rounded-lg bg-red-500 text-white cursor-pointer\r
                             hover:bg-red-600 transition-colors duration-200 shadow-lg`,children:"Clear"}),y.jsx("button",{onClick:()=>{var ne;(ne=f.current)==null||ne.exportPaths().then(ce=>{const ve=JSON.stringify(ce);z&&Q&&z.send(JSON.stringify({type:"final-jeopardy-drawing",gameId:u,player:d,drawing:ve})),m[d]||v(Ee=>({...Ee,[d]:!0}))})},className:`px-5 py-2 rounded-lg bg-blue-500 text-white cursor-pointer\r
                             hover:bg-blue-600 transition-colors duration-200 shadow-lg`,children:"Submit"})]})]})]}),!o&&!l&&!e&&y.jsx("button",{onClick:j,disabled:!!$||D,style:{fontSize:"clamp(1.5rem, 3vw, 2.5rem)"},className:`mt-4 px-12 py-5 rounded-xl font-bold shadow-2xl min-w-64 intext-white transition duration-300 ease-in-out ${D?"bg-orange-500":$||E?"bg-gray-500 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:D?"Locked Out":E?"Buzz Early":"Buzz!"}),o&&!(x.length===1&&o)&&!e&&!l&&y.jsx("button",{onClick:()=>{E?(z&&Q&&z.send(JSON.stringify({type:"unlock-buzzer",gameId:u})),k(!1)):(z&&Q&&z.send(JSON.stringify({type:"reset-buzzer",gameId:u})),C(null),k(!0))},style:{fontSize:"clamp(1rem, 2.5vw, 2rem)"},className:`mt-4 mr-3 px-12 min-w-[22rem] py-5 rounded-xl font-bold shadow-2xl text-white transition duration-300 ease-in-out ${E?"bg-green-500 hover:bg-green-600":$?"bg-orange-500 hover:bg-orange-600":"bg-gray-500"} ${!$&&!E?"opacity-50 cursor-not-allowed":""}`,disabled:!$&&!E,children:E?"Unlock Buzzer":"Reset Buzzer"}),o&&y.jsx("button",{disabled:l&&!h,onClick:()=>{if(!e)r(!0),z&&Q&&z.send(JSON.stringify({type:"reveal-answer",gameId:u}));else if(i(!1),t&&z&&Q){const ne=`${t.value}-${t.question}`;z.send(JSON.stringify({type:"clue-cleared",gameId:u,clueId:ne})),z.send(JSON.stringify({type:"return-to-board",gameId:u})),l&&z.send(JSON.stringify({type:"trigger-game-over",gameId:u}))}},style:{fontSize:"clamp(1rem, 2.5vw, 2rem)"},className:`mt-4 px-12 py-5 rounded-xl min-w-[22rem] font-bold shadow-2xl text-white transition duration-300 ease-in-out ${l&&!h?"bg-gray-400 cursor-not-allowed":e?"bg-violet-500 hover:bg-violet-700":"bg-indigo-700 hover:bg-indigo-900"}`,children:l&&!h?"Waiting for answers":e?"Return to Board":"Reveal Answer"}),y.jsx("div",{className:"flex flex-wrap gap-4",children:h&&!Array.isArray(h)&&Object.entries(h).map(([ne,ce])=>y.jsx("div",{className:"mb-5 z-0 w-auto",children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("h2",{style:{fontSize:"clamp(1rem, 2vw, 1.5rem)"},className:"text-center font-semibold mb-2",children:[ne,"'s answer:"]}),uT(ce)]})},ne))})]})]})},mT=({boardData:t,isHost:e,onClueSelected:r,selectedClue:i,gameId:o,clearedClues:l,players:u,scores:d,currentPlayer:f,allWagersSubmitted:h,isFinalJeopardy:m,drawings:v,setBuzzerLocked:w,setBuzzResult:x,handleBuzz:k,buzzerLocked:C,buzzResult:j,buzzLockedOut:E,timerEndTime:$,timerDuration:D,showAnswer:U,setShowAnswer:_})=>{const[z,Q]=b.useState(null),[K,ne]=b.useState(!1),[ce,ve]=b.useState(!1),[Ee,Oe]=b.useState({}),[be,je]=b.useState([]),[Ie,we]=b.useState({}),{socket:O,isSocketReady:M}=Bo(),{showAlert:B}=$l(),P=b.useRef(null),N=document.querySelector("#react-sketch-canvas__stroke-group-0");N&&N.removeAttribute("mask"),b.useEffect(()=>{e||(console.log(m),console.log(d[f]),m&&(d[f]<=0||!d[f])&&!be.includes(f)&&ee(f))},[f,d,be,m]),b.useEffect(()=>{if(i){const G=u.length===1&&e;Q(i),ne(!0),e&&!G?ve(!0):(_(!!i.showAnswer),ve(!1))}else Q(null),ne(!1),_(!1)},[i,e,u]);const Z=(G,ae)=>{console.log(z),e&&G&&!z&&!l.has(ae)&&r(G)},oe=(G,ae)=>{Oe(ie=>({...ie,[G]:ae}))},ee=G=>{Ee[G]===void 0&&(Ee[G]=0),console.log(d),console.log(G),console.log(d[G]),Ee[G]!==void 0&&Ee[G]<=(d[G]||0)?(je(ae=>[...ae,G]),O&&M&&O.send(JSON.stringify({type:"submit-wager",gameId:o,player:G,wager:Ee[G]}))):B(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"Wager cannot exceed current score!"}),y.jsx("br",{})]}),[{label:"Okay",actionValue:"okay",styleClass:"bg-green-500 text-white hover:bg-green-600"}])};return!t||t.length===0?y.jsx("p",{children:"No board data available."}):y.jsxs("div",{className:"relative w-full h-full m-0 overflow-hidden",children:[m&&!h&&y.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gray-800 text-white",children:[y.jsx("h2",{className:"text-2xl",children:"Final Jeopardy Category:"}),y.jsx("h1",{className:"text-6xl",children:t[0].category}),y.jsx("h2",{className:"text-2xl",children:"Place Your Wager!"}),y.jsx(sT,{players:u,currentPlayer:f,isHost:e,scores:d,wagers:Ee,wagerSubmitted:be,handleWagerChange:oe,submitWager:ee})]}),!K&&!m&&y.jsx(rT,{boardData:t,isHost:e,clearedClues:l,handleClueClick:Z,isFinalJeopardy:m}),K&&z&&y.jsx(pT,{localSelectedClue:z,showAnswer:U,setShowAnswer:_,setShowClue:ne,isHost:e,isFinalJeopardy:m,gameId:o,currentPlayer:f,canvasRef:P,drawings:v,drawingSubmitted:Ie,setDrawingSubmitted:we,hostCanSeeAnswer:ce,players:u,setBuzzerLocked:w,setBuzzResult:x,handleBuzz:k,buzzerLocked:C,buzzResult:j,buzzLockedOut:E,timerEndTime:$,timerDuration:D})]})},gT=({isHost:t,host:e,players:r,scores:i,lastQuestionValue:o,activeBoard:l,handleScoreUpdate:u,markAllCluesComplete:d,buzzResult:f})=>{const{profile:h}=gi(),m=ur();return y.jsxs("div",{className:"flex-none w-full md:w-72 flex flex-col items-start gap-5 p-5 overflow-hidden box-border relative",children:[y.jsx("div",{className:"flex flex-col gap-0 p-1 w-full",style:{fontFamily:"'Poppins', sans-serif"},children:y.jsxs("div",{children:[y.jsx("button",{className:"mx-auto w-full text-center text-2xl font-bold text-blue-700 hover:text-blue-500",onClick:()=>m("/"),children:"AI-Jeopardy.com"}),y.jsx("h2",{className:"text-2xl mt-3 font-extrabold bg-gradient-to-r from-[#1e88e5] via-[#3d5afe] to-[#5c6bc0] text-white px-5 py-5 rounded-lg text-center flex items-center gap-2.5 shadow-md mb-3",children:"Players"}),y.jsx("ul",{className:"list-none p-0 m-0",children:r.map(v=>y.jsxs("li",{className:`flex items-center p-2.5 rounded-lg mb-2 text-base shadow-sm text-blue-500 ${e===v.name?"bg-yellow-200 border-yellow-500 border-2":f===v.name?"bg-red-300 border-red-500 border-2":"bg-gray-100"}
                                            `,children:[y.jsx(ws,{name:v.name,size:"8",color:v.color,textColor:v.text_color}),y.jsxs("div",{className:"flex flex-col flex-1 ml-3",children:[y.jsx("span",{className:"font-bold",children:v.name}),e===v.name&&r.length>1?y.jsx("span",{className:"text-yellow-500 -mt-2 text-sm",children:"Host"}):y.jsxs("span",{className:`-mt-1.5 font-bold text-sm ${i[v.name]<0?"text-red-500":"text-green-500"}`,children:["$",i[v.name]||0,v.name===f&&y.jsx("span",{className:"ml-1 text-red-500",children:"- Buzzed"})]})]}),t&&(v.name!==e||r.length===1)&&y.jsxs("div",{className:"flex gap-2 ml-auto",children:[y.jsx("button",{onClick:()=>u(v.name,-o),className:"w-8 h-8 p-0 bg-red-500 text-white rounded-full flex items-center justify-center text-sm hover:bg-red-600",children:""}),y.jsx("button",{onClick:()=>u(v.name,o),className:"w-8 h-8 p-0 bg-green-500 text-white rounded-full flex items-center justify-center text-sm hover:bg-green-600",children:""})]})]},v.name))})]})}),y.jsx("div",{className:"fixed bottom-0 left-0 w-full md:w-72 flex flex-col items-center gap-5 z-[100]",children:h&&h.role==="admin"&&t&&l!=="finalJeopardy"&&y.jsx("button",{onClick:d,className:"px-10 py-5 bg-red-700 text-white text-xl font-bold border-none rounded-lg cursor-pointer min-w-72 hover:bg-red-800",children:"Mark All Questions Complete"})})]})},yT=({scores:t})=>{const e=ur(),r=Object.entries(t).sort(([,i],[,o])=>o-i);return y.jsxs("div",{className:"min-h-screen w-full text-white font-poppins flex flex-col items-center justify-center p-8",children:[y.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-12 text-yellow-400 drop-shadow-lg animate-fade-in",children:"Final Scores"}),y.jsx("div",{className:"w-full max-w-7xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-4 mb-12",children:r.map(([i,o],l)=>y.jsxs("div",{className:`
                            flex justify-between items-center p-6 rounded-2xl
                            transform transition-all duration-300 hover:scale-105
                            ${l===0?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 shadow-yellow-400/50":"bg-white/10 backdrop-blur-sm"}
                            shadow-lg hover:shadow-xl
                        `,children:[y.jsx("span",{className:`text-2xl ${l===0?"font-bold":"font-semibold"}`,children:i}),y.jsxs("span",{className:`text-2xl ${l===0?"font-bold":""}`,children:["$",o.toLocaleString()]})]},i))}),y.jsx("button",{onClick:()=>e("/"),className:`\r
                    px-12 py-4 text-xl font-bold\r
                    bg-gradient-to-r from-orange-500 to-red-500\r
                    text-white rounded-xl\r
                    transform transition-all duration-300\r
                    hover:scale-105 hover:shadow-xl\r
                    focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50\r
                    shadow-lg\r
                `,children:"Return Home"})]})},j0=({shouldBlock:t,onLeave:e,confirmMessage:r})=>{const[i,o]=b.useState(!1);return IS(({currentLocation:l,nextLocation:u})=>l.pathname!==u.pathname&&t&&!i?window.confirm(r)?(e==null||e(),o(!0),!1):!0:!1),b.useEffect(()=>{const l=u=>{t&&!i&&(u.preventDefault(),u.returnValue="",e==null||e())};return window.addEventListener("beforeunload",l),()=>{window.removeEventListener("beforeunload",l)}},[t,i,e]),{setIsLeavingPage:o}},vT=({isHost:t,host:e,players:r,scores:i,lastQuestionValue:o,handleScoreUpdate:l,buzzResult:u})=>{const[d,f]=b.useState(!1),h=ur();return y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>f(!d),className:"fixed bottom-4 left-4 z-50 p-2 rounded-full bg-blue-600 text-white shadow-lg",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d?y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),y.jsx(or,{children:d&&y.jsx(at.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",bounce:0,duration:.4},className:"fixed top-0 left-0 h-full w-full max-w-52 bg-gradient-to-r from-indigo-400 to-blue-700 shadow-xl z-40 overflow-y-auto",children:y.jsxs("div",{className:"flex flex-col gap-1 p-1 w-full text-sm",children:[y.jsx("button",{className:"mx-auto w-full text-center text-2xl font-bold text-blue-700 hover:text-blue-500",onClick:()=>h("/"),children:"AI-Jeopardy.com"}),y.jsxs("div",{className:"mt-1",children:[y.jsx("h2",{className:"text-base font-bold text-white bg-black/20 p-2 rounded-lg mb-1",children:"Players"}),y.jsx("ul",{className:"list-none p-0 m-0 space-y-1",children:r.map((m,v)=>y.jsxs("li",{className:`flex items-center p-1.5 rounded-lg text-xs bg-white/90 ${e===m.name?"border-l-4 border-yellow-400":u===m.name?"border-l-4 border-red-400":""}`,children:[y.jsx(ws,{name:m.name,size:"6",color:m.color,textColor:m.text_color}),y.jsxs("div",{className:"flex flex-col ml-2 flex-1",children:[y.jsx("span",{className:"font-bold text-blue-500",children:m.name}),e===m.name&&r.length>1?y.jsx("span",{className:"text-yellow-500 -mt-2 text-sm",children:"Host"}):y.jsxs("span",{className:`-mt-1.5 font-bold text-sm ${i[m.name]<0?"text-red-500":"text-green-500"}`,children:["$",i[m.name]||0,m.name===u&&y.jsx("span",{className:"ml-1 text-red-500",children:"- Buzzed"})]})]}),t&&m.name!==e&&y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{onClick:()=>l(m.name,-o),className:"w-5 h-5 bg-red-500 text-white rounded-full text-xs",children:""}),y.jsx("button",{onClick:()=>l(m.name,o),className:"w-5 h-5 bg-green-500 text-white rounded-full text-xs",children:""})]})]},v))})]})]})})}),y.jsx(or,{children:d&&y.jsx(at.div,{initial:{opacity:0},animate:{opacity:0},exit:{opacity:0},onClick:()=>f(!1),className:"fixed inset-0 z-30"})})]})};function wT(){var Wt,en,We;const{gameId:t}=Cd(),e=Ln(),r=((Wt=e.state)==null?void 0:Wt.playerName)||"",[i,o]=b.useState(null),l=((en=e.state)==null?void 0:en.isHost)||!1,[u,d]=b.useState(((We=e.state)==null?void 0:We.players)||[]),[f,h]=b.useState(null),[m,v]=b.useState(null),[w,x]=b.useState(new Set),[k,C]=b.useState(!0),[j,E]=b.useState(!1),[$,D]=b.useState(null),[U,_]=b.useState("firstBoard"),[z,Q]=b.useState({}),[K,ne]=b.useState(!1),[ce,ve]=b.useState(100),[Ee,Oe]=b.useState(!1),[be,je]=b.useState(!1),[Ie,we]=b.useState(null),[O,M]=b.useState({}),[B,P]=b.useState(null),[N,Z]=b.useState(-1),[oe,ee]=b.useState(!1),[G,ae]=b.useState({firstBoard:{categories:[{category:"",values:[]}]},secondBoard:{categories:[{category:"",values:[]}]},finalJeopardy:{categories:[{category:"",values:[]}]}}),{socket:ie,isSocketReady:se}=Bo(),{deviceType:Te}=T0(),gt=b.useCallback(()=>{console.log("leave game called"),ie&&se&&ie.send(JSON.stringify({type:"leave-game",gameId:t}))},[ie,se,t]),{setIsLeavingPage:Ut}=j0({shouldBlock:!oe,onLeave:gt,confirmMessage:"Are you sure you want to leave? This will remove you from the current game."});b.useEffect(()=>{ie&&se&&(ie.onmessage=fe=>{const q=JSON.parse(fe.data);if(console.log(q),q.type==="game-state"&&(d(q.players),o(q.host),h(q.buzzResult?q.buzzResult:null),console.log(q.boardData),ae(q.boardData),Q(q.scores||{}),q.clearedClues&&ht(q.clearedClues),q.selectedClue&&v({...q.selectedClue,showAnswer:q.selectedClue.isAnswerRevealed||!1})),q.type==="final-jeopardy"&&_("finalJeopardy"),q.type==="wager-update"&&console.log(`Player ${q.player} submitted a wager of $${q.wager}`),q.type==="all-wagers-submitted"){const{wagers:Ce}=q;console.log("All wagers have been submitted! Final Jeopardy can begin."),Oe(!0),M(Ce),zt(G.finalJeopardy.categories[0].values[0])}if(q.type==="player-list-update"){const Ce=[...q.players].sort((Ze,nt)=>Ze.name===q.host?-1:nt.name===q.host?1:0);d(Ce),o(q.host)}if(q.type==="buzz-result"&&(h(q.playerName),P(null),Z(0)),q.type==="buzzer-locked"&&C(!0),q.type==="buzzer-unlocked"&&C(!1),q.type==="reset-buzzer"&&(h(null),C(!0)),q.type==="game-over"&&(Ut(!0),ee(!0)),q.type==="clue-selected"&&(v({...q.clue,showAnswer:!1}),q.clearedClues&&x(new Set(q.clearedClues))),q.type==="timer-start"){const{endTime:Ce,duration:Ze,timerVersion:nt}=q;D(nt),P(Ce),Z(Ze)}if(q.type==="timer-end"&&q.timerVersion===$&&(P(null),Z(0)),q.type==="answer-revealed"&&(v(Ce=>Ce&&{...Ce,showAnswer:!0}),E(!0),P(null),Z(0)),q.type==="all-clues-cleared"){const Ce=q.clearedClues;Ce&&Array.isArray(Ce)&&x(new Set(Ce))}if(q.type==="clue-cleared"){const{clueId:Ce}=q;x(Ze=>new Set(Ze).add(Ce))}if(q.type==="returned-to-board"&&(v(null),h(null),P(null),Z(0)),q.type==="transition-to-second-board"&&(_("secondBoard"),x(new Set)),q.type==="update-scores"&&Q(q.scores),q.type==="all-final-jeopardy-drawings-submitted"){const{drawings:Ce}=q;we(Ce),console.log("All players have submitted their drawings.")}},ie.send(JSON.stringify({type:"request-player-list",gameId:t})))},[t,r,l,se]),b.useEffect(()=>{ie&&se&&ie.send(JSON.stringify({type:"update-cleared-clues",gameId:t,clearedClues:Array.from(w)})),U==="firstBoard"&&G.firstBoard.categories[0].category!==""&&G.firstBoard.categories.every(fe=>fe.values.every(q=>w.has(`${q.value}-${q.question}`)))?ie&&se&&(ie.send(JSON.stringify({type:"transition-to-second-board",gameId:t})),_("secondBoard"),je(!1)):U==="secondBoard"&&G.firstBoard.categories[0].category!==""&&G.secondBoard.categories.every(fe=>fe.values.every(q=>w.has(`${q.value}-${q.question}`)))&&ie&&se&&(ie.send(JSON.stringify({type:"transition-to-final-jeopardy",gameId:t})),_("finalJeopardy"),je(!0))},[w,t,U,se]);const ht=fe=>{x(q=>{const Ce=new Set(q);return fe.forEach(Ze=>Ce.add(Ze)),Ce})},ut=(fe,q)=>{be&&Ee&&(q=O[fe]);const Ce={...z,[fe]:(z[fe]||0)+q};Q(Ce),ie&&se&&ie.send(JSON.stringify({type:"update-score",gameId:t,player:fe,delta:q}))},Pt=()=>{if(ie&&se){if(ie.send(JSON.stringify({type:"mark-all-complete",gameId:t})),U==="firstBoard"){const fe=G.firstBoard.categories.flatMap(q=>q.values.map(Ce=>`${Ce.value}-${Ce.question}`));x(new Set(fe))}else if(U==="secondBoard"){const fe=G.secondBoard.categories.flatMap(q=>q.values.map(Ce=>`${Ce.value}-${Ce.question}`));x(new Set(fe.splice(0,25)))}}},Ve=()=>{if(!(f||K)){if(k){ne(!0),setTimeout(()=>{ne(!1)},1e3);return}ie&&se&&ie.send(JSON.stringify({type:"buzz",gameId:t,playerName:r}))}},zt=fe=>{l&&fe&&(ie&&se&&ie.send(JSON.stringify({type:"clue-selected",gameId:t,clue:fe})),v(fe),fe.value!==void 0&&ve(fe.value))};return G?y.jsxs("div",{className:"flex h-screen w-screen overflow-hidden font-sans bg-gradient-to-r from-indigo-400 to-blue-700",children:[Te==="mobile"?y.jsx(vT,{isHost:l,host:i,players:u,scores:z,buzzResult:f,lastQuestionValue:ce,handleScoreUpdate:ut}):y.jsx(gT,{isHost:l,host:i,players:u,scores:z,buzzResult:f,lastQuestionValue:ce,activeBoard:U,handleScoreUpdate:ut,markAllCluesComplete:Pt}),y.jsx("div",{className:"flex flex-1 justify-center items-center overflow-hidden p-0",children:oe?y.jsx(yT,{scores:z}):y.jsx(y.Fragment,{children:y.jsx(mT,{boardData:G[U].categories,isHost:l,onClueSelected:zt,selectedClue:m||null,gameId:t||"",clearedClues:w,players:u,scores:z,currentPlayer:r,allWagersSubmitted:Ee,isFinalJeopardy:be,drawings:Ie,setBuzzerLocked:C,setBuzzResult:h,handleBuzz:Ve,buzzerLocked:k,buzzResult:f,buzzLockedOut:K,timerEndTime:B,timerDuration:N,showAnswer:j,setShowAnswer:E})})})]}):y.jsx("p",{children:"Loading board... Please wait!"})}const xT=({gameId:t,host:e,players:r,copySuccess:i,setCopySuccess:o})=>{const l=()=>{t&&(navigator.clipboard.writeText(t),o(!0),setTimeout(()=>o(!1),2e3))};return y.jsxs("div",{className:"flex flex-col h-full w-full gap-5 box-border relative z-30",children:[y.jsxs("div",{onClick:l,className:"bg-gradient-to-br from-[#6a11cb] to-[#2575fc] text-white rounded-xl p-5 shadow-lg transition-all duration-200 cursor-pointer hover:scale-105 hover:shadow-xl",children:[y.jsxs("p",{className:"text-lg font-bold m-0",children:[y.jsx("strong",{children:"Lobby ID:"})," ",t]}),y.jsx("p",{className:"text-sm text-center mt-2 -mb-3",children:"(click to copy)"})]}),y.jsx("div",{className:"relative",children:i&&y.jsx("div",{className:"absolute -mt-2 px-3.5 py-2.5 left-3 bg-green-500 rounded-md text-white text-sm text-center shadow-md",children:"Game ID copied to clipboard!"})}),y.jsxs("div",{className:"flex flex-col gap-3 -mt-7",children:[y.jsx("h2",{className:"text-2xl font-extrabold bg-gradient-to-r from-[#1e88e5] via-[#3d5afe] to-[#5c6bc0] text-white px-5 py-5 rounded-lg text-center shadow-md",children:"Players"}),y.jsx("ul",{className:"list-none p-0 m-0 flex flex-wrap lg:flex-col lg:w-full gap-4",children:r.map((u,d)=>y.jsxs("li",{className:`flex items-center w-full lg:w-full p-3 rounded-lg text-base shadow-sm text-blue-500 ${e===u.name?"bg-yellow-200":"bg-gray-100"}`,children:[y.jsx(ws,{name:u.name,size:"8",color:u.color,textColor:u.text_color}),y.jsxs("div",{className:"flex flex-col ml-3",children:[y.jsx("span",{className:e===u.name?"font-bold":"",children:u.name}),e===u.name&&y.jsx("span",{className:"text-yellow-500 text-sm -mt-2",children:"Host"})]})]},d))})]})]})},R0=({message:t="Loading"})=>y.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-5.5rem)] w-screen bg-gradient-to-r from-indigo-400 to-blue-700 text-white text-center",children:[y.jsxs("div",{className:"relative w-16 h-16 mb-8",children:[y.jsx("div",{className:"w-full h-full border-4 border-white border-t-transparent rounded-full animate-spin"}),y.jsx("div",{className:"absolute top-1/2 left-1/2 w-12 h-12 bg-gradient-to-r from-indigo-400 to-blue-700 rounded-full transform -translate-x-1/2 -translate-y-1/2"})]}),y.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-wide",children:t.split("").map((e,r)=>y.jsx("span",{className:"inline-block animate-jump",style:{animationDelay:`${r*.05}s`},children:e===" "?"":e},r))})]}),N0=[{value:"gpt-4o-mini",label:"GPT-4o-mini",price:0,disabled:!1},{value:"o1-mini",label:"o1-mini",price:100,disabled:!0,hideTemp:!0,presetTemp:1},{value:"gpt-4o",label:"GPT-4o",price:100,disabled:!0},{value:"claude-3-5-sonnet-latest",label:"Claude-3.5-sonnet",price:200,disabled:!0},{value:"claude-3-5-haiku-latest",label:"Claude-3.5-haiku",price:100,disabled:!0},{value:"deepseek-chat",label:"DeepSeek Chat",price:0,disabled:!1},{value:"deepseek-reasoner",label:"DeepSeek Reasoner",price:100,disabled:!0}],ST=({selectedModel:t,temperature:e,timeToBuzz:r,timeToAnswer:i,onModelChange:o,setTemperature:l,setTimeToBuzz:u,setTimeToAnswer:d,onCreateGame:f})=>{const{profile:h}=gi(),m=N0.reduce((x,k)=>(x[k.price]||(x[k.price]=[]),x[k.price].push(k),x),{});function v(x){return!(x.price===0||h&&(h.role==="admin"||h.role==="privileged"||h.tokens>=x.price))}const w=(x,k)=>{const C=parseInt(x.target.value);if(isNaN(C))return;const j=Math.min(Math.max(C,5),60);k(j)};return y.jsxs("div",{className:"flex flex-col sm:flex-row justify-start mt-3 items-center pl-8 gap-5",children:[y.jsx("div",{className:"flex flex-col justify-center sm:mr-5",children:y.jsxs("div",{className:"flex flex-col justify-center items-start bg-gray-50 px-20 py-5 rounded-lg border border-gray-300 shadow-md flex-shrink-0",children:[y.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[y.jsx("label",{className:"text-gray-800 text-lg",children:"Model Selection:"}),y.jsx("select",{value:t,onChange:o,className:"p-2 rounded border border-gray-300 text-black w-full bg-white cursor-pointer",children:Object.entries(m).map(([x,k])=>y.jsx("optgroup",{label:`Cost: ${x==="0"?"Free":`${x} tokens`}`,children:k.map(C=>y.jsx("option",{value:C.value,disabled:v(C),children:C.label},C.value))},x))})]}),y.jsxs("div",{className:"flex flex-col gap-2 w-full mb-3",children:[y.jsxs("label",{className:"text-gray-800 text-lg",children:["Temperature: ",e.toFixed(2)]}),y.jsx("input",{type:"range",min:"0",max:"1.2",step:"0.1",value:e,onChange:x=>l(parseFloat(x.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),y.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[y.jsx("label",{className:"text-gray-800 text-lg",children:"Time to Buzz:"}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx("input",{type:"number",min:"5",max:"60",value:r===-1?"":r,onChange:x=>w(x,u),disabled:r===-1,placeholder:"5-60",className:`p-2 rounded border border-gray-300 text-black w-24 ${r===-1?"bg-gray-100":"bg-white"}`}),y.jsx("span",{className:"text-gray-600",children:"seconds"}),y.jsxs("div",{className:"flex items-center ml-2",children:[y.jsx("input",{type:"checkbox",id:"infiniteTime",checked:r===-1,onChange:()=>u(r===-1?30:-1),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),y.jsx("label",{htmlFor:"infiniteTime",className:"ml-2 text-gray-700",children:"Infinite Time"})]})]})]}),y.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[y.jsx("label",{className:"text-gray-800 text-lg",children:"Time to Answer:"}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx("input",{type:"number",min:"5",max:"60",value:i===-1?"":i,onChange:x=>w(x,d),disabled:i===-1,placeholder:"5-60",className:`p-2 rounded border border-gray-300 text-black w-24 ${i===-1?"bg-gray-100":"bg-white"}`}),y.jsx("span",{className:"text-gray-600",children:"seconds"}),y.jsxs("div",{className:"flex items-center ml-2",children:[y.jsx("input",{type:"checkbox",id:"infiniteTime2",checked:i===-1,onChange:()=>d(i===-1?30:-1),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),y.jsx("label",{htmlFor:"infiniteTime2",className:"ml-2 text-gray-700",children:"Infinite Time"})]})]})]})]})}),y.jsx("button",{onClick:f,className:"text-2xl px-10 py-5 bg-blue-600 text-white rounded-lg cursor-pointer max-w-[500px] shadow-md hover:bg-blue-500 transition sm:ml-5 sm:mt-0 mt-5",children:"Start Game"})]})},bT=({category:t,isHost:e,onChangeCategory:r,onRandomizeCategory:i,lockedCategories:o,onToggleLock:l})=>y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl -mt-3 text-black font-bold",children:"Final Jeopardy!"}),y.jsxs("div",{className:"flex items-center gap-2.5 flex-1 mt-3 ",children:[y.jsx("input",{type:"text",value:t,disabled:o[0],onChange:u=>r("finalJeopardy",void 0,u.target.value),placeholder:"Enter Final Jeopardy Category",className:"text-[1.2rem] p-[10px] rounded border text-black bg-gray-50 border-gray-300 flex-1 min-w-0"}),e&&y.jsxs("div",{children:[y.jsx("button",{onClick:()=>l("finalJeopardy",0),disabled:!e,className:`text-[1rem] py-[10px] px-[15px] ${o[0]?"bg-red-600":"bg-indigo-500"} text-white rounded cursor-pointer mr-2`,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsxs(y.Fragment,{children:[y.jsx("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",ry:"2"}),y.jsx("path",{d:"M8 11V7a4 4 0 1 1 8 0v4"})]})})}),y.jsx("button",{onClick:()=>i("finalJeopardy"),className:"text-[1rem] py-[10px] px-[15px] bg-blue-700 text-white rounded cursor-pointer",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:y.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"})})})]})]})]}),ay=({title:t,categories:e,isHost:r,lockedCategories:i,boardType:o,onChangeCategory:l,onRandomizeCategory:u,onToggleLock:d})=>y.jsxs("div",{className:"min-w-0",children:[y.jsx("h2",{className:"text-3xl mb-4 text-black font-bold",children:t}),e.map((f,h)=>y.jsxs("div",{className:"flex items-center mb-3 gap-2.5 flex-nowrap",children:[y.jsx("input",{id:`${t}-${h}`,type:"text",value:f||"",onChange:m=>l(o,h,m.target.value),placeholder:`Category ${h+1}`,className:"text-[1.2rem] p-[10px] rounded border text-black bg-gray-50 border-gray-300 flex-1 min-w-0",disabled:i[h]}),r&&y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>d(o,h),disabled:!r,className:`text-[1rem] py-[10px] px-[15px] ${i[h]?"bg-red-600":"bg-indigo-500"} text-white rounded cursor-pointer`,children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",ry:"2"}),y.jsx("path",{d:"M8 11V7a4 4 0 1 1 8 0v4"})]})}),y.jsx("button",{onClick:()=>u(o,h),className:"text-[1rem] py-[10px] px-[15px] bg-blue-700 text-white rounded cursor-pointer",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:y.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"})})})]})]},h))]}),kT=()=>{var Z,oe;const t=Ln(),[e,r]=b.useState({firstBoard:["","","","",""],secondBoard:["","","","",""],finalJeopardy:""}),i=((Z=t.state)==null?void 0:Z.isHost)||!1,{gameId:o}=Cd(),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[h,m]=b.useState(""),[v,w]=b.useState(.1),[x,k]=b.useState(10),[C,j]=b.useState(10),[E,$]=b.useState(!1),[D,U]=b.useState(((oe=t.state)==null?void 0:oe.players)||[]),[_,z]=b.useState(null),[Q,K]=b.useState("gpt-4o-mini"),[ne,ce]=b.useState({firstBoard:Array(5).fill(!1),secondBoard:Array(5).fill(!1),finalJeopardy:Array(1).fill(!1)}),{socket:ve,isSocketReady:Ee}=Bo(),Oe=ur(),{profile:be}=gi(),{showAlert:je}=$l(),Ie=()=>{console.log("leave lobby called"),ve&&Ee&&(be!=null&&be.displayname)&&ve.send(JSON.stringify({type:"leave-lobby",gameId:o,playerId:be.displayname}))},{setIsLeavingPage:we}=j0({shouldBlock:!d,onLeave:Ie,confirmMessage:"Are you sure you want to leave? This will remove you from the current lobby."});b.useEffect(()=>{d&&ve&&Ee&&be&&be.displayname&&(ve.send(JSON.stringify({type:"join-game",gameId:o,playerName:be==null?void 0:be.displayname})),Oe(`/game/${o}`,{state:{playerName:be==null?void 0:be.displayname.trim(),isHost:i,host:_}}))},[d]),b.useEffect(()=>{ve&&Ee&&(ve.onmessage=ee=>{const G=JSON.parse(ee.data);if(console.log(G),G.type==="player-list-update"){const ae=[...G.players].sort((ie,se)=>ie.name===G.host?-1:se.name===G.host?1:0);U(ae),z(G.host)}G.type==="lobby-state"&&(U(G.players),z(G.host),G.categories&&(console.log(G.categories),r({firstBoard:G.categories.slice(0,5),secondBoard:G.categories.slice(5,10),finalJeopardy:G.categories[10]})),G.lockedCategories&&ce({firstBoard:G.lockedCategories.firstBoard,secondBoard:G.lockedCategories.secondBoard,finalJeopardy:G.lockedCategories.finalJeopardy})),G.type==="category-lock-updated"&&(console.log(G),G.boardType in ne?ce(ae=>{const ie={...ae};return ie[G.boardType][G.index]=G.locked,ie}):console.error(`Invalid boardType: ${G.boardType}`)),G.type==="categories-updated"&&r({firstBoard:G.categories.slice(0,5),secondBoard:G.categories.slice(5,10),finalJeopardy:G.categories[10]}),G.type==="trigger-loading"&&(u(!0),m("Generating your questions")),G.type==="create-board-failed"&&(u(!1),je(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"Game generation failed."}),y.jsx("br",{}),y.jsx("span",{className:"text-gray-900 font-bold text-xl",children:"Try again. If the issue persists try another model."}),y.jsx("br",{})]}),[{label:"Okay",actionValue:"continue",styleClass:"bg-green-500 text-white hover:bg-green-600"}])),G.type==="start-game"&&be&&(u(!1),we(!0),f(!0)),G.type==="check-lobby-response"&&(console.log(G.isValid),G.isValid?u(!1):Oe("/"))},ve.send(JSON.stringify({type:"check-lobby",gameId:o})),u(!0))},[Ee,o]);const O=(ee,G)=>{ve&&Ee&&ve.send(JSON.stringify({type:"toggle-lock-category",gameId:o,boardType:ee,index:G,locked:!ne[ee][G]}))},M=ee=>{K(ee.target.value)},B=(ee,G,ae)=>{r(ie=>{if(ee==="finalJeopardy"){const gt={...ie,finalJeopardy:ae};return ve&&Ee&&ve.send(JSON.stringify({type:"update-categories",gameId:o,categories:[...gt.firstBoard,...gt.secondBoard,gt.finalJeopardy]})),gt}const se=[...ie[ee]];G!==void 0&&(se[G]=ae);const Te={...ie,[ee]:se};return ve&&Ee&&ve.send(JSON.stringify({type:"update-categories",gameId:o,categories:[...Te.firstBoard,...Te.secondBoard,Te.finalJeopardy]})),Te})},P=(ee,G)=>{r(ae=>{const ie={...ae};if(ee==="finalJeopardy"){let se;do se=yo[Math.floor(Math.random()*yo.length)];while(ae.firstBoard.includes(se)||ae.secondBoard.includes(se)||ae.finalJeopardy===se);ie.finalJeopardy=se}else if(G!==void 0){const se=[...ie[ee]];let Te;do Te=yo[Math.floor(Math.random()*yo.length)];while(se.includes(Te)||ae.firstBoard.includes(Te)||ae.secondBoard.includes(Te));se[G]=Te,ie[ee]=se}return i&&ve&&Ee&&ve.send(JSON.stringify({type:"update-categories",gameId:o,categories:[...ie.firstBoard,...ie.secondBoard,ie.finalJeopardy]})),ie})},N=async()=>{if(!be){je(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"You need to be logged in to do this."}),y.jsx("br",{})]}),[{label:"Okay",actionValue:"okay",styleClass:"bg-green-500 text-white hover:bg-green-600"}]);return}if(e.firstBoard.some(ee=>!ee.trim())||e.secondBoard.some(ee=>!ee.trim())){je(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"Please fill in all the categories"}),y.jsx("br",{})]}),[{label:"Okay",actionValue:"okay",styleClass:"bg-green-500 text-white hover:bg-green-600"}]);return}try{u(!0),m("Generating your questions"),ve&&Ee&&ve.send(JSON.stringify({type:"create-game",gameId:o,host:be.displayname,temperature:v,timeToBuzz:x,timeToAnswer:C,categories:[...e.firstBoard,...e.secondBoard,e.finalJeopardy],selectedModel:Q}))}catch(ee){console.error("Failed to generate board data:",ee),alert("Failed to generate board data. Please try again.")}};return l?y.jsx(R0,{message:h}):y.jsx("div",{className:"min-h-[calc(100vh-5.5rem)] bg-gradient-to-r from-indigo-400 to-blue-700 p-6",children:y.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-2xl overflow-hidden w-full max-w-6xl mx-auto",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4",children:[y.jsx("div",{className:"lg:col-span-1 border-r border-gray-200 bg-gray-50 p-6",children:y.jsx(xT,{gameId:o,host:_,players:D,copySuccess:E,setCopySuccess:$})}),y.jsxs("div",{className:"lg:col-span-3 p-8",children:[y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ",children:[y.jsx("div",{className:"min-w-0",children:y.jsx(ay,{title:"Jeopardy!",categories:e.firstBoard,isHost:i,lockedCategories:ne.firstBoard,boardType:"firstBoard",onChangeCategory:B,onRandomizeCategory:P,onToggleLock:O})}),y.jsx("div",{className:"min-w-0",children:y.jsx(ay,{title:"Double Jeopardy!",categories:e.secondBoard,isHost:i,lockedCategories:ne.secondBoard,boardType:"secondBoard",onChangeCategory:B,onRandomizeCategory:P,onToggleLock:O})})]}),y.jsx(bT,{category:e.finalJeopardy,isHost:i,onChangeCategory:B,onRandomizeCategory:P,lockedCategories:ne.finalJeopardy,onToggleLock:O})]}),i&&y.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-8 border-t border-gray-200 pt-6",children:y.jsx(ST,{selectedModel:Q,onModelChange:M,onCreateGame:N,temperature:v,timeToBuzz:x,setTemperature:w,setTimeToBuzz:k,timeToAnswer:C,setTimeToAnswer:j})})]})]})})})},_T=({value:t,question:e,answer:r})=>{const[i,o]=b.useState(!1);return y.jsxs("div",{className:"mb-2",children:[y.jsxs("button",{onClick:()=>o(!i),className:"w-full text-left font-medium text-base text-gray-800 flex justify-between items-center focus:outline-none hover:text-blue-700 transition-colors duration-200",children:[y.jsxs("span",{children:["$",t,": ",e]}),y.jsx("span",{className:`ml-2 text-2xl transition-transform duration-300 ${i?"rotate-180 text-blue-700":"text-gray-900"}`,children:i?"-":"+"})]}),y.jsxs("div",{className:"mt-1 ml-2 transition-opacity duration-300 text-md text-gray-700",style:{opacity:i?1:0},children:["- ",r]})]})},li=({category:t,values:e})=>{const[r,i]=b.useState(!1);return y.jsxs("div",{className:"mb-2",children:[y.jsxs("button",{onClick:()=>i(!r),className:`w-full text-left font-bold text-lg focus:outline-none flex justify-between items-center
          ${r?"text-blue-700":"text-gray-900"}
          hover:bg-gray-200 hover:rounded-lg py-1 px-2 transition-all duration-300`,children:[y.jsx("span",{children:t}),y.jsx("span",{className:`ml-2 text-xl transform transition-transform duration-300 ${r?"rotate-180":"rotate-0"}`,children:r?"":""})]}),y.jsx("div",{className:`ml-3 overflow-hidden transition-all duration-500 ease-out ${r?"max-h-[1000px]":"max-h-0"}`,style:{opacity:r?1:0},children:e.map((o,l)=>y.jsx(_T,{value:o.value,question:o.question,answer:o.answer},l))})]})},CT=({game:t})=>{var o,l,u;const[e,r]=b.useState(!0),i=()=>r(!e);return y.jsxs("div",{className:"bg-white border border-gray-200 shadow-md rounded-lg p-6 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Model: ",y.jsx("span",{className:"font-normal",children:t.model})]}),y.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded transition-colors duration-200 hover:bg-blue-700",children:e?"Expand":"Collapse"})]}),!e&&y.jsxs("div",{className:"mt-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"First Board"}),(o=t.firstBoard)==null?void 0:o.categories.map((d,f)=>y.jsx(li,{category:d.category,values:d.values},f))]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Second Board"}),(l=t.secondBoard)==null?void 0:l.categories.map((d,f)=>y.jsx(li,{category:d.category,values:d.values},f))]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Final Jeopardy"}),(u=t.finalJeopardy)==null?void 0:u.categories.map((d,f)=>y.jsx(li,{category:d.category,values:d.values.map(h=>({value:0,question:h.question,answer:h.answer}))},f))]})]})]})},A0=b.createContext({userProfile:null,loading:!0,error:null,refetchProfile:async()=>{},updateColor:async()=>{}}),ET=({children:t})=>{const[e,r]=b.useState(null),[i,o]=b.useState(!0),[l,u]=b.useState(null),{user:d,loading:f}=mi(),h=async()=>{try{if(o(!0),d){const{data:v,error:w}=await Zt.from("user_profiles").select("*").eq("id",d.id).single();if(w)throw new Error(w.message);r(v)}else r(null)}catch(v){console.error("Error fetching profile:",v.message),u(v.message)}finally{o(!1)}},m=async(v,w)=>{if(!d){console.error("No user logged in, cannot update color");return}try{const{error:x}=await Zt.from("user_profiles").update({[w]:v}).eq("id",d.id);if(x)throw new Error(x.message);r(k=>k?{...k,[w]:v}:null)}catch(x){console.error("Error updating color:",x.message),u(x.message)}};return b.useEffect(()=>{h()},[d,f]),y.jsx(A0.Provider,{value:{userProfile:e,loading:i,error:l,refetchProfile:h,updateColor:m},children:t})},L0=()=>{const t=b.useContext(A0);if(!t)throw new Error("useProfile must be used within a ProfileProvider");return t},PT=()=>{const{username:t}=Cd(),[e,r]=b.useState(null),[i,o]=b.useState([]),[l,u]=b.useState(!0),[d,f]=b.useState(null),[h,m]=b.useState(null),[v,w]=b.useState(null),{user:x}=mi(),{userProfile:k,updateColor:C}=L0();b.useEffect(()=>{(async()=>{u(!0),f(null);const{data:U,error:_}=await Zt.from("profiles").select("*").eq("username",t).single();if(_){f(_.message),u(!1);return}r(U);const{data:z,error:Q}=await Zt.from("jeopardy_boards").select("*").eq("board->>host",U.displayname).order("created_at",{ascending:!1}).limit(5);if(Q)f(Q.message);else{const ce=(z==null?void 0:z.map(({board:ve})=>ve))||[];o(ce)}const{data:K,error:ne}=await Zt.from("user_profiles").select("*").eq("id",U.id).single();if(ne){f(ne.message),u(!1);return}m(K.color),w(K.text_color),u(!1)})()},[t]),b.useEffect(()=>{console.log("userProfile",k),k&&x&&k.id===x.id&&(m(k.color),w(k.text_color))},[k]);const j=async(D,U)=>{if(x)switch(await C(D,U),U){case"color":m(D);break;case"text_color":w(D);break}},E=["bg-blue-500","bg-indigo-500","bg-cyan-500","bg-sky-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-lime-500","bg-yellow-500","bg-amber-500","bg-orange-500","bg-red-500","bg-rose-500","bg-pink-500","bg-fuchsia-500","bg-purple-500","bg-violet-500","bg-gray-500","bg-stone-500","bg-slate-500","bg-zinc-500","bg-black","bg-white"],$=["text-blue-500","text-indigo-500","text-cyan-500","text-sky-500","text-green-500","text-emerald-500","text-teal-500","text-lime-500","text-yellow-500","text-amber-500","text-orange-500","text-red-500","text-rose-500","text-pink-500","text-fuchsia-500","text-purple-500","text-violet-500","text-gray-500","text-stone-500","text-slate-500","text-zinc-500","text-black","text-white"];return l?y.jsx(R0,{message:"Loading profile"}):d||!e?y.jsx("div",{className:"flex items-center justify-center h-screen",children:y.jsx("p",{className:"text-xl text-red-600",children:d||"Profile not found."})}):y.jsx("div",{className:"min-h-screen bg-gradient-to-r from-indigo-400 to-blue-700 flex items-center justify-center p-6",children:y.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl w-full bg-white rounded-xl shadow-2xl overflow-hidden p-6",children:y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-16 h-16 flex-shrink-0",children:y.jsx(ws,{name:t||"A",size:"16",color:h,textColor:v})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-500",children:e.displayname}),e.role==="admin"&&y.jsx("h3",{className:"text-sm mt-1 text-red-600",children:e.role.charAt(0).toUpperCase()+e.role.slice(1).toLowerCase()}),e.bio&&y.jsx("p",{className:"mt-1 text-gray-600",children:e.bio})]})]}),(x==null?void 0:x.id)===e.id&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"User Settings"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Background Color"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(D=>y.jsx("div",{className:`w-8 h-8 rounded-full border border-gray-300 cursor-pointer ${D} ${h===D?"ring-4 ring-blue-400":""}`,onClick:()=>j(D,"color")},D))})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Icon Color"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(D=>y.jsx("div",{className:`w-8 h-8 rounded-full border border-gray-300 cursor-pointer ${D.replace("text","bg")} ${v===D?"ring-4 ring-blue-400":""}`,onClick:()=>j(D,"text_color")},D))})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Player Stats"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow",children:[y.jsx("p",{className:"text-gray-800",children:"Boards Generated"}),y.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.boards_generated??"Coming soon!"})]}),y.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow",children:[y.jsx("p",{className:"text-gray-800",children:"Games Finished"}),y.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.games_finished??"Coming soon!"})]}),y.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow",children:[y.jsx("p",{className:"text-gray-800",children:"Games Won"}),y.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.games_won??"Coming soon!"})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Recently Generated Boards"}),y.jsx("div",{className:"space-y-4",children:i.length>0?i.map((D,U)=>y.jsx(CT,{game:D},U)):y.jsx("p",{className:"text-gray-600 italic",children:"No boards generated yet."})})]})]})})})},TT=({game:t})=>{var e,r,i;return y.jsxs("div",{className:"bg-gray-50 border border-gray-200 shadow-md rounded-lg p-6 mb-8",children:[y.jsxs("div",{className:"mb-4 border-b pb-2",children:[y.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:["Host:"," ",y.jsx(To,{to:`/profile/${t.host.toLowerCase()}`,className:"text-blue-600 hover:underline font-normal transition",children:t.host})]}),y.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:["Model: ",y.jsx("span",{className:"font-normal",children:t.model})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-800",children:"First Board"}),(e=t.firstBoard)==null?void 0:e.categories.map((o,l)=>y.jsx(li,{category:o.category,values:o.values},l))]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-800",children:"Second Board"}),(r=t.secondBoard)==null?void 0:r.categories.map((o,l)=>y.jsx(li,{category:o.category,values:o.values},l))]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-800",children:"Final Jeopardy"}),(i=t.finalJeopardy)==null?void 0:i.categories.map((o,l)=>y.jsx(li,{category:o.category,values:o.values.map(u=>({value:0,question:u.question,answer:u.answer}))},l))]})]})},jT=()=>{const[t,e]=b.useState([]),[r,i]=b.useState(!1),[o,l]=b.useState(!0),[u,d]=b.useState(null),f=b.useRef(null),h=async(m=0,v=10)=>{if(r||!o)return;i(!0);let w=Zt.from("jeopardy_boards").select("board").order("created_at",{ascending:!1}).range(m,m+v-1);u&&(w=w.eq("board->>model",u));const{data:x,error:k}=await w;if(k)console.error("Error fetching boards:",k.message);else if(x){const C=x.map(({board:j})=>j);e(j=>[...j,...C]),x.length<v&&l(!1)}else l(!1);i(!1)};return b.useEffect(()=>{e([]),l(!0),h(0)},[u]),b.useEffect(()=>{const m=new IntersectionObserver(v=>{v[0].isIntersecting&&o&&!r&&h(t.length)},{threshold:1});return f.current&&m.observe(f.current),()=>{f.current&&m.unobserve(f.current)}},[t.length,r,o]),y.jsx("div",{className:"min-h-screen bg-gradient-to-r from-indigo-400 to-blue-700 flex flex-col items-center p-6",children:y.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-2xl overflow-hidden w-full max-w-6xl",children:y.jsxs("div",{className:"p-10",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8 text-center",children:"Recent Boards"}),y.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mb-6",children:[N0.map(m=>y.jsx("button",{onClick:()=>d(m.value===u?null:m.value),className:`px-4 py-2 rounded-full transition-all duration-300 text-sm sm:text-base font-semibold shadow-md ${u===m.value?"bg-blue-500 text-white border border-blue-600 scale-105 ring-2 ring-blue-300":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:scale-105"}`,children:m.label},m.value)),y.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 rounded-full bg-red-500 hover:bg-red-600 text-white shadow-md hover:scale-105 transition-all duration-300 text-sm sm:text-base font-semibold",children:"Clear Filter"})]}),y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map((m,v)=>y.jsx(TT,{game:m},v))}),r&&y.jsx("div",{className:"text-center text-gray-700 my-4 italic",children:"Loading more boards..."}),!o&&!r&&y.jsx("div",{className:"text-center text-gray-700 my-4 italic",children:"No more boards to load."}),y.jsx("div",{ref:f,className:"h-12"})]})})})};function RT(){const t=ur();return y.jsx("div",{className:"min-h-[calc(100vh-5.5rem)] bg-gradient-to-r from-indigo-400 to-blue-700 flex items-center justify-center p-6",children:y.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-2xl overflow-hidden w-full max-w-2xl p-10",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-9xl font-extrabold text-gray-900 mb-4",children:"404"}),y.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Question Not Found"}),y.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"The answer you're looking for seems to be in another category."}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[y.jsx("button",{onClick:()=>t("/"),className:"py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded transition-colors duration-200",children:"Return Home"}),y.jsx("button",{onClick:()=>t(-1),className:"py-3 px-6 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded transition-colors duration-200",children:"Go Back"})]})]})})})}const NT=()=>{const{pathname:t}=Ln();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null},AT=()=>{const[t,e]=b.useState(""),[r,i]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(""),[m,v]=b.useState(""),[w,x]=b.useState(""),[k,C]=b.useState(!1),j=async U=>{try{const{data:_,error:z}=await Zt.from("profiles").select("username").eq("username",U).single();return z&&z.code!=="PGRST116"?(console.error("Error checking username:",z),!0):!!_}catch(_){return console.error("Unexpected error during username check:",_),!0}},E=U=>{const _=U.toLowerCase();return/^[a-zA-Z][a-zA-Z0-9_ ]{2,15}$/.test(_)?/\s{2,}/.test(_)?"Username cannot contain consecutive spaces.":null:"Username must be 3-16 characters, start with a letter, and contain only letters, numbers, spaces, or underscores."},$=async U=>{const _=U.target.value;i(_);const z=_.toLowerCase(),Q=E(z);if(Q)v(Q);else{const K=await j(z);v(K?"Username is already taken. Please choose another.":"")}},D=async U=>{if(U.preventDefault(),h(""),x(""),C(!0),!t||!r||!o||!u){h("All fields are required."),C(!1);return}if(o!==u){h("Passwords do not match."),C(!1);return}if(m){h("Please resolve username issues before signing up."),C(!1);return}try{if(await j(r)){h("Username is already taken. Please choose another."),C(!1);return}const{error:z}=await Zt.auth.signUp({email:t.trim(),password:o.trim(),options:{data:{username:r.trim().toLowerCase(),displayname:r.trim()}}});z?h(z.message):x("Please check your email for a confirmation link.")}catch(_){console.error("Unexpected error during signup:",_),h("An unexpected error occurred. Please try again.")}finally{C(!1)}};return y.jsxs("div",{className:"max-w-sm mx-auto rounded-lg p-6",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center text-blue-500",children:"Sign Up"}),y.jsxs("form",{onSubmit:D,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-blue-500 font-medium",children:"Email"}),y.jsx("input",{type:"email",id:"email",value:t,onChange:U=>e(U.target.value),placeholder:"Enter your email",required:!0,className:"w-full p-3 border border-gray-300 text-black rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"username",className:"block text-blue-500 font-medium",children:"Username"}),y.jsx("input",{type:"text",id:"username",value:r,onChange:$,placeholder:"Enter your username",required:!0,className:`w-full p-3 border rounded text-black focus:outline-none focus:ring-2 ${m?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),m&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:m})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-blue-500 font-medium",children:"Password"}),y.jsx("input",{type:"password",id:"password",value:o,onChange:U=>l(U.target.value),placeholder:"Enter a strong password",required:!0,className:"w-full p-3 border border-gray-300 text-black rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"confirmPassword",className:"block text-blue-500 font-medium",children:"Confirm Password"}),y.jsx("input",{type:"password",id:"confirmPassword",value:u,onChange:U=>d(U.target.value),placeholder:"Confirm your password",required:!0,className:"w-full p-3 border border-gray-300 text-black rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f&&y.jsx("p",{className:"text-red-500 text-sm mt-2",children:f}),w&&y.jsx("p",{className:"text-green-500 text-sm mt-2",children:w}),y.jsx("button",{type:"submit",disabled:k,className:`w-full py-3 bg-blue-500 text-white font-semibold rounded hover:bg-blue-600 focus:outline-none focus:ring-4 focus:ring-blue-300 ${k?"opacity-50 cursor-not-allowed":""}`,children:k?"Signing up...":"Sign Up"})]})]})},LT=()=>{const[t,e]=b.useState(""),[r,i]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(!1),f=async h=>{if(h.preventDefault(),d(!0),l(""),!t||!r){l("Please enter both email and password."),d(!1);return}try{const{data:m,error:v}=await Zt.auth.signInWithPassword({email:t.trim(),password:r.trim()});v?l(v.message):console.log("User logged in:",m.user)}catch(m){console.error("Unexpected error:",m),l("An unexpected error occurred. Please try again.")}finally{d(!1)}};return y.jsxs("div",{className:"max-w-sm mx-auto rounded-lg p-6",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center text-blue-500",children:"Login"}),y.jsxs("form",{onSubmit:f,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-blue-500 font-medium",children:"Email"}),y.jsx("input",{type:"email",id:"email",value:t,onChange:h=>e(h.target.value),placeholder:"Enter your email",required:!0,className:"w-full p-3 border border-gray-300 rounded text-black focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-blue-500 font-medium",children:"Password"}),y.jsx("input",{type:"password",id:"password",value:r,onChange:h=>i(h.target.value),placeholder:"Enter your password",required:!0,className:"w-full p-3 border border-gray-300 rounded text-black focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o&&y.jsx("p",{className:"text-red-500 text-sm mt-2",children:o}),y.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 bg-blue-500 text-white font-semibold rounded hover:bg-blue-600 focus:outline-none focus:ring-4 focus:ring-blue-300 ${u?"opacity-50 cursor-not-allowed":""}`,children:u?"Logging in...":"Login"})]})]})},DT=()=>{const[t,e]=b.useState(!1),[r,i]=b.useState(!1),o=b.useRef(null);b.useEffect(()=>{const d=f=>{o.current&&!o.current.contains(f.target)&&e(!1)};return t?document.addEventListener("mousedown",d):document.removeEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[t]);const l=()=>{e(!t)},u={hidden:{height:0,opacity:0},visible:{height:"auto",opacity:1},exit:{height:0,opacity:0}};return y.jsxs("div",{className:"relative",ref:o,children:[y.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none transition-colors duration-200 shadow-md",children:"Login / Signup"}),y.jsx(or,{children:t&&y.jsx(at.div,{className:"absolute right-0 mt-2 w-80 bg-white p-6 rounded-lg shadow-xl z-10 overflow-hidden",initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},children:y.jsxs(or,{mode:"wait",children:[" ",r?y.jsxs(at.div,{variants:u,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.2},children:[y.jsx(AT,{}),y.jsxs("p",{className:"mt-4 text-center text-gray-700 text-sm",children:["Already have an account?",y.jsx("br",{}),y.jsx("a",{href:"#",onClick:d=>{d.preventDefault(),i(!1)},className:"cursor-pointer text-blue-600 hover:underline",children:"Click here to log in!"})]})]},"signup"):y.jsxs(at.div,{variants:u,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.2},children:[y.jsx(LT,{}),y.jsxs("p",{className:"mt-4 text-center text-gray-700 text-sm",children:["Need an account?",y.jsx("br",{}),y.jsx("a",{href:"#",onClick:d=>{d.preventDefault(),i(!0)},className:"cursor-pointer text-blue-600 hover:underline",children:"Click here to sign up!"})]})]},"login")]})})})]})},OT=()=>{const[t,e]=b.useState(!1),[r,i]=b.useState(!1),{user:o}=mi(),{profile:l}=gi(),{userProfile:u}=L0(),d=b.useRef(null),f=b.useRef(null),h=b.useRef(null),m=Ln(),v=ur(),{showAlert:w}=$l(),x=()=>e(!t),k=async()=>{if(m.pathname.includes("/game/")||m.pathname.includes("/lobby/")){w(y.jsxs("span",{children:[y.jsx("span",{className:"text-red-500 font-bold text-xl",children:"You cannot log out in a game or lobby."}),y.jsx("br",{})]}),[{label:"Okay",actionValue:"stay",styleClass:"bg-green-500 text-white hover:bg-green-600"}]);return}const{error:E}=await Zt.auth.signOut();E?console.error("Error logging out:",E.message):console.log("Logged out successfully!")},C=async j=>{v(j)};return b.useEffect(()=>{const j=E=>{d.current&&!d.current.contains(E.target)&&e(!1),f.current&&h.current&&!f.current.contains(E.target)&&!h.current.contains(E.target)&&i(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),y.jsxs("header",{className:"bg-gradient-to-r from-indigo-400 to-blue-700 text-white w-full h-[5.5rem] shadow-md",children:[y.jsxs("div",{className:"container mx-auto flex items-center py-4 px-6 justify-between h-full",children:[y.jsxs("div",{className:"flex items-center space-x-6",children:[y.jsx("button",{onClick:()=>C("/"),className:"text-2xl md:text-3xl font-bold hover:underline text-blue-700 hover:text-blue-500",children:"AI-Jeopardy.com"}),y.jsx("nav",{className:"hidden md:flex items-center space-x-3",children:y.jsx("button",{onClick:()=>C("/recent-boards"),className:"px-4 text-xl py-2 hover:underline hover:bg-blue-500 rounded text-white hover:text-white",children:"Recent Boards"})})]}),y.jsxs("div",{className:"flex items-center space-x-4 h-full",children:[o&&l&&u?y.jsxs("div",{className:"hidden relative md:block",ref:d,children:[y.jsxs("button",{onClick:x,className:"flex items-center text-xl px-4 py-2 rounded hover:bg-blue-400 focus:outline-none",children:[y.jsx(ws,{name:l.displayname,size:"10",color:u.color,textColor:u.text_color}),y.jsx("span",{className:"ml-3",children:l.displayname}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y.jsx(or,{children:t&&y.jsxs(at.div,{className:"absolute right-0 mt-2 w-48 bg-gray-100 text-black rounded shadow-lg z-50",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[y.jsx("button",{onClick:()=>{C("/profile/"+l.username),e(!1)},className:"block px-4 py-2 text-blue-600 hover:bg-gray-200 text-left w-full",children:"Your Profile"}),y.jsx("button",{onClick:()=>{C("/history"),e(!1)},className:"block px-4 py-2 text-blue-600 hover:bg-gray-200 text-left w-full",children:"History"}),y.jsx("span",{onClick:k,className:"block px-4 py-2 text-red-600 hover:bg-gray-200 cursor-pointer",children:"Log out"})]})})]}):y.jsx(DT,{}),y.jsxs("button",{className:"md:hidden flex items-center px-3 py-2 rounded text-white hover:bg-blue-500 focus:outline-none",onClick:()=>i(!r),ref:h,children:[o&&l&&u&&y.jsx("div",{className:"mr-2",children:y.jsx(ws,{name:l.displayname,size:"10",color:u.color,textColor:u.text_color})}),y.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})]})]}),y.jsx(or,{children:r&&y.jsx(at.div,{className:"absolute top-[5.5rem] inset-x-0 bg-gray-100 text-black rounded shadow-lg z-50",initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{height:0,opacity:0},visible:{height:"auto",opacity:1}},transition:{duration:.4,ease:"easeInOut"},ref:f,children:y.jsxs(at.div,{className:"flex flex-col",initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{opacity:0,transition:{staggerChildren:.1,staggerDirection:-1}},visible:{opacity:1,transition:{staggerChildren:.1}}},children:[y.jsx(at.button,{className:"block px-4 py-2 hover:bg-blue-500 cursor-pointer",onClick:()=>{C("/recent-boards"),e(!1)},variants:{hidden:{opacity:0,y:-10},visible:{opacity:1,y:0},exit:{opacity:0,y:-10}},children:"Recent Boards"}),o&&l&&y.jsxs(y.Fragment,{children:[y.jsx(at.button,{className:"block px-4 py-2 hover:bg-blue-500 cursor-pointer",variants:{hidden:{opacity:0,y:-10},visible:{opacity:1,y:0},exit:{opacity:0,y:-10}},onClick:()=>{C("/profile/"+l.username),e(!1)},children:"Your Profile"}),y.jsx(at.button,{className:"block px-4 py-2 hover:bg-blue-500 cursor-pointer",variants:{hidden:{opacity:0,y:-10},visible:{opacity:1,y:0},exit:{opacity:0,y:-10}},onClick:()=>{C("/history"),e(!1)},children:"Your History"}),y.jsx(at.button,{className:"block px-4 py-2 text-red-600 hover:bg-blue-500 cursor-pointer",variants:{hidden:{opacity:0,y:-10},visible:{opacity:1,y:0},exit:{opacity:0,y:-10}},onClick:()=>{k(),i(!1)},children:"Log out"})]})]})})})]})};function MT(){return y.jsx("footer",{className:"bg-gradient-to-r from-indigo-400 to-blue-700 text-white py-6 mt-8 ",children:y.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[y.jsx("h3",{className:"text-xl font-extrabold"}),y.jsx("p",{className:"mt-2 text-center md:text-left text-sm"})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("h3",{className:"text-xl font-extrabold",children:"Quick Links"}),y.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-center",children:[y.jsx("li",{children:y.jsx(To,{to:"/",className:"hover:underline",children:"Home"})}),y.jsx("li",{children:y.jsx(To,{to:"/recent-boards",className:"hover:underline",children:"Recent Boards"})})]})]}),y.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[y.jsx("h3",{className:"text-xl font-extrabold",children:"Contact Us"}),y.jsx("p",{className:"mt-2 text-center md:text-right text-sm",children:"Discord coming soon!"})]})]}),y.jsx("div",{className:"mt-8 text-center border-t border-gray-200 pt-4",children:y.jsxs("p",{className:"text-xs text-gray-100 font-light",children:[" ",new Date().getFullYear()," AI Jeopardy. All rights reserved."]})})]})})}const po=({children:t})=>y.jsxs(y.Fragment,{children:[y.jsx(NT,{}),y.jsx(OT,{}),t,y.jsx(MT,{})]}),IT=pb([{path:"/",element:y.jsx(po,{children:y.jsx(nT,{})})},{path:"/lobby/:gameId",element:y.jsx(po,{children:y.jsx(kT,{})})},{path:"/game/:gameId",element:y.jsx(wT,{})},{path:"/profile/:username",element:y.jsx(po,{children:y.jsx(PT,{})})},{path:"/recent-boards",element:y.jsx(po,{children:y.jsx(jT,{})})},{path:"*",element:y.jsx(po,{children:y.jsx(RT,{})})}]);Px.createRoot(document.getElementById("root")).render(y.jsx(Sx.StrictMode,{children:y.jsx(dT,{children:y.jsx(C1,{children:y.jsx(E1,{children:y.jsx(ET,{children:y.jsx(P1,{children:y.jsx(eT,{children:y.jsx(Pb,{router:IT})})})})})})})}));export{yd as g};
